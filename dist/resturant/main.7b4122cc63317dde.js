"use strict";(self.webpackChunkResturant=self.webpackChunkResturant||[]).push([[179],{37:()=>{function Ae(t){return"function"==typeof t}function _u(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const hd=_u(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function us(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class un{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Ae(r))try{r()}catch(o){e=o instanceof hd?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{jD(o)}catch(s){e=e??[],s instanceof hd?e=[...e,...s.errors]:e.push(s)}}if(e)throw new hd(e)}}add(e){var n;if(e&&e!==this)if(this.closed)jD(e);else{if(e instanceof un){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&us(n,e)}remove(e){const{_finalizers:n}=this;n&&us(n,e),e instanceof un&&e._removeParent(this)}}un.EMPTY=(()=>{const t=new un;return t.closed=!0,t})();const UD=un.EMPTY;function BD(t){return t instanceof un||t&&"closed"in t&&Ae(t.remove)&&Ae(t.add)&&Ae(t.unsubscribe)}function jD(t){Ae(t)?t():t.unsubscribe()}const ao={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},fd={setTimeout(t,e,...n){const{delegate:r}=fd;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=fd;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function $D(t){fd.setTimeout(()=>{const{onUnhandledError:e}=ao;if(!e)throw t;e(t)})}function Pg(){}const NU=Mg("C",void 0,void 0);function Mg(t,e,n){return{kind:t,value:e,error:n}}let uo=null;function pd(t){if(ao.useDeprecatedSynchronousErrorHandling){const e=!uo;if(e&&(uo={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=uo;if(uo=null,n)throw r}}else t()}class xg extends un{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,BD(e)&&e.add(this)):this.destination=BU}static create(e,n,r){return new yu(e,n,r)}next(e){this.isStopped?Og(function kU(t){return Mg("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Og(function OU(t){return Mg("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Og(NU,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const FU=Function.prototype.bind;function Ng(t,e){return FU.call(t,e)}class LU{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){gd(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){gd(r)}else gd(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){gd(n)}}}class yu extends xg{constructor(e,n,r){let i;if(super(),Ae(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&ao.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ng(e.next,o),error:e.error&&Ng(e.error,o),complete:e.complete&&Ng(e.complete,o)}):i=e}this.destination=new LU(i)}}function gd(t){ao.useDeprecatedSynchronousErrorHandling?function VU(t){ao.useDeprecatedSynchronousErrorHandling&&uo&&(uo.errorThrown=!0,uo.error=t)}(t):$D(t)}function Og(t,e){const{onStoppedNotification:n}=ao;n&&fd.setTimeout(()=>n(t,e))}const BU={closed:!0,next:Pg,error:function UU(t){throw t},complete:Pg},kg="function"==typeof Symbol&&Symbol.observable||"@@observable";function yi(t){return t}function GD(t){return 0===t.length?yi:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let He=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function GU(t){return t&&t instanceof xg||function $U(t){return t&&Ae(t.next)&&Ae(t.error)&&Ae(t.complete)}(t)&&BD(t)}(n)?n:new yu(n,r,i);return pd(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=HD(r))((i,o)=>{const s=new yu({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[kg](){return this}pipe(...n){return GD(n)(this)}toPromise(n){return new(n=HD(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function HD(t){var e;return null!==(e=t??ao.Promise)&&void 0!==e?e:Promise}const HU=_u(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Zn=(()=>{class t extends He{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new zD(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new HU}next(n){pd(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){pd(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){pd(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?UD:(this.currentObservers=null,o.push(n),new un(()=>{this.currentObservers=null,us(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new He;return n.source=this,n}}return t.create=(e,n)=>new zD(e,n),t})();class zD extends Zn{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:UD}}function qD(t){return Ae(t?.lift)}function ht(t){return e=>{if(qD(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ut(t,e,n,r,i){return new zU(t,e,n,r,i)}class zU extends xg{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function me(t,e){return ht((n,r)=>{let i=0;n.subscribe(ut(r,o=>{r.next(t.call(e,o,i++))}))})}function Lg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function vi(t){return this instanceof vi?(this.v=t,this):new vi(t)}function YD(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Bg(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){!function i(o,s,a,u){Promise.resolve(u).then(function(c){o({value:c,done:a})},s)}(a,u,(s=t[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const ZD=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function JD(t){return Ae(t?.then)}function XD(t){return Ae(t[kg])}function eA(t){return Symbol.asyncIterator&&Ae(t?.[Symbol.asyncIterator])}function tA(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const nA=function hB(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function rA(t){return Ae(t?.[nA])}function iA(t){return function QD(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){o.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof vi?Promise.resolve(h.value.v).then(c,l):d(o[0][2],h)}(r[h](f))}catch(p){d(o[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield vi(n.read());if(i)return yield vi(void 0);yield yield vi(r)}}finally{n.releaseLock()}})}function oA(t){return Ae(t?.getReader)}function vn(t){if(t instanceof He)return t;if(null!=t){if(XD(t))return function fB(t){return new He(e=>{const n=t[kg]();if(Ae(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(ZD(t))return function pB(t){return new He(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(JD(t))return function gB(t){return new He(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,$D)})}(t);if(eA(t))return sA(t);if(rA(t))return function mB(t){return new He(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(oA(t))return function _B(t){return sA(iA(t))}(t)}throw tA(t)}function sA(t){return new He(e=>{(function yB(t,e){var n,r,i,o;return function WD(t,e,n,r){return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?o(l.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=YD(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Br(t,e,n,r=0,i=!1){const o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Ct(t,e,n=1/0){return Ae(e)?Ct((r,i)=>me((o,s)=>e(r,o,i,s))(vn(t(r,i))),n):("number"==typeof e&&(n=e),ht((r,i)=>function vB(t,e,n,r,i,o,s,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=g=>c<r?p(g):u.push(g),p=g=>{o&&e.next(g),c++;let m=!1;vn(n(g,l++)).subscribe(ut(e,v=>{i?.(v),o?f(v):e.next(v)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;u.length&&c<r;){const v=u.shift();s?Br(e,s,()=>p(v)):p(v)}h()}catch(v){e.error(v)}}))};return t.subscribe(ut(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function cs(t=1/0){return Ct(yi,t)}const hr=new He(t=>t.complete());function jg(t){return t[t.length-1]}function aA(t){return Ae(jg(t))?t.pop():void 0}function vu(t){return function EB(t){return t&&Ae(t.schedule)}(jg(t))?t.pop():void 0}function md(t,e=0){return ht((n,r)=>{n.subscribe(ut(r,i=>Br(r,t,()=>r.next(i),e),()=>Br(r,t,()=>r.complete(),e),i=>Br(r,t,()=>r.error(i),e)))})}function _d(t,e=0){return ht((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function uA(t,e){if(!t)throw new Error("Iterable cannot be null");return new He(n=>{Br(n,e,()=>{const r=t[Symbol.asyncIterator]();Br(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function yt(t,e){return e?function SB(t,e){if(null!=t){if(XD(t))return function TB(t,e){return vn(t).pipe(_d(e),md(e))}(t,e);if(ZD(t))return function DB(t,e){return new He(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(JD(t))return function CB(t,e){return vn(t).pipe(_d(e),md(e))}(t,e);if(eA(t))return uA(t,e);if(rA(t))return function AB(t,e){return new He(n=>{let r;return Br(n,e,()=>{r=t[nA](),Br(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>Ae(r?.return)&&r.return()})}(t,e);if(oA(t))return function bB(t,e){return uA(iA(t),e)}(t,e)}throw tA(t)}(t,e):vn(t)}class kn extends Zn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function Q(...t){return yt(t,vu(t))}function cA(t={}){const{connector:e=(()=>new Zn),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=u=void 0,l=d=!1},p=()=>{const g=s;f(),g?.unsubscribe()};return ht((g,m)=>{c++,!d&&!l&&h();const v=u=u??e();m.add(()=>{c--,0===c&&!d&&!l&&(a=$g(p,i))}),v.subscribe(m),!s&&c>0&&(s=new yu({next:_=>v.next(_),error:_=>{d=!0,h(),a=$g(f,n,_),v.error(_)},complete:()=>{l=!0,h(),a=$g(f,r),v.complete()}}),vn(g).subscribe(s))})(o)}}function $g(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new yu({next:()=>{r.unsubscribe(),t()}});return vn(e(...n)).subscribe(r)}function fr(t,e){return ht((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(ut(r,u=>{i?.unsubscribe();let c=0;const l=o++;vn(t(u,l)).subscribe(i=ut(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function MB(t,e){return t===e}function Ie(t){for(let e in t)if(t[e]===Ie)return e;throw Error("Could not find renamed property on target object.")}function yd(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ft(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ft).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Gg(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const xB=Ie({__forward_ref__:Ie});function Re(t){return t.__forward_ref__=Re,t.toString=function(){return ft(this())},t}function W(t){return Hg(t)?t():t}function Hg(t){return"function"==typeof t&&t.hasOwnProperty(xB)&&t.__forward_ref__===Re}function zg(t){return t&&!!t.\u0275providers}const lA="https://g.co/ng/security#xss";class A extends Error{constructor(e,n){super(function vd(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function Z(t){return"string"==typeof t?t:null==t?"":String(t)}function qg(t,e){throw new A(-201,!1)}function Vn(t,e){null==t&&function H(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function j(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function En(t){return{providers:t.providers||[],imports:t.imports||[]}}function Id(t){return dA(t,wd)||dA(t,hA)}function dA(t,e){return t.hasOwnProperty(e)?t[e]:null}function Ed(t){return t&&(t.hasOwnProperty(Wg)||t.hasOwnProperty(BB))?t[Wg]:null}const wd=Ie({\u0275prov:Ie}),Wg=Ie({\u0275inj:Ie}),hA=Ie({ngInjectableDef:Ie}),BB=Ie({ngInjectorDef:Ie});var oe=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(oe||{});let Kg;function cn(t){const e=Kg;return Kg=t,e}function pA(t,e,n){const r=Id(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&oe.Optional?null:void 0!==e?e:void qg(ft(t))}const Pe=globalThis;class V{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=j({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Iu={},Xg="__NG_DI_FLAG__",Td="ngTempTokenPath",GB=/\n/gm,mA="__source";let ls;function Ii(t){const e=ls;return ls=t,e}function qB(t,e=oe.Default){if(void 0===ls)throw new A(-203,!1);return null===ls?pA(t,void 0,e):ls.get(t,e&oe.Optional?null:void 0,e)}function B(t,e=oe.Default){return(function fA(){return Kg}()||qB)(W(t),e)}function F(t,e=oe.Default){return B(t,Cd(e))}function Cd(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function em(t){const e=[];for(let n=0;n<t.length;n++){const r=W(t[n]);if(Array.isArray(r)){if(0===r.length)throw new A(900,!1);let i,o=oe.Default;for(let s=0;s<r.length;s++){const a=r[s],u=WB(a);"number"==typeof u?-1===u?i=a.token:o|=u:i=a}e.push(B(i,o))}else e.push(B(r))}return e}function Eu(t,e){return t[Xg]=e,t.prototype[Xg]=e,t}function WB(t){return t[Xg]}function jr(t){return{toString:t}.toString()}var Dd=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Dd||{}),Jn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Jn||{});const pr={},pe=[],Ad=Ie({\u0275cmp:Ie}),tm=Ie({\u0275dir:Ie}),nm=Ie({\u0275pipe:Ie}),yA=Ie({\u0275mod:Ie}),$r=Ie({\u0275fac:Ie}),wu=Ie({__NG_ELEMENT_ID__:Ie}),vA=Ie({__NG_ENV_ID__:Ie});function IA(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function rm(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{const o=i,s=n[++r];wA(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function EA(t){return 3===t||4===t||6===t}function wA(t){return 64===t.charCodeAt(0)}function Tu(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||TA(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function TA(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}const CA="ng-template";function YB(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if("string"==typeof o&&i){const s=t[r++];if(n&&"class"===o&&-1!==IA(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<t.length&&"string"==typeof(o=t[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function DA(t){return 4===t.type&&t.value!==CA}function ZB(t,e,n){return e===(4!==t.type||n?t.value:CA)}function JB(t,e,n){let r=4;const i=t.attrs||[],o=function tj(t){for(let e=0;e<t.length;e++)if(EA(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!ZB(t,u,n)||""===u&&1===e.length){if(Xn(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!YB(t.attrs,c,n)){if(Xn(r))return!1;s=!0}continue}const d=XB(8&r?"class":u,i,DA(t),n);if(-1===d){if(Xn(r))return!1;s=!0;continue}if(""!==c){let h;h=d>o?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==IA(f,c,0)||2&r&&c!==h){if(Xn(r))return!1;s=!0}}}}else{if(!s&&!Xn(r)&&!Xn(u))return!1;if(s&&Xn(u))continue;s=!1,r=u|1&r}}return Xn(r)||s}function Xn(t){return 0==(1&t)}function XB(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function nj(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function AA(t,e,n=!1){for(let r=0;r<e.length;r++)if(JB(t,e[r],n))return!0;return!1}function bA(t,e){return t?":not("+e.trim()+")":e}function ij(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!Xn(s)&&(e+=bA(o,i),i=""),r=s,o=o||!Xn(r);n++}return""!==i&&(e+=bA(o,i)),e}function er(t){return jr(()=>{const e=RA(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Dd.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Jn.Emulated,styles:t.styles||pe,_:null,schemas:t.schemas||null,tView:null,id:""};PA(n);const r=t.dependencies;return n.directiveDefs=bd(r,!1),n.pipeDefs=bd(r,!0),n.id=function hj(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function uj(t){return le(t)||Dt(t)}function cj(t){return null!==t}function Fn(t){return jr(()=>({type:t.type,bootstrap:t.bootstrap||pe,declarations:t.declarations||pe,imports:t.imports||pe,exports:t.exports||pe,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function SA(t,e){if(null==t)return pr;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}function K(t){return jr(()=>{const e=RA(t);return PA(e),e})}function ln(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function le(t){return t[Ad]||null}function Dt(t){return t[tm]||null}function Qt(t){return t[nm]||null}function wn(t,e){const n=t[yA]||null;if(!n&&!0===e)throw new Error(`Type ${ft(t)} does not have '\u0275mod' property.`);return n}function RA(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||pr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||pe,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:SA(t.inputs,e),outputs:SA(t.outputs)}}function PA(t){t.features?.forEach(e=>e(t))}function bd(t,e){if(!t)return null;const n=e?Qt:uj;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(cj)}const We=0,N=1,te=2,Be=3,tr=4,Cu=5,Ft=6,hs=7,Xe=8,Ei=9,fs=10,J=11,Du=12,MA=13,ps=14,et=15,Au=16,gs=17,gr=18,bu=19,xA=20,wi=21,Gr=22,Su=23,Ru=24,se=25,im=1,NA=2,mr=7,ms=9,At=11;function dn(t){return Array.isArray(t)&&"object"==typeof t[im]}function Yt(t){return Array.isArray(t)&&!0===t[im]}function om(t){return 0!=(4&t.flags)}function lo(t){return t.componentOffset>-1}function Rd(t){return 1==(1&t.flags)}function nr(t){return!!t.template}function sm(t){return 0!=(512&t[te])}function ho(t,e){return t.hasOwnProperty($r)?t[$r]:null}let bt=null,Pd=!1;function Ln(t){const e=bt;return bt=t,e}const VA={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function LA(t){if(!Mu(t)||t.dirty){if(!t.producerMustRecompute(t)&&!jA(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function BA(t){t.dirty=!0,function UA(t){if(void 0===t.liveConsumerNode)return;const e=Pd;Pd=!0;try{for(const n of t.liveConsumerNode)n.dirty||BA(n)}finally{Pd=e}}(t),t.consumerMarkedDirty?.(t)}function um(t){return t&&(t.nextProducerIndex=0),Ln(t)}function cm(t,e){if(Ln(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Mu(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Md(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function jA(t){_s(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(LA(n),r!==n.version))return!0}return!1}function $A(t){if(_s(t),Mu(t))for(let e=0;e<t.producerNode.length;e++)Md(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Md(t,e){if(function HA(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),_s(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)Md(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];_s(i),i.producerIndexOfThis[r]=e}}function Mu(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function _s(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let zA=null;function KA(t){const e=Ln(null);try{return t()}finally{Ln(e)}}const QA=()=>{},Dj=(()=>({...VA,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:QA}))();class Aj{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Un(){return YA}function YA(t){return t.type.prototype.ngOnChanges&&(t.setInput=Sj),bj}function bj(){const t=JA(this),e=t?.current;if(e){const n=t.previous;if(n===pr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Sj(t,e,n,r){const i=this.declaredInputs[n],o=JA(t)||function Rj(t,e){return t[ZA]=e}(t,{previous:pr,current:null}),s=o.current||(o.current={}),a=o.previous,u=a[i];s[i]=new Aj(u&&u.currentValue,e,a===pr),t[r]=e}Un.ngInherit=!0;const ZA="__ngSimpleChanges__";function JA(t){return t[ZA]||null}const _r=function(t,e,n){};function Me(t){for(;Array.isArray(t);)t=t[We];return t}function xd(t,e){return Me(e[t])}function hn(t,e){return Me(e[t.index])}function tb(t,e){return t.data[e]}function ys(t,e){return t[e]}function Tn(t,e){const n=e[t];return dn(n)?n:n[We]}function Ci(t,e){return null==e?null:t[e]}function nb(t){t[gs]=0}function kj(t){1024&t[te]||(t[te]|=1024,ib(t,1))}function rb(t){1024&t[te]&&(t[te]&=-1025,ib(t,-1))}function ib(t,e){let n=t[Be];if(null===n)return;n[Cu]+=e;let r=n;for(n=n[Be];null!==n&&(1===e&&1===r[Cu]||-1===e&&0===r[Cu]);)n[Cu]+=e,r=n,n=n[Be]}const z={lFrame:gb(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function ab(){return z.bindingsEnabled}function T(){return z.lFrame.lView}function de(){return z.lFrame.tView}function yr(t){return z.lFrame.contextLView=t,t[Xe]}function vr(t){return z.lFrame.contextLView=null,t}function St(){let t=ub();for(;null!==t&&64===t.type;)t=t.parent;return t}function ub(){return z.lFrame.currentTNode}function Ir(t,e){const n=z.lFrame;n.currentTNode=t,n.isParent=e}function pm(){return z.lFrame.isParent}function gm(){z.lFrame.isParent=!1}function Is(){return z.lFrame.bindingIndex++}function Wj(t,e){const n=z.lFrame;n.bindingIndex=n.bindingRootIndex=t,mm(e)}function mm(t){z.lFrame.currentDirectiveIndex=t}function hb(){return z.lFrame.currentQueryIndex}function ym(t){z.lFrame.currentQueryIndex=t}function Qj(t){const e=t[N];return 2===e.type?e.declTNode:1===e.type?t[Ft]:null}function fb(t,e,n){if(n&oe.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||n&oe.Host||(i=Qj(o),null===i||(o=o[ps],10&i.type))););if(null===i)return!1;e=i,t=o}const r=z.lFrame=pb();return r.currentTNode=e,r.lView=t,!0}function vm(t){const e=pb(),n=t[N];z.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function pb(){const t=z.lFrame,e=null===t?null:t.child;return null===e?gb(t):e}function gb(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function mb(){const t=z.lFrame;return z.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const _b=mb;function Im(){const t=mb();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Jt(){return z.lFrame.selectedIndex}function fo(t){z.lFrame.selectedIndex=t}function ze(){const t=z.lFrame;return tb(t.tView,t.selectedIndex)}let vb=!0;function Nd(){return vb}function Di(t){vb=t}function Od(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function kd(t,e,n){Ib(t,e,3,n)}function Vd(t,e,n,r){(3&t[te])===n&&Ib(t,e,n,r)}function Em(t,e){let n=t[te];(3&n)===e&&(n&=8191,n+=1,t[te]=n)}function Ib(t,e,n,r){const o=r??-1,s=e.length-1;let a=0;for(let u=void 0!==r?65535&t[gs]:0;u<s;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[gs]+=65536),(a<o||-1==o)&&(r$(t,n,e,u),t[gs]=(4294901760&t[gs])+u+2),u++}function Eb(t,e){_r(4,t,e);const n=Ln(null);try{e.call(t)}finally{Ln(n),_r(5,t,e)}}function r$(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[te]>>13<t[gs]>>16&&(3&t[te])===e&&(t[te]+=8192,Eb(a,o)):Eb(a,o)}const Es=-1;class Nu{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Tm(t){return t!==Es}function Ou(t){return 32767&t}function ku(t,e){let n=function a$(t){return t>>16}(t),r=e;for(;n>0;)r=r[ps],n--;return r}let Cm=!0;function Fd(t){const e=Cm;return Cm=t,e}const wb=255,Tb=5;let u$=0;const Er={};function Ld(t,e){const n=Cb(t,e);if(-1!==n)return n;const r=e[N];r.firstCreatePass&&(t.injectorIndex=e.length,Dm(r.data,t),Dm(e,null),Dm(r.blueprint,null));const i=Ud(t,e),o=t.injectorIndex;if(Tm(i)){const s=Ou(i),a=ku(i,e),u=a[N].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|u[s+c]}return e[o+8]=i,o}function Dm(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Cb(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Ud(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=Mb(i),null===r)return Es;if(n++,i=i[ps],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Es}function Am(t,e,n){!function c$(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(wu)&&(r=n[wu]),null==r&&(r=n[wu]=u$++);const i=r&wb;e.data[t+(i>>Tb)]|=1<<i}(t,e,n)}function Db(t,e,n){if(n&oe.Optional||void 0!==t)return t;qg()}function Ab(t,e,n,r){if(n&oe.Optional&&void 0===r&&(r=null),!(n&(oe.Self|oe.Host))){const i=t[Ei],o=cn(void 0);try{return i?i.get(e,r,n&oe.Optional):pA(e,r,n&oe.Optional)}finally{cn(o)}}return Db(r,0,n)}function bb(t,e,n,r=oe.Default,i){if(null!==t){if(2048&e[te]&&!(r&oe.Self)){const s=function g$(t,e,n,r,i){let o=t,s=e;for(;null!==o&&null!==s&&2048&s[te]&&!(512&s[te]);){const a=Sb(o,s,n,r|oe.Self,Er);if(a!==Er)return a;let u=o.parent;if(!u){const c=s[xA];if(c){const l=c.get(n,Er,r);if(l!==Er)return l}u=Mb(s),s=s[ps]}o=u}return i}(t,e,n,r,Er);if(s!==Er)return s}const o=Sb(t,e,n,r,Er);if(o!==Er)return o}return Ab(e,n,r,i)}function Sb(t,e,n,r,i){const o=function h$(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(wu)?t[wu]:void 0;return"number"==typeof e?e>=0?e&wb:p$:e}(n);if("function"==typeof o){if(!fb(e,t,r))return r&oe.Host?Db(i,0,r):Ab(e,n,r,i);try{let s;if(s=o(r),null!=s||r&oe.Optional)return s;qg()}finally{_b()}}else if("number"==typeof o){let s=null,a=Cb(t,e),u=Es,c=r&oe.Host?e[et][Ft]:null;for((-1===a||r&oe.SkipSelf)&&(u=-1===a?Ud(t,e):e[a+8],u!==Es&&Pb(r,!1)?(s=e[N],a=Ou(u),e=ku(u,e)):a=-1);-1!==a;){const l=e[N];if(Rb(o,a,l.data)){const d=d$(a,e,n,s,r,c);if(d!==Er)return d}u=e[a+8],u!==Es&&Pb(r,e[N].data[a+8]===c)&&Rb(o,a,e)?(s=l,a=Ou(u),e=ku(u,e)):a=-1}}return i}function d$(t,e,n,r,i,o){const s=e[N],a=s.data[t+8],l=Bd(a,s,n,null==r?lo(a)&&Cm:r!=s&&0!=(3&a.type),i&oe.Host&&o===a);return null!==l?po(e,s,l,a):Er}function Bd(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,l=o>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=s[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=s[u];if(f&&nr(f)&&f.type===n)return u}return null}function po(t,e,n,r){let i=t[n];const o=e.data;if(function i$(t){return t instanceof Nu}(i)){const s=i;s.resolving&&function NB(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new A(-200,`Circular dependency in DI detected for ${t}${n}`)}(function ve(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Z(t)}(o[n]));const a=Fd(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?cn(s.injectImpl):null;fb(t,r,oe.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function n$(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=YA(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}(n,o[n],e)}finally{null!==c&&cn(c),Fd(a),s.resolving=!1,_b()}}return i}function Rb(t,e,n){return!!(n[e+(t>>Tb)]&1<<t)}function Pb(t,e){return!(t&oe.Self||t&oe.Host&&e)}class Xt{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return bb(this._tNode,this._lView,e,Cd(r),n)}}function p$(){return new Xt(St(),T())}function Rt(t){return jr(()=>{const e=t.prototype.constructor,n=e[$r]||bm(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[$r]||bm(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function bm(t){return Hg(t)?()=>{const e=bm(W(t));return e&&e()}:ho(t)}function Mb(t){const e=t[N],n=e.type;return 2===n?e.declTNode:1===n?t[Ft]:null}const Ts="__parameters__";function Ds(t,e,n){return jr(()=>{const r=function Sm(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(u,c,l){const d=u.hasOwnProperty(Ts)?u[Ts]:Object.defineProperty(u,Ts,{value:[]})[Ts];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function bs(t,e){t.forEach(n=>Array.isArray(n)?bs(n,e):e(n))}function Nb(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function $d(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Cn(t,e,n){let r=Ss(t,e);return r>=0?t[1|r]=n:(r=~r,function w$(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Rm(t,e){const n=Ss(t,e);if(n>=0)return t[1|n]}function Ss(t,e){return function Ob(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}(t,e,1)}const jn=Eu(Ds("Optional"),8),Hd=Eu(Ds("SkipSelf"),4);function Qd(t){return 128==(128&t.flags)}var Ai=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Ai||{});const G$=/^>|^->|<!--|-->|--!>|<!-$/g,H$=/(<|>)/g,z$="\u200b$1\u200b";const Om=new Map;let q$=0;const Vm="__ngContext__";function Lt(t,e){dn(e)?(t[Vm]=e[bu],function K$(t){Om.set(t[bu],t)}(e)):t[Vm]=e}let Fm;function Lm(t,e){return Fm(t,e)}function ju(t){const e=t[Be];return Yt(e)?e[Be]:e}function eS(t){return nS(t[Du])}function tS(t){return nS(t[tr])}function nS(t){for(;null!==t&&!Yt(t);)t=t[tr];return t}function Ms(t,e,n,r,i){if(null!=r){let o,s=!1;Yt(r)?o=r:dn(r)&&(s=!0,r=r[We]);const a=Me(r);0===t&&null!==n?null==i?sS(e,n,a):go(e,n,a,i||null,!0):1===t&&null!==n?go(e,n,a,i||null,!0):2===t?function nh(t,e,n){const r=eh(t,e);r&&function fG(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function mG(t,e,n,r,i){const o=n[mr];o!==Me(n)&&Ms(e,t,r,o,i);for(let a=At;a<n.length;a++){const u=n[a];Gu(u[N],u,t,e,r,o)}}(e,t,o,n,i)}}function Um(t,e){return t.createComment(function qb(t){return t.replace(G$,e=>e.replace(H$,z$))}(e))}function Jd(t,e,n){return t.createElement(e,n)}function iS(t,e){const n=t[ms],r=n.indexOf(e);rb(e),n.splice(r,1)}function Xd(t,e){if(t.length<=At)return;const n=At+e,r=t[n];if(r){const i=r[Au];null!==i&&i!==t&&iS(i,r),e>0&&(t[n-1][tr]=r[tr]);const o=$d(t,At+e);!function oG(t,e){Gu(t,e,e[J],2,null,null),e[We]=null,e[Ft]=null}(r[N],r);const s=o[gr];null!==s&&s.detachView(o[N]),r[Be]=null,r[tr]=null,r[te]&=-129}return r}function Bm(t,e){if(!(256&e[te])){const n=e[J];e[Su]&&$A(e[Su]),e[Ru]&&$A(e[Ru]),n.destroyNode&&Gu(t,e,n,3,null,null),function uG(t){let e=t[Du];if(!e)return jm(t[N],t);for(;e;){let n=null;if(dn(e))n=e[Du];else{const r=e[At];r&&(n=r)}if(!n){for(;e&&!e[tr]&&e!==t;)dn(e)&&jm(e[N],e),e=e[Be];null===e&&(e=t),dn(e)&&jm(e[N],e),n=e&&e[tr]}e=n}}(e)}}function jm(t,e){if(!(256&e[te])){e[te]&=-129,e[te]|=256,function hG(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Nu)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],u=o[s+1];_r(4,a,u);try{u.call(a)}finally{_r(5,a,u)}}else{_r(4,i,o);try{o.call(i)}finally{_r(5,i,o)}}}}}(t,e),function dG(t,e){const n=t.cleanup,r=e[hs];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(e[hs]=null);const i=e[wi];if(null!==i){e[wi]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(t,e),1===e[N].type&&e[J].destroy();const n=e[Au];if(null!==n&&Yt(e[Be])){n!==e[Be]&&iS(n,e);const r=e[gr];null!==r&&r.detachView(t)}!function Q$(t){Om.delete(t[bu])}(e)}}function $m(t,e,n){return function oS(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[We];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=t.data[r.directiveStart+i];if(o===Jn.None||o===Jn.Emulated)return null}return hn(r,n)}}(t,e.parent,n)}function go(t,e,n,r,i){t.insertBefore(e,n,r,i)}function sS(t,e,n){t.appendChild(e,n)}function aS(t,e,n,r,i){null!==r?go(t,e,n,r,i):sS(t,e,n)}function eh(t,e){return t.parentNode(e)}let Gm,Wm,ih,lS=function cS(t,e,n){return 40&t.type?hn(t,n):null};function th(t,e,n,r){const i=$m(t,r,e),o=e[J],a=function uS(t,e,n){return lS(t,e,n)}(r.parent||e[Ft],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)aS(o,i,n[u],a,!1);else aS(o,i,n,a,!1);void 0!==Gm&&Gm(o,r,e,n,i)}function $u(t,e){if(null!==e){const n=e.type;if(3&n)return hn(e,t);if(4&n)return Hm(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return $u(t,r);{const i=t[e.index];return Yt(i)?Hm(-1,i):Me(i)}}if(32&n)return Lm(e,t)()||Me(t[e.index]);{const r=hS(t,e);return null!==r?Array.isArray(r)?r[0]:$u(ju(t[et]),r):$u(t,e.next)}}return null}function hS(t,e){return null!==e?t[et][Ft].projection[e.projection]:null}function Hm(t,e){const n=At+t+1;if(n<e.length){const r=e[n],i=r[N].firstChild;if(null!==i)return $u(r,i)}return e[mr]}function zm(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&Lt(Me(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)zm(t,e,n.child,r,i,o,!1),Ms(e,t,i,a,o);else if(32&u){const c=Lm(n,r);let l;for(;l=c();)Ms(e,t,i,l,o);Ms(e,t,i,a,o)}else 16&u?pS(t,e,r,n,i,o):Ms(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Gu(t,e,n,r,i,o){zm(n,r,t.firstChild,e,i,o,!1)}function pS(t,e,n,r,i,o){const s=n[et],u=s[Ft].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Ms(e,t,i,u[c],o);else{let c=u;const l=s[Be];Qd(r)&&(c.flags|=128),zm(t,e,c,l,i,o,!0)}}function gS(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function mS(t,e,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&rm(t,e,r),null!==i&&gS(t,e,i),null!==o&&function yG(t,e,n){t.setAttribute(e,"style",n)}(t,e,o)}function vS(t){return function Km(){if(void 0===ih&&(ih=null,Pe.trustedTypes))try{ih=Pe.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ih}()?.createScriptURL(t)||t}class IS{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${lA})`}}function bi(t){return t instanceof IS?t.changingThisBreaksApplicationSecurity:t}function Hu(t,e){const n=function SG(t){return t instanceof IS&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${lA})`)}return n===e}const xG=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Os=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Os||{});function bS(t){const e=qu();return e?e.sanitize(Os.URL,t)||"":Hu(t,"URL")?bi(t):function Qm(t){return(t=String(t)).match(xG)?t:"unsafe:"+t}(Z(t))}function SS(t){const e=qu();if(e)return vS(e.sanitize(Os.RESOURCE_URL,t)||"");if(Hu(t,"ResourceURL"))return vS(bi(t));throw new A(904,!1)}function qu(){const t=T();return t&&t[fs].sanitizer}const Wu=new V("ENVIRONMENT_INITIALIZER"),PS=new V("INJECTOR",-1),MS=new V("INJECTOR_DEF_TYPES");class Xm{get(e,n=Iu){if(n===Iu){const r=new Error(`NullInjectorError: No provider for ${ft(e)}!`);throw r.name="NullInjectorError",r}return n}}function zG(...t){return{\u0275providers:NS(0,t),\u0275fromNgModule:!0}}function NS(t,...e){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return bs(e,s=>{const a=s;sh(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&OS(i,o),n}function OS(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];e_(i,o=>{e(o,r)})}}function sh(t,e,n,r){if(!(t=W(t)))return!1;let i=null,o=Ed(t);const s=!o&&le(t);if(o||s){if(s&&!s.standalone)return!1;i=t}else{const u=t.ngModule;if(o=Ed(u),!o)return!1;i=u}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const u="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of u)sh(c,e,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;r.add(i);try{bs(o.imports,l=>{sh(l,e,n,r)&&(c||=[],c.push(l))})}finally{}void 0!==c&&OS(c,e)}if(!a){const c=ho(i)||(()=>new i);e({provide:i,useFactory:c,deps:pe},i),e({provide:MS,useValue:i,multi:!0},i),e({provide:Wu,useValue:()=>B(i),multi:!0},i)}const u=o.providers;if(null!=u&&!a){const c=t;e_(u,l=>{e(l,c)})}}}return i!==t&&void 0!==t.providers}function e_(t,e){for(let n of t)zg(n)&&(n=n.\u0275providers),Array.isArray(n)?e_(n,e):e(n)}const qG=Ie({provide:String,useValue:Ie});function t_(t){return null!==t&&"object"==typeof t&&qG in t}function mo(t){return"function"==typeof t}const n_=new V("Set Injector scope."),ah={},KG={};let r_;function uh(){return void 0===r_&&(r_=new Xm),r_}class $n{}class ks extends $n{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,o_(e,s=>this.processProvider(s)),this.records.set(PS,Vs(void 0,this)),i.has("environment")&&this.records.set($n,Vs(void 0,this));const o=this.records.get(n_);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(MS.multi,pe,oe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Ii(this),r=cn(void 0);try{return e()}finally{Ii(n),cn(r)}}get(e,n=Iu,r=oe.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(vA))return e[vA](this);r=Cd(r);const o=Ii(this),s=cn(void 0);try{if(!(r&oe.SkipSelf)){let u=this.records.get(e);if(void 0===u){const c=function XG(t){return"function"==typeof t||"object"==typeof t&&t instanceof V}(e)&&Id(e);u=c&&this.injectableDefInScope(c)?Vs(i_(e),ah):null,this.records.set(e,u)}if(null!=u)return this.hydrate(e,u)}return(r&oe.Self?uh():this.parent).get(e,n=r&oe.Optional&&n===Iu?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Td]=a[Td]||[]).unshift(ft(e)),o)throw a;return function KB(t,e,n,r){const i=t[Td];throw e[mA]&&i.unshift(e[mA]),t.message=function QB(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=ft(e);if(Array.isArray(e))i=e.map(ft).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):ft(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(GB,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Td]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{cn(s),Ii(o)}}resolveInjectorInitializers(){const e=Ii(this),n=cn(void 0);try{const i=this.get(Wu.multi,pe,oe.Self);for(const o of i)o()}finally{Ii(e),cn(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(ft(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new A(205,!1)}processProvider(e){let n=mo(e=W(e))?e:W(e&&e.provide);const r=function YG(t){return t_(t)?Vs(void 0,t.useValue):Vs(FS(t),ah)}(e);if(mo(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Vs(void 0,ah,!0),i.factory=()=>em(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===ah&&(n.value=KG,n.value=n.factory()),"object"==typeof n.value&&n.value&&function JG(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=W(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function i_(t){const e=Id(t),n=null!==e?e.factory:ho(t);if(null!==n)return n;if(t instanceof V)throw new A(204,!1);if(t instanceof Function)return function QG(t){const e=t.length;if(e>0)throw function Lu(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new A(204,!1);const n=function UB(t){return t&&(t[wd]||t[hA])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new A(204,!1)}function FS(t,e,n){let r;if(mo(t)){const i=W(t);return ho(i)||i_(i)}if(t_(t))r=()=>W(t.useValue);else if(function VS(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...em(t.deps||[]));else if(function kS(t){return!(!t||!t.useExisting)}(t))r=()=>B(W(t.useExisting));else{const i=W(t&&(t.useClass||t.provide));if(!function ZG(t){return!!t.deps}(t))return ho(i)||i_(i);r=()=>new i(...em(t.deps))}return r}function Vs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function o_(t,e){for(const n of t)Array.isArray(n)?o_(n,e):n&&zg(n)?o_(n.\u0275providers,e):e(n)}const ch=new V("AppId",{providedIn:"root",factory:()=>eH}),eH="ng",LS=new V("Platform Initializer"),_o=new V("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),US=new V("CSP nonce",{providedIn:"root",factory:()=>function Ns(){if(void 0!==Wm)return Wm;if(typeof document<"u")return document;throw new A(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let BS=(t,e,n)=>null;function f_(t,e,n=!1){return BS(t,e,n)}class lH{}class GS{}class hH{resolveComponentFactory(e){throw function dH(t){const e=Error(`No component factory found for ${ft(t)}.`);return e.ngComponent=t,e}(e)}}let gh=(()=>{class t{static#e=this.NULL=new hH}return t})();function fH(){return Us(St(),T())}function Us(t,e){return new Dn(hn(t,e))}let Dn=(()=>{class t{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=fH}return t})();function pH(t){return t instanceof Dn?t.nativeElement:t}class zS{}let Wr=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function gH(){const t=T(),n=Tn(St().index,t);return(dn(n)?n:t)[J]}()}return t})(),mH=(()=>{class t{static#e=this.\u0275prov=j({token:t,providedIn:"root",factory:()=>null})}return t})();class Bs{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const qS=new Bs("16.2.12"),m_={};function YS(t,e=null,n=null,r){const i=ZS(t,e,n,r);return i.resolveInjectorInitializers(),i}function ZS(t,e=null,n=null,r,i=new Set){const o=[n||pe,zG(t)];return r=r||("object"==typeof t?void 0:ft(t)),new ks(o,e||uh(),r||null,i)}let en=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=Iu;static#t=this.NULL=new Xm;static create(n,r){if(Array.isArray(n))return YS({name:""},r,n,"");{const i=n.name??"";return YS({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=j({token:t,providedIn:"any",factory:()=>B(PS)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function y_(t){return t.ngOriginalError}class Kr{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&y_(e);for(;n&&y_(n);)n=y_(n);return n||null}}function I_(t){return e=>{setTimeout(t,void 0,e)}}const Ke=class TH extends Zn{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=I_(o),i&&(i=I_(i)),s&&(s=I_(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof un&&e.add(a),a}};function XS(...t){}class Ee{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ke(!1),this.onMicrotaskEmpty=new Ke(!1),this.onStable=new Ke(!1),this.onError=new Ke(!1),typeof Zone>"u")throw new A(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function CH(){const t="function"==typeof Pe.requestAnimationFrame;let e=Pe[t?"requestAnimationFrame":"setTimeout"],n=Pe[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function bH(t){const e=()=>{!function AH(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Pe,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,w_(t),t.isCheckStableRunning=!0,E_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),w_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(function RH(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,o,s,a);try{return e0(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),t0(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return e0(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),t0(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,w_(t),E_(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ee.isInAngularZone())throw new A(909,!1)}static assertNotInAngularZone(){if(Ee.isInAngularZone())throw new A(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,DH,XS,XS);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const DH={};function E_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function w_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function e0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function t0(t){t._nesting--,E_(t)}class SH{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ke,this.onMicrotaskEmpty=new Ke,this.onStable=new Ke,this.onError=new Ke}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const n0=new V("",{providedIn:"root",factory:r0});function r0(){const t=F(Ee);let e=!0;return function RB(...t){const e=vu(t),n=function wB(t,e){return"number"==typeof jg(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?vn(r[0]):cs(n)(yt(r,e)):hr}(new He(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new He(i=>{let o;t.runOutsideAngular(()=>{o=t.onStable.subscribe(()=>{Ee.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const s=t.onUnstable.subscribe(()=>{Ee.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(cA()))}function Qr(t){return t instanceof Function?t():t}let T_=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=j({token:t,providedIn:"root",factory:()=>new t})}return t})();function Yu(t){for(;t;){t[te]|=64;const e=ju(t);if(sm(t)&&!e)return t;t=e}return null}const c0=new V("",{providedIn:"root",factory:()=>!1});let _h=null;function f0(t,e){return t[e]??m0()}function p0(t,e){const n=m0();n.producerNode?.length&&(t[e]=_h,n.lView=t,_h=g0())}const UH={...VA,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Yu(t.lView)},lView:null};function g0(){return Object.create(UH)}function m0(){return _h??=g0(),_h}const ee={};function Ut(t){_0(de(),T(),Jt()+t,!1)}function _0(t,e,n,r){if(!r)if(3==(3&e[te])){const o=t.preOrderCheckHooks;null!==o&&kd(e,o,n)}else{const o=t.preOrderHooks;null!==o&&Vd(e,o,0,n)}fo(n)}function b(t,e=oe.Default){const n=T();return null===n?B(t,e):bb(St(),n,W(t),e)}function yh(t,e,n,r,i,o,s,a,u,c,l){const d=e.blueprint.slice();return d[We]=i,d[te]=140|r,(null!==c||t&&2048&t[te])&&(d[te]|=2048),nb(d),d[Be]=d[ps]=t,d[Xe]=n,d[fs]=s||t&&t[fs],d[J]=a||t&&t[J],d[Ei]=u||t&&t[Ei]||null,d[Ft]=o,d[bu]=function W$(){return q$++}(),d[Gr]=l,d[xA]=c,d[et]=2==e.type?t[et]:d,d}function Gs(t,e,n,r,i){let o=t.data[e];if(null===o)o=function C_(t,e,n,r,i){const o=ub(),s=pm(),u=t.data[e]=function WH(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return function vs(){return null!==z.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==o&&(s?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u,u.prev=o)),u}(t,e,n,r,i),function qj(){return z.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function xu(){const t=z.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Ir(o,!0),o}function Zu(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function v0(t,e,n,r,i){const o=f0(e,Su),s=Jt(),a=2&r;try{fo(-1),a&&e.length>se&&_0(t,e,se,!1),_r(a?2:0,i);const c=a?o:null,l=um(c);try{null!==c&&(c.dirty=!1),n(r,i)}finally{cm(c,l)}}finally{a&&null===e[Su]&&p0(e,Su),fo(s),_r(a?3:1,i)}}function D_(t,e,n){if(om(e)){const r=Ln(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{Ln(r)}}}function A_(t,e,n){ab()&&(function e4(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;lo(n)&&function a4(t,e,n){const r=hn(e,t),i=I0(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=vh(t,yh(t,i,null,s,r,e,null,t[fs].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Ld(n,e),Lt(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const u=t.data[a],c=po(e,t,a,n);Lt(c,e),null!==s&&u4(0,a-i,c,u,0,s),nr(u)&&(Tn(n.index,e)[Xe]=po(e,t,a,n))}}(t,e,n,hn(n,e)),64==(64&n.flags)&&D0(t,e,n))}function b_(t,e,n=hn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function I0(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=S_(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function S_(t,e,n,r,i,o,s,a,u,c,l){const d=se+r,h=d+i,f=function jH(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ee);return n}(d,h),p="function"==typeof c?c():c;return f[N]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:l}}let E0=t=>null;function w0(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const o=t[i];null===r?T0(n,e,i,o):r.hasOwnProperty(i)&&T0(n,e,r[i],o)}return n}function T0(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function R_(t,e,n,r){if(ab()){const i=null===r?null:{"":-1},o=function n4(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(AA(e,s.selectors,!1))if(r||(r=[]),nr(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),P_(t,e,a.length)}else r.unshift(s),P_(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(t,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&C0(t,e,n,s,i,a),i&&function r4(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new A(-301,!1);r.push(e[i],o)}}}(n,r,i)}n.mergedAttrs=Tu(n.mergedAttrs,n.attrs)}function C0(t,e,n,r,i,o){for(let c=0;c<r.length;c++)Am(Ld(n,e),t,r[c].type);!function o4(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let s=!1,a=!1,u=Zu(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=Tu(n.mergedAttrs,l.hostAttrs),s4(t,n,e,u,l),i4(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function KH(t,e,n){const i=e.directiveEnd,o=t.data,s=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=o[l],h=n?n.get(d):null,p=h?h.outputs:null;u=w0(d.inputs,l,u,h?h.inputs:null),c=w0(d.outputs,l,c,p);const g=null===u||null===s||DA(e)?null:c4(u,l,s);a.push(g)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,o)}function D0(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function Kj(){return z.lFrame.currentDirectiveIndex}();try{fo(o);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];mm(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&t4(u,c)}}finally{fo(-1),mm(s)}}function t4(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function P_(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function i4(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;nr(e)&&(n[""]=t)}}function s4(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=ho(i.type)),s=new Nu(o,nr(i),b);t.blueprint[r]=s,n[r]=s,function JH(t,e,n,r,i){const o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~e.index;(function XH(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(t,e,r,Zu(t,n,i.hostVars,ee),i)}function wr(t,e,n,r,i,o){const s=hn(t,e);!function M_(t,e,n,r,i,o,s){if(null==o)t.removeAttribute(e,i,n);else{const a=null==s?Z(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}(e[J],s,o,t.value,n,r,i)}function u4(t,e,n,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)A0(r,n,s[a++],s[a++],s[a++])}function A0(t,e,n,r,i){const o=Ln(null);try{const s=t.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{Ln(o)}}function c4(t,e,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===r&&(r=[]);const s=t[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function b0(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function S0(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r+1];if(-1!==o){const s=t.data[o];ym(n[r]),s.contentQueries(2,e[o],o)}}}function vh(t,e){return t[Du]?t[MA][tr]=e:t[Du]=e,t[MA]=e,e}function x_(t,e,n){ym(0);const r=Ln(null);try{e(t,n)}finally{Ln(r)}}function R0(t){return t[hs]||(t[hs]=[])}function P0(t){return t.cleanup||(t.cleanup=[])}function x0(t,e){const n=t[Ei],r=n?n.get(Kr,null):null;r&&r.handleError(e)}function N_(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++];A0(t.data[s],e[s],r,a,i)}}function l4(t,e){const n=Tn(e,t),r=n[N];!function d4(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[We];null!==i&&null===n[Gr]&&(n[Gr]=f_(i,n[Ei])),O_(r,n,n[Xe])}function O_(t,e,n){vm(e);try{const r=t.viewQuery;null!==r&&x_(1,r,n);const i=t.template;null!==i&&v0(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&S0(t,e),t.staticViewQueries&&x_(2,t.viewQuery,n);const o=t.components;null!==o&&function h4(t,e){for(let n=0;n<e.length;n++)l4(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[te]&=-5,Im()}}let N0=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const o=typeof Zone>"u"?null:Zone.current,s=function Cj(t,e,n){const r=Object.create(Dj);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=s=>{r.cleanupFn=s};return r.ref={notify:()=>BA(r),run:()=>{if(r.dirty=!1,r.hasRun&&!jA(r))return;r.hasRun=!0;const s=um(r);try{r.cleanupFn(),r.cleanupFn=QA,r.fn(i)}finally{cm(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(n,c=>{this.all.has(c)&&this.queue.set(c,o)},i);let a;this.all.add(s),s.notify();const u=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=j({token:t,providedIn:"root",factory:()=>new t})}return t})();function Ih(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=Gg(i,a):2==o&&(r=Gg(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Ju(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];null!==o&&r.push(Me(o)),Yt(o)&&O0(o,r);const s=n.type;if(8&s)Ju(t,e,n.child,r);else if(32&s){const a=Lm(n,e);let u;for(;u=a();)r.push(u)}else if(16&s){const a=hS(e,n);if(Array.isArray(a))r.push(...a);else{const u=ju(e[et]);Ju(u[N],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function O0(t,e){for(let n=At;n<t.length;n++){const r=t[n],i=r[N].firstChild;null!==i&&Ju(r[N],r,i,e)}t[mr]!==t[We]&&e.push(t[mr])}function Eh(t,e,n,r=!0){const i=e[fs],o=i.rendererFactory,s=i.afterRenderEventManager;o.begin?.(),s?.begin();try{k0(t,e,t.template,n)}catch(u){throw r&&x0(e,u),u}finally{o.end?.(),i.effectManager?.flush(),s?.end()}}function k0(t,e,n,r){const i=e[te];if(256!=(256&i)){e[fs].effectManager?.flush(),vm(e);try{nb(e),function lb(t){return z.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&v0(t,e,n,2,r);const s=3==(3&i);if(s){const c=t.preOrderCheckHooks;null!==c&&kd(e,c,null)}else{const c=t.preOrderHooks;null!==c&&Vd(e,c,0,null),Em(e,0)}if(function g4(t){for(let e=eS(t);null!==e;e=tS(e)){if(!e[NA])continue;const n=e[ms];for(let r=0;r<n.length;r++){kj(n[r])}}}(e),V0(e,2),null!==t.contentQueries&&S0(t,e),s){const c=t.contentCheckHooks;null!==c&&kd(e,c)}else{const c=t.contentHooks;null!==c&&Vd(e,c,1),Em(e,1)}!function BH(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=f0(e,Ru);try{for(let i=0;i<n.length;i++){const o=n[i];if(o<0)fo(~o);else{const s=o,a=n[++i],u=n[++i];Wj(a,s),r.dirty=!1;const c=um(r);try{u(2,e[s])}finally{cm(r,c)}}}}finally{null===e[Ru]&&p0(e,Ru),fo(-1)}}(t,e);const a=t.components;null!==a&&L0(e,a,0);const u=t.viewQuery;if(null!==u&&x_(2,u,r),s){const c=t.viewCheckHooks;null!==c&&kd(e,c)}else{const c=t.viewHooks;null!==c&&Vd(e,c,2),Em(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[te]&=-73,rb(e)}finally{Im()}}}function V0(t,e){for(let n=eS(t);null!==n;n=tS(n))for(let r=At;r<n.length;r++)F0(n[r],e)}function m4(t,e,n){F0(Tn(e,t),n)}function F0(t,e){if(!function Nj(t){return 128==(128&t[te])}(t))return;const n=t[N],r=t[te];if(80&r&&0===e||1024&r||2===e)k0(n,t,n.template,t[Xe]);else if(t[Cu]>0){V0(t,1);const i=n.components;null!==i&&L0(t,i,1)}}function L0(t,e,n){for(let r=0;r<e.length;r++)m4(t,e[r],n)}class Xu{get rootNodes(){const e=this._lView,n=e[N];return Ju(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Xe]}set context(e){this._lView[Xe]=e}get destroyed(){return 256==(256&this._lView[te])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Be];if(Yt(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Xd(e,r),$d(n,r))}this._attachedToViewContainer=!1}Bm(this._lView[N],this._lView)}onDestroy(e){!function ob(t,e){if(256==(256&t[te]))throw new A(911,!1);null===t[wi]&&(t[wi]=[]),t[wi].push(e)}(this._lView,e)}markForCheck(){Yu(this._cdRefInjectingView||this._lView)}detach(){this._lView[te]&=-129}reattach(){this._lView[te]|=128}detectChanges(){Eh(this._lView[N],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new A(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function aG(t,e){Gu(t,e,e[J],2,null,null)}(this._lView[N],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new A(902,!1);this._appRef=e}}class _4 extends Xu{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Eh(e[N],e,e[Xe],!1)}checkNoChanges(){}get context(){return null}}class U0 extends gh{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=le(e);return new ec(n,this.ngModule)}}function B0(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class v4{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Cd(r);const i=this.injector.get(e,m_,r);return i!==m_||n===m_?i:this.parentInjector.get(e,n,r)}}class ec extends GS{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=B0(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return B0(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function oj(t){return t.map(ij).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=(i=i||this.ngModule)instanceof $n?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new v4(e,o):e,a=s.get(zS,null);if(null===a)throw new A(407,!1);const d={rendererFactory:a,sanitizer:s.get(mH,null),effectManager:s.get(N0,null),afterRenderEventManager:s.get(T_,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=r?function $H(t,e,n,r){const o=r.get(c0,!1)||n===Jn.ShadowDom,s=t.selectRootElement(e,o);return function GH(t){E0(t)}(s),s}(h,r,this.componentDef.encapsulation,s):Jd(h,f,function y4(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f)),v=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let _=null;null!==p&&(_=f_(p,s,!0));const w=S_(0,null,null,1,0,null,null,null,null,null,null),S=yh(null,w,null,v,null,null,d,h,s,null,_);let k,q;vm(S);try{const ge=this.componentDef;let at,_i=null;ge.findHostDirectiveDefs?(at=[],_i=new Map,ge.findHostDirectiveDefs(ge,at,_i),at.push(ge)):at=[ge];const mu=function E4(t,e){const n=t[N],r=se;return t[r]=e,Gs(n,r,2,"#host",null)}(S,p),Koe=function w4(t,e,n,r,i,o,s){const a=i[N];!function T4(t,e,n,r){for(const i of t)e.mergedAttrs=Tu(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Ih(e,e.mergedAttrs,!0),null!==n&&mS(r,n,e))}(r,t,e,s);let u=null;null!==e&&(u=f_(e,i[Ei]));const c=o.rendererFactory.createRenderer(e,n);let l=16;n.signals?l=4096:n.onPush&&(l=64);const d=yh(i,I0(n),null,l,i[t.index],t,o,c,null,null,u);return a.firstCreatePass&&P_(a,t,r.length-1),vh(i,d),i[t.index]=d}(mu,p,ge,at,S,d,h);q=tb(w,se),p&&function D4(t,e,n,r){if(r)rm(t,n,["ng-version",qS.full]);else{const{attrs:i,classes:o}=function sj(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Xn(i))break;i=o}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&rm(t,n,i),o&&o.length>0&&gS(t,n,o.join(" "))}}(h,ge,p,r),void 0!==n&&function A4(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(q,this.ngContentSelectors,n),k=function C4(t,e,n,r,i,o){const s=St(),a=i[N],u=hn(s,i);C0(a,i,s,n,null,r);for(let l=0;l<n.length;l++)Lt(po(i,a,s.directiveStart+l,s),i);D0(a,i,s),u&&Lt(u,i);const c=po(i,a,s.directiveStart+s.componentOffset,s);if(t[Xe]=i[Xe]=c,null!==o)for(const l of o)l(c,e);return D_(a,s,t),c}(Koe,ge,at,_i,S,[b4]),O_(w,S,null)}finally{Im()}return new I4(this.componentType,k,Us(q,S),S,q)}}class I4 extends lH{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new _4(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const o=this._rootLView;N_(o[N],o,i,e,n),this.previousInputValues.set(e,n),Yu(Tn(this._tNode.index,o))}}get injector(){return new Xt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function b4(){const t=St();Od(T()[N],t)}function we(t){let e=function j0(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(nr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new A(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const s=t;s.inputs=wh(t.inputs),s.inputTransforms=wh(t.inputTransforms),s.declaredInputs=wh(t.declaredInputs),s.outputs=wh(t.outputs);const a=i.hostBindings;a&&M4(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&R4(t,u),c&&P4(t,c),yd(t.inputs,i.inputs),yd(t.declaredInputs,i.declaredInputs),yd(t.outputs,i.outputs),null!==i.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),yd(s.inputTransforms,i.inputTransforms)),nr(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(t),a===we&&(n=!1)}}e=Object.getPrototypeOf(e)}!function S4(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Tu(i.hostAttrs,n=Tu(n,i.hostAttrs))}}(r)}function wh(t){return t===pr?{}:t===pe?[]:t}function R4(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function P4(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,o)=>{e(r,i,o),n(r,i,o)}:e}function M4(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function z0(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function Th(t){return!!function k_(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Bt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Cr(t,e,n,r){const i=T();return Bt(i,Is(),e)&&(de(),wr(ze(),i,t,e,n,r)),Cr}function bn(t,e,n,r,i,o,s,a){const u=T(),c=de(),l=t+se,d=c.firstCreatePass?function nz(t,e,n,r,i,o,s,a,u){const c=e.consts,l=Gs(e,t,4,s||null,Ci(c,a));R_(e,n,l,Ci(c,u)),Od(e,l);const d=l.tView=S_(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];Ir(d,!1);const h=iR(c,u,d,t);Nd()&&th(c,u,h,d),Lt(h,u),vh(u,u[l]=b0(h,u,h,d)),Rd(d)&&A_(c,u,d),null!=s&&b_(u,d,a)}let iR=function oR(t,e,n,r){return Di(!0),e[J].createComment("")};function j_(t){return ys(function zj(){return z.lFrame.contextLView}(),se+t)}function jt(t,e,n){const r=T();return Bt(r,Is(),e)&&function An(t,e,n,r,i,o,s,a){const u=hn(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(N_(t,n,l,r,i),lo(e)&&function YH(t,e){const n=Tn(e,t);16&n[te]||(n[te]|=64)}(n,e.index)):3&e.type&&(r=function QH(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(u,r,i))}(de(),ze(),r,t,e,r[J],n,!1),jt}function $_(t,e,n,r,i){const s=i?"class":"style";N_(t,n,e.inputs[s],s,r)}function G(t,e,n,r){const i=T(),o=de(),s=se+t,a=i[J],u=o.firstCreatePass?function sz(t,e,n,r,i,o){const s=e.consts,u=Gs(e,t,2,r,Ci(s,i));return R_(e,n,u,Ci(s,o)),null!==u.attrs&&Ih(u,u.attrs,!1),null!==u.mergedAttrs&&Ih(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,e,n,r):o.data[s],c=sR(o,i,u,a,e,t);i[s]=c;const l=Rd(u);return Ir(u,!0),mS(a,c,u),32!=(32&u.flags)&&Nd()&&th(o,i,c,u),0===function Fj(){return z.lFrame.elementDepthCount}()&&Lt(c,i),function Lj(){z.lFrame.elementDepthCount++}(),l&&(A_(o,i,u),D_(o,u,i)),null!==r&&b_(i,u),G}function $(){let t=St();pm()?gm():(t=t.parent,Ir(t,!1));const e=t;(function Bj(t){return z.skipHydrationRootTNode===t})(e)&&function Hj(){z.skipHydrationRootTNode=null}(),function Uj(){z.lFrame.elementDepthCount--}();const n=de();return n.firstCreatePass&&(Od(n,t),om(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function o$(t){return 0!=(8&t.flags)}(e)&&$_(n,e,T(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function s$(t){return 0!=(16&t.flags)}(e)&&$_(n,e,T(),e.stylesWithoutHost,!1),$}function Pt(t,e,n,r){return G(t,e,n,r),$(),Pt}let sR=(t,e,n,r,i,o)=>(Di(!0),Jd(r,i,function yb(){return z.lFrame.currentNamespace}()));function oc(t,e,n){const r=T(),i=de(),o=t+se,s=i.firstCreatePass?function cz(t,e,n,r,i){const o=e.consts,s=Ci(o,r),a=Gs(e,t,8,"ng-container",s);return null!==s&&Ih(a,s,!0),R_(e,n,a,Ci(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,n):i.data[o];Ir(s,!0);const a=uR(i,r,s,t);return r[o]=a,Nd()&&th(i,r,a,s),Lt(a,r),Rd(s)&&(A_(i,r,s),D_(i,s,r)),null!=n&&b_(r,s),oc}function sc(){let t=St();const e=de();return pm()?gm():(t=t.parent,Ir(t,!1)),e.firstCreatePass&&(Od(e,t),om(t)&&e.queries.elementEnd(t)),sc}let uR=(t,e,n,r)=>(Di(!0),Um(e[J],""));function ac(){return T()}function uc(t){return!!t&&"function"==typeof t.then}function cR(t){return!!t&&"function"==typeof t.subscribe}function Qe(t,e,n,r){const i=T(),o=de(),s=St();return function dR(t,e,n,r,i,o,s){const a=Rd(r),c=t.firstCreatePass&&P0(t),l=e[Xe],d=R0(e);let h=!0;if(3&r.type||s){const g=hn(r,e),m=s?s(g):g,v=d.length,_=s?S=>s(Me(S[r.index])):r.index;let w=null;if(!s&&a&&(w=function hz(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=e[hs],u=i[o+2];return a.length>u?a[u]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==w)(w.__ngLastListenerFn__||w).__ngNextListenerFn__=o,w.__ngLastListenerFn__=o,h=!1;else{o=fR(r,e,l,o,!1);const S=n.listen(m,i,o);d.push(o,S),c&&c.push(i,_,v,v+1)}}else o=fR(r,e,l,o,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let m=0;m<g;m+=2){const k=e[p[m]][p[m+1]].subscribe(o),q=d.length;d.push(o,k),c&&c.push(i,r.index,q,-(q+1))}}}(o,i,i[J],s,t,e,r),Qe}function hR(t,e,n,r){try{return _r(6,e,n),!1!==n(r)}catch(i){return x0(t,i),!1}finally{_r(7,e,n)}}function fR(t,e,n,r,i){return function o(s){if(s===Function)return r;Yu(t.componentOffset>-1?Tn(t.index,e):e);let u=hR(e,n,r,s),c=o.__ngNextListenerFn__;for(;c;)u=hR(e,n,c,s)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&s.preventDefault(),u}}function $t(t=1){return function Yj(t){return(z.lFrame.contextLView=function Zj(t,e){for(;t>0;)e=e[ps],t--;return e}(t,z.lFrame.contextLView))[Xe]}(t)}function Sh(t,e){return t<<17|e<<2}function Si(t){return t>>17&32767}function H_(t){return 2|t}function vo(t){return(131068&t)>>2}function z_(t,e){return-131069&t|e<<2}function q_(t){return 1|t}function TR(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?Si(o):vo(o),u=!1;for(;0!==a&&(!1===u||s);){const l=t[a+1];Ez(t[a],e)&&(u=!0,t[a+1]=r?q_(l):H_(l)),a=r?Si(l):vo(l)}u&&(t[n+1]=r?H_(o):q_(o))}function Ez(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Ss(t,e)>=0}function Rh(t,e){return function rr(t,e,n,r){const i=T(),o=de(),s=function zr(t){const e=z.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);o.firstUpdatePass&&function xR(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[Jt()],s=function MR(t,e){return e>=t.expandoStartIndex}(t,n);(function VR(t,e){return 0!=(t.flags&(e?8:16))})(o,r)&&null===e&&!s&&(e=!1),e=function Pz(t,e,n,r){const i=function _m(t){const e=z.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=cc(n=W_(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=W_(i,t,e,n,r),null===o){let u=function Mz(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==vo(r))return t[Si(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=W_(null,t,e,u[1],r),u=cc(u,e.attrs,r),function xz(t,e,n,r){t[Si(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else o=function Nz(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=cc(r,t[o].hostAttrs,n);return cc(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function vz(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Si(s),u=vo(s);t[r]=n;let l,c=!1;if(Array.isArray(n)?(l=n[1],(null===l||Ss(n,l)>0)&&(c=!0)):l=n,i)if(0!==u){const h=Si(t[a+1]);t[r+1]=Sh(h,a),0!==h&&(t[h+1]=z_(t[h+1],r)),t[a+1]=function _z(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Sh(a,0),0!==a&&(t[a+1]=z_(t[a+1],r)),a=r;else t[r+1]=Sh(u,0),0===a?a=r:t[u+1]=z_(t[u+1],r),u=r;c&&(t[r+1]=H_(t[r+1])),TR(t,l,r,!0),TR(t,l,r,!1),function Iz(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&Ss(o,e)>=0&&(n[r+1]=q_(n[r+1]))}(e,l,t,r,o),s=Sh(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}(o,t,s,r),e!==ee&&Bt(i,s,e)&&function OR(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],l=function yz(t){return 1==(1&t)}(c)?kR(u,e,n,i,vo(c),s):void 0;Ph(l)||(Ph(o)||function mz(t){return 2==(2&t)}(c)&&(o=kR(u,null,n,i,a,s)),function _G(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:Ai.DashCase;null==i?t.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Ai.Important),t.setStyle(n,r,i,o))}}(r,s,xd(Jt(),n),i,o))}(o,o.data[Jt()],i,i[J],t,i[s+1]=function Fz(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=ft(bi(t)))),t}(e,n),r,s)}(t,e,null,!0),Rh}function W_(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=cc(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function cc(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Cn(t,s,!!n||e[++o]))}return void 0===t?null:t}function kR(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===ee&&(h=d?pe:void 0);let f=d?Rm(h,r):l===r?h:void 0;if(c&&!Ph(f)&&(f=Rm(u,r)),Ph(f)&&(a=f,s))return a;const p=t[i+1];i=s?Si(p):vo(p)}if(null!==e){let u=o?e.residualClasses:e.residualStyles;null!=u&&(a=Rm(u,r))}return a}function Ph(t){return void 0!==t}function ne(t,e=""){const n=T(),r=de(),i=t+se,o=r.firstCreatePass?Gs(r,i,1,e,null):r.data[i],s=FR(r,n,o,e,t);n[i]=s,Nd()&&th(r,n,s,o),Ir(o,!1)}let FR=(t,e,n,r,i)=>(Di(!0),function Zd(t,e){return t.createText(e)}(e[J],r));function K_(t){return ea("",t,""),K_}function ea(t,e,n){const r=T(),i=function zs(t,e,n,r){return Bt(t,Is(),n)?e+Z(n)+r:ee}(r,t,e,n);return i!==ee&&function Yr(t,e,n){const r=xd(e,t);!function rS(t,e,n){t.setValue(e,n)}(t[J],r,n)}(r,Jt(),i),ea}const na="en-US";let oP=na;function Z_(t,e,n,r,i){if(t=W(t),Array.isArray(t))for(let o=0;o<t.length;o++)Z_(t[o],e,n,r,i);else{const o=de(),s=T(),a=St();let u=mo(t)?t:W(t.provide);const c=FS(t),l=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(mo(t)||!t.multi){const f=new Nu(c,i,b),p=X_(u,e,i?l:l+h,d);-1===p?(Am(Ld(a,s),o,u),J_(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[p]=f,s[p]=f)}else{const f=X_(u,e,l+h,d),p=X_(u,e,l,l+h),m=p>=0&&n[p];if(i&&!m||!i&&!(f>=0&&n[f])){Am(Ld(a,s),o,u);const v=function i3(t,e,n,r,i){const o=new Nu(t,n,b);return o.multi=[],o.index=e,o.componentProviders=0,PP(o,i,r&&!n),o}(i?r3:n3,n.length,i,r,c);!i&&m&&(n[p].providerFactory=v),J_(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(v),s.push(v)}else J_(o,t,f>-1?f:p,PP(n[i?p:f],c,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function J_(t,e,n,r){const i=mo(e),o=function WG(t){return!!t.useClass}(e);if(i||o){const u=(o?W(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function PP(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function X_(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function n3(t,e,n,r){return ey(this.multi,[])}function r3(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=po(n,n[N],this.providerFactory.index,r);o=a.slice(0,s),ey(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],ey(i,o);return o}function ey(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function je(t,e=[]){return n=>{n.providersResolver=(r,i)=>function t3(t,e,n){const r=de();if(r.firstCreatePass){const i=nr(t);Z_(n,r.data,r.blueprint,i,!0),Z_(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Eo{}class MP{}class ty extends Eo{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new U0(this);const i=wn(e);this._bootstrapComponents=Qr(i.bootstrap),this._r3Injector=ZS(e,n,[{provide:Eo,useValue:this},{provide:gh,useValue:this.componentFactoryResolver},...r],ft(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class ny extends MP{constructor(e){super(),this.moduleType=e}create(e){return new ty(this.moduleType,e,[])}}class xP extends Eo{constructor(e){super(),this.componentFactoryResolver=new U0(this),this.instance=null;const n=new ks([...e.providers,{provide:Eo,useValue:this},{provide:gh,useValue:this.componentFactoryResolver}],e.parent||uh(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function ry(t,e,n=null){return new xP({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let a3=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=NS(0,n.type),i=r.length>0?ry([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=j({token:t,providedIn:"environment",factory:()=>new t(B($n))})}return t})();function wo(t){t.getStandaloneInjector=e=>e.get(a3).getOrCreateStandaloneInjector(t)}function UP(t,e,n,r,i,o){const s=e+n;return Bt(t,s,i)?function Tr(t,e,n){return t[e]=n}(t,s+1,o?r.call(o,i):r(i)):function gc(t,e){const n=t[e];return n===ee?void 0:n}(t,s+1)}function oy(t,e){const n=de();let r;const i=t+se;n.firstCreatePass?(r=function A3(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=ho(r.type)),a=cn(b);try{const u=Fd(!1),c=o();return Fd(u),function oz(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,T(),i,c),c}finally{cn(a)}}function sy(t,e,n){const r=t+se,i=T(),o=ys(i,r);return function mc(t,e){return t[N].data[e].pure}(i,r)?UP(i,function Zt(){const t=z.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),e,o.transform,n,o):o.transform(n)}function M3(){return this._results[Symbol.iterator]()}class ay{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Ke)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=ay.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=M3)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=function Bn(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function I$(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function N3(t,e,n,r=!0){const i=e[N];if(function cG(t,e,n,r){const i=At+r,o=n.length;r>0&&(n[i-1][tr]=e),r<o-At?(e[tr]=n[i],Nb(n,At+r,e)):(n.push(e),e[tr]=null),e[Be]=n;const s=e[Au];null!==s&&n!==s&&function lG(t,e){const n=t[ms];e[et]!==e[Be][Be][et]&&(t[NA]=!0),null===n?t[ms]=[e]:n.push(e)}(s,e);const a=e[gr];null!==a&&a.insertView(t),e[te]|=128}(i,e,t,n),r){const o=Hm(n,t),s=e[J],a=eh(s,t[mr]);null!==a&&function sG(t,e,n,r,i,o){r[We]=i,r[Ft]=e,Gu(t,r,n,1,i,o)}(i,t[Ft],s,e,a,o)}}let Zr=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=V3}return t})();const O3=Zr,k3=class extends O3{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function x3(t,e,n,r){const i=e.tView,a=yh(t,i,n,4096&t[te]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[Au]=t[e.index];const c=t[gr];return null!==c&&(a[gr]=c.createEmbeddedView(i)),O_(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new Xu(i)}};function V3(){return kh(St(),T())}function kh(t,e){return 4&t.type?new k3(e,t,Us(t,e)):null}let or=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=$3}return t})();function $3(){return YP(St(),T())}const G3=or,KP=class extends G3{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Us(this._hostTNode,this._hostLView)}get injector(){return new Xt(this._hostTNode,this._hostLView)}get parentInjector(){const e=Ud(this._hostTNode,this._hostLView);if(Tm(e)){const n=ku(e,this._hostLView),r=Ou(e);return new Xt(n[N].data[r+8],n)}return new Xt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=QP(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-At}createEmbeddedView(e,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,o){const s=e&&!function Fu(t){return"function"==typeof t}(e);let a;if(s)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}const u=s?e:new ec(le(e)),c=r||this.parentInjector;if(!o&&null==u.ngModule){const m=(s?c:this.parentInjector).get($n,null);m&&(o=m)}le(u.componentType??{});const f=u.create(c,i,null,o);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function Oj(t){return Yt(t[Be])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const c=i[Be],l=new KP(c,c[Ft],c[Be]);l.detach(l.indexOf(e))}}const s=this._adjustIndex(n),a=this._lContainer;return N3(a,i,s,!r),e.attachToViewContainerRef(),Nb(uy(a),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=QP(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Xd(this._lContainer,n);r&&($d(uy(this._lContainer),n),Bm(r[N],r))}detach(e){const n=this._adjustIndex(e,-1),r=Xd(this._lContainer,n);return r&&null!=$d(uy(this._lContainer),n)?new Xu(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function QP(t){return t[8]}function uy(t){return t[8]||(t[8]=[])}function YP(t,e){let n;const r=e[t.index];return Yt(r)?n=r:(n=b0(r,e,null,t),e[t.index]=n,vh(e,n)),ZP(n,e,t,r),new KP(n,t,e)}let ZP=function JP(t,e,n,r){if(t[mr])return;let i;i=8&n.type?Me(r):function H3(t,e){const n=t[J],r=n.createComment(""),i=hn(e,t);return go(n,eh(n,i),r,function pG(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[mr]=i};class cy{constructor(e){this.queryList=e,this.matches=null}clone(){return new cy(this.queryList)}setDirty(){this.queryList.setDirty()}}class ly{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){const s=n.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new ly(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==sM(e,n).matches&&this.queries[n].setDirty()}}class XP{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class dy{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new dy(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class hy{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new hy(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,n,W3(n,o)),this.matchTNodeWithReadOption(e,n,Bd(n,e,o,!1,!1))}else r===Zr?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Bd(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Dn||i===or||i===Zr&&4&n.type)this.addMatch(n.index,-2);else{const o=Bd(n,e,i,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function W3(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Q3(t,e,n,r){return-1===n?function K3(t,e){return 11&t.type?Us(t,e):4&t.type?kh(t,e):null}(e,t):-2===n?function Y3(t,e,n){return n===Dn?Us(e,t):n===Zr?kh(e,t):n===or?YP(e,t):void 0}(t,e,r):po(t,t[N],n,e)}function eM(t,e,n,r){const i=e[gr].queries[r];if(null===i.matches){const o=t.data,s=n.matches,a=[];for(let u=0;u<s.length;u+=2){const c=s[u];a.push(c<0?null:Q3(e,o[c],s[u+1],n.metadata.read))}i.matches=a}return i.matches}function fy(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=eM(t,e,i,n);for(let a=0;a<o.length;a+=2){const u=o[a];if(u>0)r.push(s[a/2]);else{const c=o[a+1],l=e[-u];for(let d=At;d<l.length;d++){const h=l[d];h[Au]===h[Be]&&fy(h[N],h,c,r)}if(null!==l[ms]){const d=l[ms];for(let h=0;h<d.length;h++){const f=d[h];fy(f[N],f,c,r)}}}}}return r}function tM(t){const e=T(),n=de(),r=hb();ym(r+1);const i=sM(n,r);if(t.dirty&&function xj(t){return 4==(4&t[te])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?fy(n,e,r,[]):eM(n,e,i,r);t.reset(o,pH),t.notifyOnChanges()}return!0}return!1}function nM(t,e,n,r){const i=de();if(i.firstCreatePass){const o=St();(function oM(t,e,n){null===t.queries&&(t.queries=new dy),t.queries.track(new hy(e,n))})(i,new XP(e,n,r),o.index),function X3(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}!function iM(t,e,n){const r=new ay(4==(4&n));(function qH(t,e,n,r){const i=R0(e);i.push(n),t.firstCreatePass&&P0(t).push(r,i.length-1)})(t,e,r,r.destroy),null===e[gr]&&(e[gr]=new ly),e[gr].queries.push(new cy(r))}(i,T(),n)}function sM(t,e){return t.queries.getByIndex(e)}function py(t,e){return kh(t,e)}const Iy=new V("Application Initializer");let Ey=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=F(Iy,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const o=i();if(uc(o))n.push(o);else if(cR(o)){const s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),TM=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const Jr=new V("LocaleId",{providedIn:"root",factory:()=>F(Jr,oe.Optional|oe.SkipSelf)||function IW(){return typeof $localize<"u"&&$localize.locale||na}()});let CM=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new kn(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class TW{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let DM=(()=>{class t{compileModuleSync(n){return new ny(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=Qr(wn(n).declarations).reduce((s,a)=>{const u=le(a);return u&&s.push(new ec(u)),s},[]);return new TW(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const RM=new V(""),Uh=new V("");let Ay,Cy=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Ay||(function zW(t){Ay=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ee.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||t)(B(Ee),B(Dy),B(Uh))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac})}return t})(),Dy=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Ay?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Ri=null;const PM=new V("AllowMultipleToken"),by=new V("PlatformDestroyListeners"),Sy=new V("appBootstrapListener");class xM{constructor(e,n){this.name=e,this.token=n}}function OM(t,e,n=[]){const r=`Platform: ${e}`,i=new V(r);return(o=[])=>{let s=Ry();if(!s||s.injector.get(PM,!1)){const a=[...n,...o,{provide:i,useValue:!0}];t?t(a):function KW(t){if(Ri&&!Ri.get(PM,!1))throw new A(400,!1);(function MM(){!function vj(t){zA=t}(()=>{throw new A(600,!1)})})(),Ri=t;const e=t.get(VM);(function NM(t){t.get(LS,null)?.forEach(n=>n())})(t)}(function kM(t=[],e){return en.create({name:e,providers:[{provide:n_,useValue:"platform"},{provide:by,useValue:new Set([()=>Ri=null])},...t]})}(a,r))}return function YW(t){const e=Ry();if(!e)throw new A(401,!1);return e}()}}function Ry(){return Ri?.get(VM)??null}let VM=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function ZW(t="zone.js",e){return"noop"===t?new SH:"zone.js"===t?new Ee(e):t}(r?.ngZone,function FM(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function s3(t,e,n){return new ty(t,e,n)}(n.moduleType,this.injector,function $M(t){return[{provide:Ee,useFactory:t},{provide:Wu,multi:!0,useFactory:()=>{const e=F(XW,{optional:!0});return()=>e.initialize()}},{provide:jM,useFactory:JW},{provide:n0,useFactory:r0}]}(()=>i)),s=o.injector.get(Kr,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{s.handleError(u)}});o.onDestroy(()=>{Bh(this._modules,o),a.unsubscribe()})}),function LM(t,e,n){try{const r=n();return uc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(Ey);return a.runInitializers(),a.donePromise.then(()=>(function sP(t){Vn(t,"Expected localeId to be defined"),"string"==typeof t&&(oP=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Jr,na)||na),this._moduleDoBootstrap(o),o))})})}bootstrapModule(n,r=[]){const i=UM({},r);return function qW(t,e,n){const r=new ny(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(oa);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new A(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new A(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(by,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||t)(B(en))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function UM(t,e){return Array.isArray(e)?e.reduce(UM,t):{...t,...e}}let oa=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=F(jM),this.zoneIsStable=F(n0),this.componentTypes=[],this.components=[],this.isStable=F(CM).hasPendingTasks.pipe(fr(n=>n?Q(!1):this.zoneIsStable),function PB(t,e=yi){return t=t??MB,ht((n,r)=>{let i,o=!0;n.subscribe(ut(r,s=>{const a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}(),cA()),this._injector=F($n)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof GS;if(!this._injector.get(Ey).done)throw!i&&function ds(t){const e=le(t)||Dt(t)||Qt(t);return null!==e&&e.standalone}(n),new A(405,!1);let s;s=i?n:this._injector.get(gh).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function WW(t){return t.isBoundToModule}(s)?void 0:this._injector.get(Eo),c=s.create(en.NULL,[],r||s.selector,a),l=c.location.nativeElement,d=c.injector.get(RM,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),Bh(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new A(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Bh(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(Sy,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Bh(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new A(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Bh(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const jM=new V("",{providedIn:"root",factory:()=>F(Kr).handleError.bind(void 0)});function JW(){const t=F(Ee),e=F(Kr);return n=>t.runOutsideAngular(()=>e.handleError(n))}let XW=(()=>{class t{constructor(){this.zone=F(Ee),this.applicationRef=F(oa)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let jh=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=t6}return t})();function t6(t){return function n6(t,e,n){if(lo(t)&&!n){const r=Tn(t.index,e);return new Xu(r,r)}return 47&t.type?new Xu(e[et],e):null}(St(),T(),16==(16&t))}class qM{constructor(){}supports(e){return Th(e)}create(e){return new u6(e)}}const a6=(t,e)=>e;class u6{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||a6}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<KM(r,i,o)?n:r,a=KM(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<o.length?o[h]:o[h]=0,p=f+h;l<=p&&p<c&&(o[h]=f+1)}o[s.previousIndex]=l-c}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Th(e))throw new A(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function L4(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new c6(n,r),o,i),e}_verifyReinsertion(e,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new WM),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new WM),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class c6{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class l6{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class WM{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new l6,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function KM(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function YM(){return new Hh([new qM])}let Hh=(()=>{class t{static#e=this.\u0275prov=j({token:t,providedIn:"root",factory:YM});constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||YM()),deps:[[t,new Hd,new jn]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new A(901,!1)}}return t})();const g6=OM(null,"core",[]);let m6=(()=>{class t{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||t)(B(oa))};static#t=this.\u0275mod=Fn({type:t});static#n=this.\u0275inj=En({})}return t})();function sa(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let ky=null;function Pi(){return ky}class P6{}const Hn=new V("DocumentToken");let Vy=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:function(){return F(x6)},providedIn:"platform"})}return t})();const M6=new V("Location Initialized");let x6=(()=>{class t extends Vy{constructor(){super(),this._doc=F(Hn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Pi().getBaseHref(this._doc)}onPopState(n){const r=Pi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Pi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:function(){return new t},providedIn:"platform"})}return t})();function Fy(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function sx(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Xr(t){return t&&"?"!==t[0]?"?"+t:t}let Co=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:function(){return F(ux)},providedIn:"root"})}return t})();const ax=new V("appBaseHref");let ux=(()=>{class t extends Co{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??F(Hn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Fy(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Xr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+Xr(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+Xr(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(B(Vy),B(ax,8))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),N6=(()=>{class t extends Co{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Fy(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Xr(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Xr(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(B(Vy),B(ax,8))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac})}return t})(),Ly=(()=>{class t{constructor(n){this._subject=new Ke,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function V6(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(sx(cx(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Xr(r))}normalize(n){return t.stripTrailingSlash(function k6(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,cx(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Xr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Xr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=Xr;static#t=this.joinWithSlash=Fy;static#n=this.stripTrailingSlash=sx;static#r=this.\u0275fac=function(r){return new(r||t)(B(Co))};static#i=this.\u0275prov=j({token:t,factory:function(){return function O6(){return new Ly(B(Co))}()},providedIn:"root"})}return t})();function cx(t){return t.replace(/\/index.html$/,"")}class T9{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Qy=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new T9(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),Ix(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{Ix(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(b(or),b(Zr),b(Hh))};static#t=this.\u0275dir=K({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return t})();function Ix(t,e){t.context.$implicit=e.item}let Yy=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new C9,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Ex("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Ex("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(b(or),b(Zr))};static#t=this.\u0275dir=K({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return t})();class C9{constructor(){this.$implicit=null,this.ngIf=null}}function Ex(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${ft(e)}'.`)}class b9{createSubscription(e,n){return KA(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){KA(()=>e.unsubscribe())}}class S9{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}}const R9=new S9,P9=new b9;let Xy=(()=>{class t{constructor(n){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){return this._obj?n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue:(n&&this._subscribe(n),this._latestValue)}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(uc(n))return R9;if(cR(n))return P9;throw function ar(t,e){return new A(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this._ref.markForCheck())}static#e=this.\u0275fac=function(r){return new(r||t)(b(jh,16))};static#t=this.\u0275pipe=ln({name:"async",type:t,pure:!1,standalone:!0})}return t})(),nv=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Fn({type:t});static#n=this.\u0275inj=En({})}return t})();function Dx(t){return"server"===t}let Z9=(()=>{class t{static#e=this.\u0275prov=j({token:t,providedIn:"root",factory:()=>new J9(B(Hn),window)})}return t})();class J9{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function X9(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class T5 extends P6{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ov extends T5{static makeCurrent(){!function R6(t){ky||(ky=t)}(new ov)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function C5(){return Tc=Tc||document.querySelector("base"),Tc?Tc.getAttribute("href"):null}();return null==n?null:function D5(t){sf=sf||document.createElement("a"),sf.setAttribute("href",t);const e=sf.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Tc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function I9(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let sf,Tc=null,b5=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac})}return t})();const sv=new V("EventManagerPlugins");let Px=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new A(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||t)(B(sv),B(Ee))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac})}return t})();class Mx{constructor(e){this._doc=e}}const av="ng-app-id";let xx=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Dx(o),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${av}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(av),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(av,this.appId),s}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||t)(B(Hn),B(ch),B(US,8),B(_o))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac})}return t})();const uv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},cv=/%COMP%/g,M5=new V("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Ox(t,e){return e.map(n=>n.replace(cv,t))}let kx=(()=>{class t{constructor(n,r,i,o,s,a,u,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=Dx(a),this.defaultRenderer=new lv(n,s,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Jn.ShadowDom&&(r={...r,encapsulation:Jn.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof Fx?i.applyToHost(n):i instanceof dv&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case Jn.Emulated:o=new Fx(u,c,r,this.appId,l,s,a,d);break;case Jn.ShadowDom:return new k5(u,c,n,r,s,a,this.nonce,d);default:o=new dv(u,c,r,l,s,a,d)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||t)(B(Px),B(xx),B(ch),B(M5),B(Hn),B(_o),B(Ee),B(US))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac})}return t})();class lv{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(uv[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Vx(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Vx(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new A(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=uv[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=uv[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Ai.DashCase|Ai.Important)?e.style.setProperty(n,r,i&Ai.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Ai.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Pi().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function Vx(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class k5 extends lv{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=Ox(i.id,i.styles);for(const l of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class dv extends lv{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?Ox(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Fx extends dv{constructor(e,n,r,i,o,s,a,u){const c=i+"-"+r.id;super(e,n,r,o,s,a,u,c),this.contentAttr=function x5(t){return"_ngcontent-%COMP%".replace(cv,t)}(c),this.hostAttr=function N5(t){return"_nghost-%COMP%".replace(cv,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let V5=(()=>{class t extends Mx{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||t)(B(Hn))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac})}return t})();const Lx=["alt","control","meta","shift"],F5={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},L5={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let U5=(()=>{class t extends Mx{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Pi().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=t._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Lx.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),s+=c+".")}),s+=o,0!=r.length||0===o.length)return null;const u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=F5[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Lx.forEach(s=>{s!==i&&(0,L5[s])(n)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||t)(B(Hn))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac})}return t})();const Bx=[{provide:_o,useValue:"browser"},{provide:LS,useValue:function B5(){ov.makeCurrent()},multi:!0},{provide:Hn,useFactory:function $5(){return function wG(t){Wm=t}(document),document},deps:[]}],G5=OM(g6,"browser",Bx),H5=new V(""),jx=[{provide:Uh,useClass:class A5{addToWindow(e){Pe.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new A(5103,!1);return o},Pe.getAllAngularTestabilities=()=>e.getAllTestabilities(),Pe.getAllAngularRootElements=()=>e.getAllRootElements(),Pe.frameworkStabilizers||(Pe.frameworkStabilizers=[]),Pe.frameworkStabilizers.push(r=>{const i=Pe.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(u){s=s||u,o--,0==o&&r(s)};i.forEach(u=>{u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Pi().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:RM,useClass:Cy,deps:[Ee,Dy,Uh]},{provide:Cy,useClass:Cy,deps:[Ee,Dy,Uh]}],$x=[{provide:n_,useValue:"root"},{provide:Kr,useFactory:function j5(){return new Kr},deps:[]},{provide:sv,useClass:V5,multi:!0,deps:[Hn,Ee,_o]},{provide:sv,useClass:U5,multi:!0,deps:[Hn]},kx,xx,Px,{provide:zS,useExisting:kx},{provide:class e5{},useClass:b5,deps:[]},[]];let z5=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:ch,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||t)(B(H5,12))};static#t=this.\u0275mod=Fn({type:t});static#n=this.\u0275inj=En({providers:[...$x,...jx],imports:[nv,m6]})}return t})(),Gx=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||t)(B(Hn))};static#t=this.\u0275prov=j({token:t,factory:function(r){let i=null;return i=r?new r:function W5(){return new Gx(B(Hn))}(),i},providedIn:"root"})}return t})();typeof window<"u"&&window;const{isArray:X5}=Array,{getPrototypeOf:e8,prototype:t8,keys:n8}=Object;function Wx(t){if(1===t.length){const e=t[0];if(X5(e))return{args:e,keys:null};if(function r8(t){return t&&"object"==typeof t&&e8(t)===t8}(e)){const n=n8(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:i8}=Array;function Kx(t){return me(e=>function o8(t,e){return i8(e)?t(...e):t(e)}(t,e))}function Qx(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function fv(...t){const e=vu(t),n=aA(t),{args:r,keys:i}=Wx(t);if(0===r.length)return yt([],e);const o=new He(function s8(t,e,n=yi){return r=>{Yx(e,()=>{const{length:i}=t,o=new Array(i);let s=i,a=i;for(let u=0;u<i;u++)Yx(e,()=>{const c=yt(t[u],e);let l=!1;c.subscribe(ut(r,d=>{o[u]=d,l||(l=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>Qx(i,s):yi));return n?o.pipe(Kx(n)):o}function Yx(t,e,n){t?Br(n,t,e):e()}const af=_u(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function pv(...t){return function a8(){return cs(1)}()(yt(t,vu(t)))}function Zx(t){return new He(e=>{vn(t()).subscribe(e)})}function Cc(t,e){const n=Ae(t)?t:()=>t,r=i=>i.error(n());return new He(e?i=>e.schedule(r,0,i):r)}function gv(){return ht((t,e)=>{let n=null;t._refCount++;const r=ut(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class Jx extends He{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,qD(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new un;const n=this.getSubject();e.add(this.source.subscribe(ut(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=un.EMPTY)}return e}refCount(){return gv()(this)}}function ua(t){return t<=0?()=>hr:ht((e,n)=>{let r=0;e.subscribe(ut(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function xi(t,e){return ht((n,r)=>{let i=0;n.subscribe(ut(r,o=>t.call(e,o,i++)&&r.next(o)))})}function uf(t){return ht((e,n)=>{let r=!1;e.subscribe(ut(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Xx(t=c8){return ht((e,n)=>{let r=!1;e.subscribe(ut(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function c8(){return new af}function Do(t,e){const n=arguments.length>=2;return r=>r.pipe(t?xi((i,o)=>t(i,o,r)):yi,ua(1),n?uf(e):Xx(()=>new af))}function Dc(t,e){return Ae(e)?Ct(t,e,1):Ct(t,1)}function Mt(t,e,n){const r=Ae(t)||e||n?{next:t,error:e,complete:n}:t;return r?ht((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(ut(o,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),o.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),o.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),o.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):yi}function Ao(t){return ht((e,n)=>{let o,r=null,i=!1;r=e.subscribe(ut(n,void 0,void 0,s=>{o=vn(t(s,Ao(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function mv(t){return t<=0?()=>hr:ht((e,n)=>{let r=[];e.subscribe(ut(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function _v(t){return ht((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const re="primary",Ac=Symbol("RouteTitle");class g8{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function ca(t){return new g8(t)}function m8(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function br(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!eN(t[i],e[i]))return!1;return!0}function eN(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}return t===e}function tN(t){return t.length>0?t[t.length-1]:null}function Ni(t){return function J5(t){return!!t&&(t instanceof He||Ae(t.lift)&&Ae(t.subscribe))}(t)?t:uc(t)?yt(Promise.resolve(t)):Q(t)}const y8={exact:function iN(t,e,n){if(!bo(t.segments,e.segments)||!cf(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!iN(t.children[r],e.children[r],n))return!1;return!0},subset:oN},nN={exact:function v8(t,e){return br(t,e)},subset:function I8(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>eN(t[n],e[n]))},ignored:()=>!0};function rN(t,e,n){return y8[n.paths](t.root,e.root,n.matrixParams)&&nN[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function oN(t,e,n){return sN(t,e,e.segments,n)}function sN(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!bo(i,n)||e.hasChildren()||!cf(i,n,r))}if(t.segments.length===n.length){if(!bo(t.segments,n)||!cf(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!oN(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!(bo(t.segments,i)&&cf(t.segments,i,r)&&t.children[re])&&sN(t.children[re],e,o,r)}}function cf(t,e,n){return e.every((r,i)=>nN[n](t[i].parameters,r.parameters))}class la{constructor(e=new Te([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ca(this.queryParams)),this._queryParamMap}toString(){return T8.serialize(this)}}class Te{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return lf(this)}}class bc{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=ca(this.parameters)),this._parameterMap}toString(){return cN(this)}}function bo(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Sc=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:function(){return new yv},providedIn:"root"})}return t})();class yv{parse(e){const n=new O8(e);return new la(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Rc(e.root,!0)}`,r=function A8(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${df(n)}=${df(i)}`).join("&"):`${df(n)}=${df(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function C8(t){return encodeURI(t)}(e.fragment)}`:""}`}}const T8=new yv;function lf(t){return t.segments.map(e=>cN(e)).join("/")}function Rc(t,e){if(!t.hasChildren())return lf(t);if(e){const n=t.children[re]?Rc(t.children[re],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==re&&r.push(`${i}:${Rc(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function w8(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===re&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==re&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===re?[Rc(t.children[re],!1)]:[`${i}:${Rc(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[re]?`${lf(t)}/${n[0]}`:`${lf(t)}/(${n.join("//")})`}}function aN(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function df(t){return aN(t).replace(/%3B/gi,";")}function vv(t){return aN(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function hf(t){return decodeURIComponent(t)}function uN(t){return hf(t.replace(/\+/g,"%20"))}function cN(t){return`${vv(t.path)}${function D8(t){return Object.keys(t).map(e=>`;${vv(e)}=${vv(t[e])}`).join("")}(t.parameters)}`}const b8=/^[^\/()?;#]+/;function Iv(t){const e=t.match(b8);return e?e[0]:""}const S8=/^[^\/()?;=#]+/,P8=/^[^=?&#]+/,x8=/^[^&#]+/;class O8{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Te([],{}):new Te([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[re]=new Te(e,n)),r}parseSegment(){const e=Iv(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new A(4009,!1);return this.capture(e),new bc(hf(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function R8(t){const e=t.match(S8);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Iv(this.remaining);i&&(r=i,this.capture(r))}e[hf(n)]=hf(r)}parseQueryParam(e){const n=function M8(t){const e=t.match(P8);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function N8(t){const e=t.match(x8);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=uN(n),o=uN(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Iv(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new A(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=re);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[re]:new Te([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new A(4011,!1)}}function lN(t){return t.segments.length>0?new Te([],{[re]:t}):t}function dN(t){const e={};for(const r of Object.keys(t.children)){const o=dN(t.children[r]);if(r===re&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function k8(t){if(1===t.numberOfChildren&&t.children[re]){const e=t.children[re];return new Te(t.segments.concat(e.segments),e.children)}return t}(new Te(t.segments,e))}function So(t){return t instanceof la}function hN(t){let e;const i=lN(function n(o){const s={};for(const u of o.children){const c=n(u);s[u.outlet]=c}const a=new Te(o.url,s);return o===t&&(e=a),a}(t.root));return e??i}function fN(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return Ev(i,i,i,n,r);const o=function F8(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new gN(!0,0,t);let e=0,n=!1;const r=t.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([u,c])=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new gN(n,e,r)}(e);if(o.toRoot())return Ev(i,i,new Te([],{}),n,r);const s=function L8(t,e,n){if(t.isAbsolute)return new pf(e,!0,0);if(!n)return new pf(e,!1,NaN);if(null===n.parent)return new pf(n,!0,0);const r=ff(t.commands[0])?0:1;return function U8(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new A(4005,!1);i=r.segments.length}return new pf(r,!1,i-o)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(o,i,t),a=s.processChildren?Mc(s.segmentGroup,s.index,o.commands):mN(s.segmentGroup,s.index,o.commands);return Ev(i,s.segmentGroup,a,n,r)}function ff(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Pc(t){return"object"==typeof t&&null!=t&&t.outlets}function Ev(t,e,n,r,i){let s,o={};r&&Object.entries(r).forEach(([u,c])=>{o[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`}),s=t===e?n:pN(t,e,n);const a=lN(dN(s));return new la(a,o,i)}function pN(t,e,n){const r={};return Object.entries(t.children).forEach(([i,o])=>{r[i]=o===e?n:pN(o,e,n)}),new Te(t.segments,r)}class gN{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&ff(r[0]))throw new A(4003,!1);const i=r.find(Pc);if(i&&i!==tN(r))throw new A(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class pf{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function mN(t,e,n){if(t||(t=new Te([],{})),0===t.segments.length&&t.hasChildren())return Mc(t,e,n);const r=function j8(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const s=t.segments[i],a=n[r];if(Pc(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!yN(u,c,s))return o;r+=2}else{if(!yN(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const o=new Te(t.segments.slice(0,r.pathIndex),{});return o.children[re]=new Te(t.segments.slice(r.pathIndex),t.children),Mc(o,0,i)}return r.match&&0===i.length?new Te(t.segments,{}):r.match&&!t.hasChildren()?wv(t,e,n):r.match?Mc(t,0,i):wv(t,e,n)}function Mc(t,e,n){if(0===n.length)return new Te(t.segments,{});{const r=function B8(t){return Pc(t[0])?t[0].outlets:{[re]:t}}(n),i={};if(Object.keys(r).some(o=>o!==re)&&t.children[re]&&1===t.numberOfChildren&&0===t.children[re].segments.length){const o=Mc(t.children[re],e,n);return new Te(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=mN(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new Te(t.segments,i)}}function wv(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Pc(o)){const u=$8(o.outlets);return new Te(r,u)}if(0===i&&ff(n[0])){r.push(new bc(t.segments[e].path,_N(n[0]))),i++;continue}const s=Pc(o)?o.outlets[re]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&ff(a)?(r.push(new bc(s,_N(a))),i+=2):(r.push(new bc(s,{})),i++)}return new Te(r,{})}function $8(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=wv(new Te([],{}),0,r))}),e}function _N(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function yN(t,e,n){return t==n.path&&br(e,n.parameters)}const xc="imperative";class Sr{constructor(e,n){this.id=e,this.url=n}}class gf extends Sr{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Oi extends Sr{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Nc extends Sr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class da extends Sr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class mf extends Sr{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class vN extends Sr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class G8 extends Sr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class H8 extends Sr{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class z8 extends Sr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class q8 extends Sr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class W8{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class K8{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Q8{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Y8{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Z8{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class J8{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class IN{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Tv{}class Cv{constructor(e){this.url=e}}class X8{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Oc,this.attachRef=null}}let Oc=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new X8,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class EN{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=Dv(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=Dv(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=Av(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Av(e,this._root).map(n=>n.value)}}function Dv(t,e){if(t===e.value)return e;for(const n of e.children){const r=Dv(t,n);if(r)return r}return null}function Av(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Av(t,n);if(r.length)return r.unshift(e),r}return[]}class ni{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function ha(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class wN extends EN{constructor(e,n){super(e),this.snapshot=n,bv(this,e)}toString(){return this.snapshot.toString()}}function TN(t,e){const n=function e7(t,e){const s=new _f([],{},{},"",{},re,e,null,{});return new DN("",new ni(s,[]))}(0,e),r=new kn([new bc("",{})]),i=new kn({}),o=new kn({}),s=new kn({}),a=new kn(""),u=new fa(r,i,s,a,o,re,e,n.root);return u.snapshot=n.root,new wN(new ni(u,[]),n)}class fa{constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(me(c=>c[Ac]))??Q(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(me(e=>ca(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(me(e=>ca(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function CN(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function t7(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class _f{get title(){return this.data?.[Ac]}constructor(e,n,r,i,o,s,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ca(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ca(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class DN extends EN{constructor(e,n){super(n),this.url=e,bv(this,n)}toString(){return AN(this._root)}}function bv(t,e){e.value._routerState=t,e.children.forEach(n=>bv(t,n))}function AN(t){const e=t.children.length>0?` { ${t.children.map(AN).join(", ")} } `:"";return`${t.value}${e}`}function Sv(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,br(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),br(e.params,n.params)||t.paramsSubject.next(n.params),function _8(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!br(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),br(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Rv(t,e){const n=br(t.params,e.params)&&function E8(t,e){return bo(t,e)&&t.every((n,r)=>br(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||Rv(t.parent,e.parent))}let Pv=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=re,this.activateEvents=new Ke,this.deactivateEvents=new Ke,this.attachEvents=new Ke,this.detachEvents=new Ke,this.parentContexts=F(Oc),this.location=F(or),this.changeDetector=F(jh),this.environmentInjector=F($n),this.inputBinder=F(yf,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new A(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new A(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new A(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new A(4013,!1);this._activatedRoute=n;const i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new n7(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=K({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Un]})}return t})();class n7{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===fa?this.route:e===Oc?this.childContexts:this.parent.get(e,n)}}const yf=new V("");let bN=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=fv([r.queryParams,r.params,r.data]).pipe(fr(([o,s,a],u)=>(a={...o,...s,...a},0===u?Q(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const s=function S6(t){const e=le(t);if(!e)return null;const n=new ec(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac})}return t})();function kc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function i7(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return kc(t,r,i);return kc(t,r)})}(t,e,n);return new ni(r,i)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>kc(t,a)),s}}const r=function o7(t){return new fa(new kn(t.url),new kn(t.params),new kn(t.queryParams),new kn(t.fragment),new kn(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(o=>kc(t,o));return new ni(r,i)}}const Mv="ngNavigationCancelingError";function SN(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=So(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=RN(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function RN(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[Mv]=!0,r.cancellationCode=e,n&&(r.url=n),r}function PN(t){return t&&t[Mv]}let MN=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=er({type:t,selectors:[["ng-component"]],standalone:!0,features:[wo],decls:1,vars:0,template:function(r,i){1&r&&Pt(0,"router-outlet")},dependencies:[Pv],encapsulation:2})}return t})();function xv(t){const e=t.children&&t.children.map(xv),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==re&&(n.component=MN),n}function ur(t){return t.outlet||re}function Vc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class f7{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Sv(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=ha(n);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=ha(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=ha(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=ha(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new J8(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Y8(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(Sv(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Sv(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=Vc(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class xN{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class vf{constructor(e,n){this.component=e,this.route=n}}function p7(t,e,n){const r=t._root;return Fc(r,e?e._root:null,n,[r.value])}function pa(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function LB(t){return null!==Id(t)}(t)?e.get(t):t:r}function Fc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=ha(e);return t.children.forEach(s=>{(function m7(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function _7(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!bo(t.url,e.url);case"pathParamsOrQueryParamsChange":return!bo(t.url,e.url)||!br(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Rv(t,e)||!br(t.queryParams,e.queryParams);default:return!Rv(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new xN(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Fc(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new vf(a.outlet.component,s))}else s&&Lc(e,a,i),i.canActivateChecks.push(new xN(r)),Fc(t,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Lc(a,n.getContext(s),i)),i}function Lc(t,e,n){const r=ha(t),i=t.value;Object.entries(r).forEach(([o,s])=>{Lc(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new vf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Uc(t){return"function"==typeof t}function NN(t){return t instanceof af||"EmptyError"===t?.name}const If=Symbol("INITIAL_VALUE");function ga(){return fr(t=>fv(t.map(e=>e.pipe(ua(1),function u8(...t){const e=vu(t);return ht((n,r)=>{(e?pv(t,n,e):pv(t,n)).subscribe(r)})}(If)))).pipe(me(e=>{for(const n of e)if(!0!==n){if(n===If)return If;if(!1===n||n instanceof la)return n}return!0}),xi(e=>e!==If),ua(1)))}function ON(t){return function jU(...t){return GD(t)}(Mt(e=>{if(So(e))throw SN(0,e)}),me(e=>!0===e))}class Ef{constructor(e){this.segmentGroup=e||null}}class kN{constructor(e){this.urlTree=e}}function ma(t){return Cc(new Ef(t))}function VN(t){return Cc(new kN(t))}class F7{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new A(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Q(r);if(i.numberOfChildren>1||!i.children[re])return Cc(new A(4e3,!1));i=i.children[re]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const o=this.createSegmentGroup(e,n.root,r,i);return new la(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){const o=this.createSegments(e,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Te(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new A(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const Nv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function L7(t,e,n,r,i){const o=Ov(t,e,n);return o.matched?(r=function a7(t,e){return t.providers&&!t._injector&&(t._injector=ry(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function O7(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?Q(i.map(s=>{const a=pa(s,t);return Ni(function T7(t){return t&&Uc(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(ga(),ON()):Q(!0)}(r,e,n).pipe(me(s=>!0===s?o:{...Nv}))):Q(o)}function Ov(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...Nv}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||m8)(n,t,e);if(!i)return{...Nv};const o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function FN(t,e,n,r){return n.length>0&&function j7(t,e,n){return n.some(r=>wf(t,e,r)&&ur(r)!==re)}(t,n,r)?{segmentGroup:new Te(e,B7(r,new Te(n,t.children))),slicedSegments:[]}:0===n.length&&function $7(t,e,n){return n.some(r=>wf(t,e,r))}(t,n,r)?{segmentGroup:new Te(t.segments,U7(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Te(t.segments,t.children),slicedSegments:n}}function U7(t,e,n,r,i){const o={};for(const s of r)if(wf(t,n,s)&&!i[ur(s)]){const a=new Te([],{});o[ur(s)]=a}return{...i,...o}}function B7(t,e){const n={};n[re]=e;for(const r of t)if(""===r.path&&ur(r)!==re){const i=new Te([],{});n[ur(r)]=i}return n}function wf(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class q7{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new F7(this.urlSerializer,this.urlTree)}noMatchError(e){return new A(4002,!1)}recognize(){const e=FN(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,re).pipe(Ao(n=>{if(n instanceof kN)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof Ef?this.noMatchError(n):n}),me(n=>{const r=new _f([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},re,this.rootComponentType,null,{}),i=new ni(r,n),o=new DN("",i),s=function V8(t,e,n=null,r=null){return fN(hN(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,re).pipe(Ao(r=>{throw r instanceof Ef?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=CN(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return yt(i).pipe(Dc(o=>{const s=r.children[o],a=function d7(t,e){const n=t.filter(r=>ur(r)===e);return n.push(...t.filter(r=>ur(r)!==e)),n}(n,o);return this.processSegmentGroup(e,a,s,o)}),function d8(t,e){return ht(function l8(t,e,n,r,i){return(o,s)=>{let a=n,u=e,c=0;o.subscribe(ut(s,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}(t,e,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),uf(null),function h8(t,e){const n=arguments.length>=2;return r=>r.pipe(t?xi((i,o)=>t(i,o,r)):yi,mv(1),n?uf(e):Xx(()=>new af))}(),Ct(o=>{if(null===o)return ma(r);const s=LN(o);return function W7(t){t.sort((e,n)=>e.value.outlet===re?-1:n.value.outlet===re?1:e.value.outlet.localeCompare(n.value.outlet))}(s),Q(s)}))}processSegment(e,n,r,i,o,s){return yt(n).pipe(Dc(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(Ao(u=>{if(u instanceof Ef)return Q(null);throw u}))),Do(a=>!!a),Ao(a=>{if(NN(a))return function H7(t,e,n){return 0===e.length&&!t.children[n]}(r,i,o)?Q([]):ma(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return function G7(t,e,n,r){return!!(ur(t)===r||r!==re&&wf(e,n,t))&&("**"===t.path||Ov(e,t,n).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):ma(i):ma(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?VN(o):this.applyRedirects.lineralizeSegments(r,o).pipe(Ct(s=>{const a=new Te(s,{});return this.processSegment(e,n,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=Ov(n,i,o);if(!a)return ma(n);const d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?VN(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Ct(h=>this.processSegment(e,r,n,h.concat(c),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a;if("**"===r.path){const u=i.length>0?tN(i).parameters:{};a=Q({snapshot:new _f(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,UN(r),ur(r),r.component??r._loadedComponent??null,r,BN(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=L7(n,r,i,e).pipe(me(({matched:u,consumedSegments:c,remainingSegments:l,parameters:d})=>u?{snapshot:new _f(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,UN(r),ur(r),r.component??r._loadedComponent??null,r,BN(r)),consumedSegments:c,remainingSegments:l}:null));return a.pipe(fr(u=>null===u?ma(n):this.getChildConfig(e=r._injector??e,r,i).pipe(fr(({routes:c})=>{const l=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=u,{segmentGroup:p,slicedSegments:g}=FN(n,h,f,c);if(0===g.length&&p.hasChildren())return this.processChildren(l,c,p).pipe(me(v=>null===v?null:[new ni(d,v)]));if(0===c.length&&0===g.length)return Q([new ni(d,[])]);const m=ur(r)===o;return this.processSegment(l,c,p,g,m?re:o,!0).pipe(me(v=>[new ni(d,v)]))}))))}getChildConfig(e,n,r){return n.children?Q({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?Q({routes:n._loadedRoutes,injector:n._loadedInjector}):function N7(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?Q(!0):Q(i.map(s=>{const a=pa(s,t);return Ni(function v7(t){return t&&Uc(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(ga(),ON())}(e,n,r).pipe(Ct(i=>i?this.configLoader.loadChildren(e,n).pipe(Mt(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function V7(t){return Cc(RN(!1,3))}())):Q({routes:[],injector:e})}}function K7(t){const e=t.value.routeConfig;return e&&""===e.path}function LN(t){const e=[],n=new Set;for(const r of t){if(!K7(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=LN(r.children);e.push(new ni(r.value,i))}return e.filter(r=>!n.has(r))}function UN(t){return t.data||{}}function BN(t){return t.resolve||{}}function jN(t){return"string"==typeof t.title||null===t.title}function kv(t){return fr(e=>{const n=t(e);return n?yt(n).pipe(me(()=>e)):Q(e)})}const _a=new V("ROUTES");let Vv=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=F(DM)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Q(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Ni(n.loadComponent()).pipe(me($N),Mt(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),_v(()=>{this.componentLoaders.delete(n)})),i=new Jx(r,()=>new Zn).pipe(gv());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function tK(t,e,n,r){return Ni(t.loadChildren()).pipe(me($N),Ct(i=>i instanceof MP||Array.isArray(i)?Q(i):yt(e.compileModuleAsync(i))),me(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(n).injector,s=o.get(_a,[],{optional:!0,self:!0}).flat()),{routes:s.map(xv),injector:o}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(_v(()=>{this.childrenLoaders.delete(r)})),s=new Jx(o,()=>new Zn).pipe(gv());return this.childrenLoaders.set(r,s),s}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function $N(t){return function nK(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Tf=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Zn,this.transitionAbortSubject=new Zn,this.configLoader=F(Vv),this.environmentInjector=F($n),this.urlSerializer=F(Sc),this.rootContexts=F(Oc),this.inputBindingEnabled=null!==F(yf,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Q(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new K8(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new W8(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new kn({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:xc,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(xi(o=>0!==o.id),me(o=>({...o,extractedUrl:n.urlHandlingStrategy.extract(o.rawUrl)})),fr(o=>{this.currentTransition=o;let s=!1,a=!1;return Q(o).pipe(Mt(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),fr(u=>{const c=u.currentBrowserUrl.toString(),l=!n.navigated||u.extractedUrl.toString()!==c||c!==u.currentUrlTree.toString();if(!l&&"reload"!==(u.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const h="";return this.events.next(new da(u.id,this.urlSerializer.serialize(u.rawUrl),h,0)),u.resolve(null),hr}if(n.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return Q(u).pipe(fr(h=>{const f=this.transitions?.getValue();return this.events.next(new gf(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?hr:Promise.resolve(h)}),function Q7(t,e,n,r,i,o){return Ct(s=>function z7(t,e,n,r,i,o,s="emptyOnly"){return new q7(t,e,n,r,i,s,o).recognize()}(t,e,n,r,s.extractedUrl,i,o).pipe(me(({state:a,tree:u})=>({...s,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Mt(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const f=new vN(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&n.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:m}=u,v=new gf(h,this.urlSerializer.serialize(f),p,g);this.events.next(v);const _=TN(0,this.rootComponentType).snapshot;return this.currentTransition=o={...u,targetSnapshot:_,urlAfterRedirects:f,extras:{...m,skipLocationChange:!1,replaceUrl:!1}},Q(o)}{const h="";return this.events.next(new da(u.id,this.urlSerializer.serialize(u.extractedUrl),h,1)),u.resolve(null),hr}}),Mt(u=>{const c=new G8(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}),me(u=>(this.currentTransition=o={...u,guards:p7(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},o)),function D7(t,e){return Ct(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Q({...n,guardsResult:!0}):function A7(t,e,n,r){return yt(t).pipe(Ct(i=>function x7(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?Q(o.map(a=>{const u=Vc(e)??i,c=pa(a,u);return Ni(function w7(t){return t&&Uc(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(Do())})).pipe(ga()):Q(!0)}(i.component,i.route,n,e,r)),Do(i=>!0!==i,!0))}(s,r,i,t).pipe(Ct(a=>a&&function y7(t){return"boolean"==typeof t}(a)?function b7(t,e,n,r){return yt(e).pipe(Dc(i=>pv(function R7(t,e){return null!==t&&e&&e(new Q8(t)),Q(!0)}(i.route.parent,r),function S7(t,e){return null!==t&&e&&e(new Z8(t)),Q(!0)}(i.route,r),function M7(t,e,n){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function g7(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(s)).filter(s=>null!==s).map(s=>Zx(()=>Q(s.guards.map(u=>{const c=Vc(s.node)??n,l=pa(u,c);return Ni(function E7(t){return t&&Uc(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(Do())})).pipe(ga())));return Q(o).pipe(ga())}(t,i.path,n),function P7(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Q(!0);const i=r.map(o=>Zx(()=>{const s=Vc(e)??n,a=pa(o,s);return Ni(function I7(t){return t&&Uc(t.canActivate)}(a)?a.canActivate(e,t):s.runInContext(()=>a(e,t))).pipe(Do())}));return Q(i).pipe(ga())}(t,i.route,n))),Do(i=>!0!==i,!0))}(r,o,t,e):Q(a)),me(a=>({...n,guardsResult:a})))})}(this.environmentInjector,u=>this.events.next(u)),Mt(u=>{if(o.guardsResult=u.guardsResult,So(u.guardsResult))throw SN(0,u.guardsResult);const c=new H8(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(c)}),xi(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",3),!1)),kv(u=>{if(u.guards.canActivateChecks.length)return Q(u).pipe(Mt(c=>{const l=new z8(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),fr(c=>{let l=!1;return Q(c).pipe(function Y7(t,e){return Ct(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Q(n);let o=0;return yt(i).pipe(Dc(s=>function Z7(t,e,n,r){const i=t.routeConfig,o=t._resolve;return void 0!==i?.title&&!jN(i)&&(o[Ac]=i.title),function J7(t,e,n,r){const i=function X7(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return Q({});const o={};return yt(i).pipe(Ct(s=>function eK(t,e,n,r){const i=Vc(e)??r,o=pa(t,i);return Ni(o.resolve?o.resolve(e,n):i.runInContext(()=>o(e,n)))}(t[s],e,n,r).pipe(Do(),Mt(a=>{o[s]=a}))),mv(1),function f8(t){return me(()=>t)}(o),Ao(s=>NN(s)?hr:Cc(s)))}(o,t,e,r).pipe(me(s=>(t._resolvedData=s,t.data=CN(t,n).resolve,i&&jN(i)&&(t.data[Ac]=i.title),null)))}(s.route,r,t,e)),Mt(()=>o++),mv(1),Ct(s=>o===i.length?Q(n):hr))})}(n.paramsInheritanceStrategy,this.environmentInjector),Mt({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(c,"",2)}}))}),Mt(c=>{const l=new q8(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}))}),kv(u=>{const c=l=>{const d=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(l.routeConfig).pipe(Mt(h=>{l.component=h}),me(()=>{})));for(const h of l.children)d.push(...c(h));return d};return fv(c(u.targetSnapshot.root)).pipe(uf(),ua(1))}),kv(()=>this.afterPreactivation()),me(u=>{const c=function r7(t,e,n){const r=kc(t,e._root,n?n._root:void 0);return new wN(r,e)}(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o={...u,targetRouterState:c},o}),Mt(()=>{this.events.next(new Tv)}),((t,e,n,r)=>me(i=>(new f7(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),ua(1),Mt({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Oi(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),n.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),function p8(t){return ht((e,n)=>{vn(t).subscribe(ut(n,()=>n.complete(),Pg)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(Mt(u=>{throw u}))),_v(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Ao(u=>{if(a=!0,PN(u))this.events.next(new Nc(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),function s7(t){return PN(t)&&So(t.url)}(u)?this.events.next(new Cv(u.url)):o.resolve(!1);else{this.events.next(new mf(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(n.errorHandler(u))}catch(c){o.reject(c)}}return hr}))}))}cancelNavigationTransition(n,r,i){const o=new Nc(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function GN(t){return t!==xc}let HN=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===re);return r}getResolvedTitleForRoute(n){return n.data[Ac]}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:function(){return F(rK)},providedIn:"root"})}return t})(),rK=(()=>{class t extends HN{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||t)(B(Gx))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),iK=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:function(){return F(sK)},providedIn:"root"})}return t})();class oK{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let sK=(()=>{class t extends oK{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Rt(t)))(i||t)}}();static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Cf=new V("",{providedIn:"root",factory:()=>({})});let aK=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:function(){return F(uK)},providedIn:"root"})}return t})(),uK=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Bc=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Bc||{});function zN(t,e){t.events.pipe(xi(n=>n instanceof Oi||n instanceof Nc||n instanceof mf||n instanceof da),me(n=>n instanceof Oi||n instanceof da?Bc.COMPLETE:n instanceof Nc&&(0===n.code||1===n.code)?Bc.REDIRECTING:Bc.FAILED),xi(n=>n!==Bc.REDIRECTING),ua(1)).subscribe(()=>{e()})}function cK(t){throw t}function lK(t,e,n){return e.parse("/")}const dK={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},hK={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Wn=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=F(TM),this.isNgZoneEnabled=!1,this._events=new Zn,this.options=F(Cf,{optional:!0})||{},this.pendingTasks=F(CM),this.errorHandler=this.options.errorHandler||cK,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||lK,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=F(aK),this.routeReuseStrategy=F(iK),this.titleStrategy=F(HN),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=F(_a,{optional:!0})?.flat()??[],this.navigationTransitions=F(Tf),this.urlSerializer=F(Sc),this.location=F(Ly),this.componentInputBindingEnabled=!!F(yf,{optional:!0}),this.eventsSubscription=new un,this.isNgZoneEnabled=F(Ee)instanceof Ee&&Ee.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new la,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=TN(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(qN(r)&&this._events.next(r));if(r instanceof gf)GN(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof da)this.rawUrlTree=i.rawUrl;else if(r instanceof vN){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(o,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof Tv)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof Nc)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof Cv){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),s={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||GN(i.source)};this.scheduleNavigation(o,xc,null,s,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof mf&&this.restoreHistory(i,!0),r instanceof Oi&&(this.navigated=!0),qN(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),xc,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(o.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(xv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:s;let d,l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...o};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=o||null}null!==l&&(l=this.removeEmptyProps(l));try{d=hN(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return fN(d,n,l,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=So(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,xc,null,r)}navigate(n,r={skipLocationChange:!1}){return function fK(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new A(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...dK}:!1===r?{...hK}:r,So(n))return rN(this.currentUrlTree,n,i);const o=this.parseUrl(n);return rN(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const o=n[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,c;s?(a=s.resolve,u=s.reject,c=s.promise):c=new Promise((d,h)=>{a=d,u=h});const l=this.pendingTasks.add();return zN(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:o,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function qN(t){return!(t instanceof Tv||t instanceof Cv)}let Df=(()=>{class t{constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new Zn,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=n.events.subscribe(c=>{c instanceof Oi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function RS(t,e,n){return function HG(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?SS:bS}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||t)(b(Wn),b(fa),function jd(t){return function l$(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const o=n[i];if(EA(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}}return null}(St(),t)}("tabindex"),b(Wr),b(Dn),b(Co))};static#t=this.\u0275dir=K({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&Qe("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&Cr("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",sa],skipLocationChange:["skipLocationChange","skipLocationChange",sa],replaceUrl:["replaceUrl","replaceUrl",sa],routerLink:"routerLink"},standalone:!0,features:[z0,Un]})}return t})(),WN=(()=>{class t{get isActive(){return this._isActive}constructor(n,r,i,o,s){this.router=n,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Ke,this.routerEventsSubscription=n.events.subscribe(a=>{a instanceof Oi&&this.update()})}ngAfterContentInit(){Q(this.links.changes,Q(null)).pipe(cs()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=yt(n).pipe(cs()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){const r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const n=this.hasActiveLinks();this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(n))})}isLinkActive(n){const r=function pK(t){return!!t.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&n.isActive(i.urlTree,r)}hasActiveLinks(){const n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}static#e=this.\u0275fac=function(r){return new(r||t)(b(Wn),b(Dn),b(Wr),b(jh),b(Df,8))};static#t=this.\u0275dir=K({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(1&r&&nM(o,Df,5),2&r){let s;tM(s=function rM(){return function J3(t,e){return t[gr].queries[e].queryList}(T(),hb())}())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Un]})}return t})();class KN{}let gK=(()=>{class t{constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(xi(n=>n instanceof Oi),Dc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=ry(o.providers,n,`Route: ${o.path}`));const s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return yt(i).pipe(cs())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):Q(null);const o=i.pipe(Ct(s=>null===s?Q(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));return r.loadComponent&&!r._loadedComponent?yt([o,this.loader.loadComponent(r)]).pipe(cs()):o})}static#e=this.\u0275fac=function(r){return new(r||t)(B(Wn),B(DM),B($n),B(KN),B(Vv))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Fv=new V("");let QN=(()=>{class t{constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof gf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Oi?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof da&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof IN&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new IN(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function y0(){throw new Error("invalid")}()};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac})}return t})();function ri(t,e){return{\u0275kind:t,\u0275providers:e}}function ZN(){const t=F(en);return e=>{const n=t.get(oa);if(e!==n.components[0])return;const r=t.get(Wn),i=t.get(JN);1===t.get(Lv)&&r.initialNavigation(),t.get(XN,null,oe.Optional)?.setUpPreloading(),t.get(Fv,null,oe.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const JN=new V("",{factory:()=>new Zn}),Lv=new V("",{providedIn:"root",factory:()=>1}),XN=new V("");function vK(t){return ri(0,[{provide:XN,useExisting:gK},{provide:KN,useExisting:t}])}const e1=new V("ROUTER_FORROOT_GUARD"),EK=[Ly,{provide:Sc,useClass:yv},Wn,Oc,{provide:fa,useFactory:function YN(t){return t.routerState.root},deps:[Wn]},Vv,[]];function wK(){return new xM("Router",Wn)}let t1=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[EK,[],{provide:_a,multi:!0,useValue:n},{provide:e1,useFactory:AK,deps:[[Wn,new jn,new Hd]]},{provide:Cf,useValue:r||{}},r?.useHash?{provide:Co,useClass:N6}:{provide:Co,useClass:ux},{provide:Fv,useFactory:()=>{const t=F(Z9),e=F(Ee),n=F(Cf),r=F(Tf),i=F(Sc);return n.scrollOffset&&t.setOffset(n.scrollOffset),new QN(i,r,t,e,n)}},r?.preloadingStrategy?vK(r.preloadingStrategy).\u0275providers:[],{provide:xM,multi:!0,useFactory:wK},r?.initialNavigation?bK(r):[],r?.bindToComponentInputs?ri(8,[bN,{provide:yf,useExisting:bN}]).\u0275providers:[],[{provide:n1,useFactory:ZN},{provide:Sy,multi:!0,useExisting:n1}]]}}static forChild(n){return{ngModule:t,providers:[{provide:_a,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||t)(B(e1,8))};static#t=this.\u0275mod=Fn({type:t});static#n=this.\u0275inj=En({})}return t})();function AK(t){return"guarded"}function bK(t){return["disabled"===t.initialNavigation?ri(3,[{provide:Iy,multi:!0,useFactory:()=>{const e=F(Wn);return()=>{e.setUpLocationChangeListener()}}},{provide:Lv,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?ri(2,[{provide:Lv,useValue:0},{provide:Iy,multi:!0,deps:[en],useFactory:e=>{const n=e.get(M6,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(Wn),o=e.get(JN);zN(i,()=>{r(!0)}),e.get(Tf).afterPreactivation=()=>(r(!0),o.closed?Q(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const n1=new V("");let RK=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=er({type:t,selectors:[["app-home"]],standalone:!0,features:[wo],decls:9,vars:0,consts:[[1,"home-container"],[1,"content-container"],[1,"introduction"],[1,"image-container"],["src","../../../assets/home.jpg","alt","Introduction Image"]],template:function(r,i){1&r&&(G(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),ne(4,"Welcome to Royal Chicken"),$(),G(5,"p"),ne(6," Discover a culinary journey like no other. Our chefs craft delicious dishes using the finest ingredients, providing you with an unforgettable dining experience. "),$()(),G(7,"div",3),Pt(8,"img",4),$()()())},styles:[".home-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.content-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:50%}.introduction[_ngcontent-%COMP%]{max-width:50%;padding:20px;text-align:left;color:orange}.image-container[_ngcontent-%COMP%]{max-width:50%;padding:20px;text-align:right;max-height:50%}img[_ngcontent-%COMP%]{width:100%;border-radius:10%;height:100%}"]})}return t})();function r1(t,e,n,r,i,o,s){try{var a=t[o](s),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function E(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(u){r1(o,r,i,s,a,"next",u)}function a(u){r1(o,r,i,s,a,"throw",u)}s(void 0)})}}const i1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},o1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,s||(h=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(i1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==c||null==d)throw new NK;r.push(o<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class NK extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Af=function(t){return function(t){const e=i1(t);return o1.encodeByteArray(e,!0)}(t).replace(/\./g,"")},bf=function(t){try{return o1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Sf=()=>{try{return function VK(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&bf(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},a1=()=>{var t;return null===(t=Sf())||void 0===t?void 0:t.config};class u1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function Rn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class ki extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jc.prototype.create)}}class jc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function ZK(t,e){return t.replace(JK,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new ki(i,`${this.serviceName}: ${s} (${i}).`,r)}}const JK=/\{\$([^}]+)}/g;function Bv(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(l1(o)&&l1(s)){if(!Bv(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function l1(t){return null!==t&&"object"==typeof t}function d1(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class eQ{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function tQ(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=jv),void 0===i.error&&(i.error=jv),void 0===i.complete&&(i.complete=jv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jv(){}function Pn(t){return t&&t._delegate?t._delegate:t}class Ro{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Po="[DEFAULT]";class aQ{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new u1;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function cQ(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Po})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Po){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return E(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Po){return this.instances.has(e)}getOptions(e=Po){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Po?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Po){return this.component?this.component.multipleInstances?e:Po:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class lQ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new aQ(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const Gv=[];var ce=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ce||{});const h1={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},dQ=ce.INFO,hQ={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},fQ=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=hQ[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Hv{constructor(e){this.name=e,this._logLevel=dQ,this._logHandler=fQ,this._userLogHandler=null,Gv.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?h1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}}const pQ=(t,e)=>e.some(n=>t instanceof n);let f1,p1;const g1=new WeakMap,zv=new WeakMap,m1=new WeakMap,qv=new WeakMap,Wv=new WeakMap;let Kv={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return zv.get(t);if("objectStoreNames"===e)return t.objectStoreNames||m1.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function EQ(t){return"function"==typeof t?function IQ(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function mQ(){return p1||(p1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Qv(this),e),Vi(g1.get(this))}:function(...e){return Vi(t.apply(Qv(this),e))}:function(e,...n){const r=t.call(Qv(this),e,...n);return m1.set(r,e.sort?e.sort():[e]),Vi(r)}}(t):(t instanceof IDBTransaction&&function yQ(t){if(zv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});zv.set(t,e)}(t),pQ(t,function gQ(){return f1||(f1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Kv):t)}function Vi(t){if(t instanceof IDBRequest)return function _Q(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Vi(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&g1.set(n,t)}).catch(()=>{}),Wv.set(e,t),e}(t);if(qv.has(t))return qv.get(t);const e=EQ(t);return e!==t&&(qv.set(t,e),Wv.set(e,t)),e}const Qv=t=>Wv.get(t),TQ=["get","getKey","getAll","getAllKeys","count"],CQ=["put","add","delete","clear"],Yv=new Map;function _1(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Yv.get(e))return Yv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=CQ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!TQ.includes(n))return;const o=function(){var s=E(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return s.apply(this,arguments)}}();return Yv.set(e,o),o}!function vQ(t){Kv=t(Kv)}(t=>({...t,get:(e,n,r)=>_1(e,n)||t.get(e,n,r),has:(e,n)=>!!_1(e,n)||t.has(e,n)}));class DQ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function AQ(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const Zv="@firebase/app",Mo=new Hv("@firebase/app"),Pf="[DEFAULT]",JQ={[Zv]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},xo=new Map,Mf=new Map;function XQ(t,e){try{t.container.addComponent(e)}catch(n){Mo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ya(t){const e=t.name;if(Mf.has(e))return Mo.debug(`There were multiple attempts to register component ${e}.`),!1;Mf.set(e,t);for(const n of xo.values())XQ(n,t);return!0}const ii=new jc("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class tY{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ro("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ii.create("app-deleted",{appName:this._name})}}const xf="10.7.1";function I1(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Pf,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw ii.create("bad-app-name",{appName:String(i)});if(n||(n=a1()),!n)throw ii.create("no-options");const o=xo.get(i);if(o){if(Bv(n,o.options)&&Bv(r,o.config))return o;throw ii.create("duplicate-app",{appName:i})}const s=new lQ(i);for(const u of Mf.values())s.addComponent(u);const a=new tY(n,r,s);return xo.set(i,a),a}function E1(t=Pf){const e=xo.get(t);if(!e&&t===Pf&&a1())return I1();if(!e)throw ii.create("no-app",{appName:t});return e}function w1(){return Array.from(xo.values())}function Kn(t,e,n){var r;let i=null!==(r=JQ[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Mo.warn(a.join(" "))}ya(new Ro(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const nY="firebase-heartbeat-database",rY=1,$c="firebase-heartbeat-store";let Xv=null;function T1(){return Xv||(Xv=function wQ(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Vi(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Vi(s.result),u.oldVersion,u.newVersion,Vi(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(nY,rY,{upgrade:(t,e)=>{0===e&&t.createObjectStore($c)}}).catch(t=>{throw ii.create("idb-open",{originalErrorMessage:t.message})})),Xv}function eI(){return(eI=E(function*(t){try{return yield(yield T1()).transaction($c).objectStore($c).get(D1(t))}catch(e){if(e instanceof ki)Mo.warn(e.message);else{const n=ii.create("idb-get",{originalErrorMessage:e?.message});Mo.warn(n.message)}}})).apply(this,arguments)}function C1(t,e){return tI.apply(this,arguments)}function tI(){return(tI=E(function*(t,e){try{const r=(yield T1()).transaction($c,"readwrite");yield r.objectStore($c).put(e,D1(t)),yield r.done}catch(n){if(n instanceof ki)Mo.warn(n.message);else{const r=ii.create("idb-set",{originalErrorMessage:n?.message});Mo.warn(r.message)}}})).apply(this,arguments)}function D1(t){return`${t.name}!${t.options.appId}`}class aY{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new cY(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return E(function*(){var n,r;const o=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=A1();if((null!=(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)||(e._heartbeatsCache=yield e._heartbeatsCachePromise,null!=(null===(r=e._heartbeatsCache)||void 0===r?void 0:r.heartbeats)))&&e._heartbeatsCache.lastSentHeartbeatDate!==s&&!e._heartbeatsCache.heartbeats.some(a=>a.date===s))return e._heartbeatsCache.heartbeats.push({date:s,agent:o}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(a=>{const u=new Date(a.date).valueOf();return Date.now()-u<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return E(function*(){var n;if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const r=A1(),{heartbeatsToSend:i,unsentEntries:o}=function uY(t,e=1024){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),b1(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),b1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Af(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(e._heartbeatsCache.heartbeats=o,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function A1(){return(new Date).toISOString().substring(0,10)}class cY{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return E(function*(){return!!function KK(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function QK(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(n){e(n)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return E(function*(){if(yield e._canUseIndexedDBPromise){const r=yield function iY(t){return eI.apply(this,arguments)}(e.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var n=this;return E(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return C1(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return E(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return C1(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function b1(t){return Af(JSON.stringify({version:2,heartbeats:t})).length}!function lY(t){ya(new Ro("platform-logger",e=>new DQ(e),"PRIVATE")),ya(new Ro("heartbeat",e=>new aY(e),"PRIVATE")),Kn(Zv,"0.9.25",t),Kn(Zv,"0.9.25","esm2017"),Kn("fire-js","")}(""),Kn("firebase","10.7.1","app");class fY extends un{constructor(e,n){super()}schedule(e,n=0){return this}}const Nf={setInterval(t,e,...n){const{delegate:r}=Nf;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Nf;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class S1 extends fY{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Nf.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Nf.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,us(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const R1={now:()=>(R1.delegate||Date).now(),delegate:void 0};class Gc{constructor(e,n=Gc.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Gc.now=R1.now;class P1 extends Gc{constructor(e,n=Gc.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const mY=new class gY extends P1{}(class pY extends S1{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),_Y=new P1(S1),nI=new Bs("ANGULARFIRE2_VERSION");const rI=(t,e)=>{const n=e?[e]:w1(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};class yY{constructor(){return rI(vY)}}const vY="app-check";function va(){}class x1{zone;delegate;constructor(e,n=mY){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},n,r)}}class IY{zone;task=null;constructor(e){this.zone=e}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",va,{},va,va)),n.pipe(Mt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let N1=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new x1(Zone.current)),this.insideAngular=n.run(()=>new x1(Zone.current,_Y)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(B(Ee))};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ia(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function No(t){return Ia().ngZone.run(()=>t())}function wY(t){return function TY(t){return function(n){return(n=n.lift(new IY(t.ngZone))).pipe(_d(t.outsideAngular),md(t.insideAngular))}}(Ia())(t)}const CY=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),No(()=>t.apply(void 0,r))},Fi=(t,e)=>function(){let n;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(n||=No(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",va,{},va,va))),r[o]=CY(r[o],n));const i=function EY(t){return Ia().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof He){const o=Ia();return i.pipe(_d(o.outsideAngular),md(o.insideAngular))}return No(()=>i)}return i instanceof He?i.pipe(wY):i instanceof Promise?No(()=>new Promise((o,s)=>i.then(a=>No(()=>o(a)),a=>No(()=>s(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:No(()=>i)};class Hc{constructor(e){return e}}class O1{constructor(){return w1()}}const iI=new V("angularfire2._apps"),AY={provide:Hc,useFactory:function DY(t){return t&&1===t.length?t[0]:new Hc(E1())},deps:[[new jn,iI]]},bY={provide:O1,deps:[[new jn,iI]]};function SY(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Hc(r)}}let RY=(()=>{class t{constructor(n){Kn("angularfire",nI.full,"core"),Kn("angularfire",nI.full,"app"),Kn("angular",qS.full,n.toString())}static \u0275fac=function(r){return new(r||t)(B(_o))};static \u0275mod=Fn({type:t});static \u0275inj=En({providers:[AY,bY]})}return t})();function PY(t,...e){return{ngModule:RY,providers:[{provide:iI,useFactory:SY(t),multi:!0,deps:[Ee,en,N1,...e]}]}}const MY=Fi(I1,!0);const xY=function k1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},V1=new jc("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Of=new Hv("@firebase/auth");function kf(t,...e){Of.logLevel<=ce.ERROR&&Of.error(`Auth (${xf}): ${t}`,...e)}function mn(t,...e){throw oI(t,...e)}function Rr(t,...e){return oI(t,...e)}function oI(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return V1.create(t,...e)}function R(t,e,...n){if(!t)throw oI(e,...n)}function Pr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw kf(e),new Error(e)}function Li(t,e){t||Pr(e)}function L1(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}function OY(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function sI(){return"http:"===L1()||"https:"===L1()}()||function qK(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}()||"connection"in navigator))||navigator.onLine}class qc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Li(n>e,"Short delay should be less than long delay!"),this.isMobile=function HK(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rn())}()||function WK(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return OY()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class U1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Pr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Pr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Pr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const VY={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},FY=new qc(3e4,6e4);function Ve(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Fe(t,e,n,r){return uI.apply(this,arguments)}function uI(){return(uI=E(function*(t,e,n,r,i={}){return B1(t,i,E(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=d1(Object.assign({key:t.config.apiKey},s)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),U1.fetch()(j1(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function B1(t,e,n){return cI.apply(this,arguments)}function cI(){return(cI=E(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},VY),e);try{const i=new UY(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw Wc(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw Wc(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===u)throw Wc(t,"email-already-in-use",s);if("USER_DISABLED"===u)throw Wc(t,"user-disabled",s);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function F1(t,e,n){const r=Object.assign(Object.assign({},xY()),{[e]:n});return new jc("auth","Firebase",r).create(e,{appName:t.name})}(t,l,c);mn(t,l)}}catch(i){if(i instanceof ki)throw i;mn(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function j1(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function aI(t,e){Li(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class UY{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Rr(this.auth,"network-request-failed")),FY.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Wc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Rr(t,e,r);return i.customData._tokenResponse=n,i}function fI(){return(fI=E(function*(t,e){return Fe(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function gI(){return(gI=E(function*(t,e){return Fe(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Kc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function mI(){return(mI=E(function*(t,e=!1){const n=Pn(t),r=yield n.getIdToken(e),i=Vf(r);R(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Kc(_I(i.auth_time)),issuedAtTime:Kc(_I(i.iat)),expirationTime:Kc(_I(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function _I(t){return 1e3*Number(t)}function Vf(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return kf("JWT malformed, contained fewer than 3 sections"),null;try{const i=bf(n);return i?JSON.parse(i):(kf("Failed to decode base64 JWT payload"),null)}catch(i){return kf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function si(t,e){return yI.apply(this,arguments)}function yI(){return(yI=E(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof ki&&function qY({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class WY{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(E(function*(){yield n.iteration()}),r)}iteration(){var e=this;return E(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class q1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kc(this.lastLoginAt),this.creationTime=Kc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Qc(t){return vI.apply(this,arguments)}function vI(){return vI=E(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield si(t,function GY(t,e){return gI.apply(this,arguments)}(n,{idToken:r}));R(i?.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?function YY(t){return t.map(e=>{var{providerId:n}=e,r=Lg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(o.providerUserInfo):[],a=function QY(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,s),l=!!t.isAnonymous&&!(t.email&&o.passwordHash||a?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new q1(o.createdAt,o.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),vI.apply(this,arguments)}function II(){return(II=E(function*(t){const e=Pn(t);yield Qc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function EI(){return(EI=E(function*(t,e){const n=yield B1(t,{},E(function*(){const r=d1({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=j1(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",U1.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}function wI(){return(wI=E(function*(t,e){return Fe(t,"POST","/v2/accounts:revokeToken",Ve(t,e))})).apply(this,arguments)}class Yc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){R(e.idToken,"internal-error"),R(typeof e.idToken<"u","internal-error"),R(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function zY(t){const e=Vf(t);return R(e,"internal-error"),R(typeof e.exp<"u","internal-error"),R(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return E(function*(){return R(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return E(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function ZY(t,e){return EI.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Yc;return r&&(R("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(R("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(R("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Yc,this.toJSON())}_performRefresh(){return Pr("not implemented")}}function Ui(t,e){R("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Oo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Lg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new WY(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new q1(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var n=this;return E(function*(){const r=yield si(n,n.stsTokenManager.getToken(n.auth,e));return R(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function HY(t){return mI.apply(this,arguments)}(this,e)}reload(){return function KY(t){return II.apply(this,arguments)}(this)}_assign(e){this!==e&&(R(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Oo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){R(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return E(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Qc(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return E(function*(){const n=yield e.getIdToken();return yield si(e,function jY(t,e){return fI.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(o=n.phoneNumber)&&void 0!==o?o:void 0,p=null!==(s=n.photoURL)&&void 0!==s?s:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,v=null!==(c=n.createdAt)&&void 0!==c?c:void 0,_=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:w,emailVerified:S,isAnonymous:k,providerData:q,stsTokenManager:ge}=n;R(w&&ge,e,"internal-error");const at=Yc.fromJSON(this.name,ge);R("string"==typeof w,e,"internal-error"),Ui(d,e.name),Ui(h,e.name),R("boolean"==typeof S,e,"internal-error"),R("boolean"==typeof k,e,"internal-error"),Ui(f,e.name),Ui(p,e.name),Ui(g,e.name),Ui(m,e.name),Ui(v,e.name),Ui(_,e.name);const _i=new Oo({uid:w,auth:e,email:h,emailVerified:S,displayName:d,isAnonymous:k,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:at,createdAt:v,lastLoginAt:_});return q&&Array.isArray(q)&&(_i.providerData=q.map(mu=>Object.assign({},mu))),m&&(_i._redirectEventId=m),_i}static _fromIdTokenResponse(e,n,r=!1){return E(function*(){const i=new Yc;i.updateFromServerResponse(n);const o=new Oo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Qc(o),o})()}}const W1=new Map;function ai(t){Li(t instanceof Function,"Expected a class definition");let e=W1.get(t);return e?(Li(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,W1.set(t,e),e)}const K1=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return E(function*(){return!0})()}_set(n,r){var i=this;return E(function*(){i.storage[n]=r})()}_get(n){var r=this;return E(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return E(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Ff(t,e,n){return`firebase:${t}:${e}:${n}`}class wa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Ff(this.userKey,i.apiKey,o),this.fullPersistenceKey=Ff("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return E(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Oo._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return E(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return E(function*(){if(!n.length)return new wa(ai(K1),e,r);const i=(yield Promise.all(n.map(function(){var c=E(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let o=i[0]||ai(K1);const s=Ff(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(s);if(l){const d=Oo._fromJSON(e,l);c!==o&&(a=d),o=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return o._shouldAllowMigration&&u.length?(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(function(){var c=E(function*(l){if(l!==o)try{yield l._remove(s)}catch{}});return function(l){return c.apply(this,arguments)}}())),new wa(o,e,r)):new wa(o,e,r)})()}}function Q1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function J1(t=Rn()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function Y1(t=Rn()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function eO(t=Rn()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function tO(t=Rn()){return/webos/i.test(t)}(e))return"Webos";if(function TI(t=Rn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function Z1(t=Rn()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function X1(t=Rn()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function nO(t,e=[]){let n;switch(t){case"Browser":n=Q1(Rn());break;case"Worker":n=`${Q1(Rn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${xf}/${r}`}class tZ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return E(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function CI(){return(CI=E(function*(t,e={}){return Fe(t,"GET","/v2/passwordPolicy",Ve(t,e))})).apply(this,arguments)}class iZ{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=s.minPasswordLength)&&void 0!==n?n:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(o=e.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=null===(n=u.meetsMinPasswordLength)||void 0===n||n),u.isValid&&(u.isValid=null===(r=u.meetsMaxPasswordLength)||void 0===r||r),u.isValid&&(u.isValid=null===(i=u.containsLowercaseLetter)||void 0===i||i),u.isValid&&(u.isValid=null===(o=u.containsUppercaseLetter)||void 0===o||o),u.isValid&&(u.isValid=null===(s=u.containsNumericCharacter)||void 0===s||s),u.isValid&&(u.isValid=null===(a=u.containsNonAlphanumericCharacter)||void 0===a||a),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){let r;this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class oZ{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rO(this),this.idTokenSubscription=new rO(this),this.beforeStateQueue=new tZ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=V1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=ai(n)),this._initializationPromise=this.queue(E(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield wa.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return E(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return E(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=o?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(o=c.user,s=!0)}if(!o)return n.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield n.beforeStateQueue.runMiddleware(o)}catch(a){o=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return o?n.reloadAndSetCurrentUserOrClear(o):n.directlySetCurrentUser(null)}return R(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===o._redirectEventId?n.directlySetCurrentUser(o):n.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var n=this;return E(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return E(function*(){try{yield Qc(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function kY(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return E(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return E(function*(){const r=e?Pn(e):null;return r&&R(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return E(function*(){if(!r._deleted)return e&&R(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(E(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return E(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(E(function*(){yield n.assertedPersistence.setPersistence(ai(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var n=this;return E(function*(){n._getPasswordPolicyInternal()||(yield n._updatePasswordPolicy());const r=n._getPasswordPolicyInternal();return r.schemaVersion!==n.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(n._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return E(function*(){const n=yield function nZ(t){return CI.apply(this,arguments)}(e),r=new iZ(n);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new jc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){var n=this;return E(function*(){if(n.currentUser){const r=yield n.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};null!=n.tenantId&&(i.tenantId=n.tenantId),yield function JY(t,e){return wI.apply(this,arguments)}(n,i)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return E(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return E(function*(){if(!n.redirectPersistenceManager){const r=e&&ai(e)||n._popupRedirectResolver;R(r,n,"argument-error"),n.redirectPersistenceManager=yield wa.create(n,[ai(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return E(function*(){var r,i;return n._isInitialized&&(yield n.queue(E(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return E(function*(){if(e===n.currentUser)return n.queue(E(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o="function"==typeof n?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(R(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),"function"==typeof n){const u=e.addObserver(n,r,i);return()=>{s=!0,u()}}{const u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){var n=this;return E(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return R(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return E(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return E(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function NY(t,...e){Of.logLevel<=ce.WARN&&Of.warn(`Auth (${xf}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}class rO{constructor(e){this.auth=e,this.observer=null,this.addObserver=function XK(t,e){const n=new eQ(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return R(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function iO(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new qc(3e4,6e4),new qc(2e3,1e4),new qc(3e4,6e4),new qc(5e3,15e3),encodeURIComponent("fac");var kO="@firebase/auth";class aX{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return E(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){R(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}Sf(),function cX(t){ya(new Ro("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;R(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nO(t)},c=new oZ(r,i,o,u);return function hZ(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ai);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ya(new Ro("auth-internal",e=>{const n=function nt(t){return Pn(t)}(e.getProvider("auth").getImmediate());return new aX(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kn(kO,"1.5.1",function uX(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Kn(kO,"1.5.1","esm2017")}("Browser");class UO{constructor(){return rI("auth")}}var x,mX=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},cr={},mw=mw||{},X=mX||self;function Yf(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function nl(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var _w="closure_uid_"+(1e9*Math.random()>>>0),yX=0;function vX(t,e,n){return t.call.apply(t.bind,arguments)}function IX(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Gt(t,e,n){return(Gt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?vX:IX).apply(null,arguments)}function Zf(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function vt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function Bi(){this.s=this.s,this.o=this.o}Bi.prototype.s=!1,Bi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function _X(t){Object.prototype.hasOwnProperty.call(t,_w)&&t[_w]||(t[_w]=++yX)}(this)},Bi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const BO=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function yw(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function jO(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Yf(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function Ht(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ht.prototype.h=function(){this.defaultPrevented=!0};var wX=function(){if(!X.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};X.addEventListener("test",n,e),X.removeEventListener("test",n,e)}catch{}return t}();function rl(t){return/^[\s\xa0]*$/.test(t)}function Jf(){var t=X.navigator;return t&&(t=t.userAgent)?t:""}function Mr(t){return-1!=Jf().indexOf(t)}function vw(t){return vw[" "](t),t}vw[" "]=function(){};var Ew,CX=Mr("Opera"),Ta=Mr("Trident")||Mr("MSIE"),$O=Mr("Edge"),Iw=$O||Ta,GO=Mr("Gecko")&&!(-1!=Jf().toLowerCase().indexOf("webkit")&&!Mr("Edge"))&&!(Mr("Trident")||Mr("MSIE"))&&!Mr("Edge"),DX=-1!=Jf().toLowerCase().indexOf("webkit")&&!Mr("Edge");function HO(){var t=X.document;return t?t.documentMode:void 0}e:{var ww="",Tw=function(){var t=Jf();return GO?/rv:([^\);]+)(\)|;)/.exec(t):$O?/Edge\/([\d\.]+)/.exec(t):Ta?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):DX?/WebKit\/(\S+)/.exec(t):CX?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(Tw&&(ww=Tw?Tw[1]:""),Ta){var Cw=HO();if(null!=Cw&&Cw>parseFloat(ww)){Ew=String(Cw);break e}}Ew=ww}var AX=X.document&&Ta&&(HO()||parseInt(Ew,10))||void 0;function il(t,e){if(Ht.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(GO){e:{try{vw(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:bX[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&il.$.h.call(this)}}vt(il,Ht);var bX={2:"touch",3:"pen",4:"mouse"};il.prototype.h=function(){il.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ol="closure_listenable_"+(1e6*Math.random()|0),SX=0;function RX(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++SX,this.fa=this.ia=!1}function Xf(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Aw(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function qO(t){const e={};for(const n in t)e[n]=t[n];return e}const WO="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function KO(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let o=0;o<WO.length;o++)n=WO[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ep(t){this.src=t,this.g={},this.h=0}function bw(t,e){var n=e.type;if(n in t.g){var o,r=t.g[n],i=BO(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Xf(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function Sw(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}ep.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=Sw(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):((e=new RX(e,this.src,o,!!r,i)).ia=n,t.push(e)),e};var Rw="closure_lm_"+(1e6*Math.random()|0),Pw={};function QO(t,e,n,r,i){if(r&&r.once)return ZO(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)QO(t,e[o],n,r,i);return null}return n=Ow(n),t&&t[ol]?t.O(e,n,nl(r)?!!r.capture:!!r,i):YO(t,e,n,!1,r,i)}function YO(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=nl(i)?!!i.capture:!!i,a=xw(t);if(a||(t[Rw]=a=new ep(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function MX(){const e=xX;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)wX||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(XO(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function ZO(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)ZO(t,e[o],n,r,i);return null}return n=Ow(n),t&&t[ol]?t.P(e,n,nl(r)?!!r.capture:!!r,i):YO(t,e,n,!0,r,i)}function JO(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)JO(t,e[o],n,r,i);else r=nl(r)?!!r.capture:!!r,n=Ow(n),t&&t[ol]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=Sw(o=t.g[e],n,r,i))&&(Xf(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=xw(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Sw(e,n,r,i)),(n=-1<t?e[t]:null)&&Mw(n))}function Mw(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[ol])bw(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(XO(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=xw(e))?(bw(n,t),0==n.h&&(n.src=null,e[Rw]=null)):Xf(t)}}}function XO(t){return t in Pw?Pw[t]:Pw[t]="on"+t}function xX(t,e){if(t.fa)t=!0;else{e=new il(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Mw(t),t=n.call(r,e)}return t}function xw(t){return(t=t[Rw])instanceof ep?t:null}var Nw="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ow(t){return"function"==typeof t?t:(t[Nw]||(t[Nw]=function(e){return t.handleEvent(e)}),t[Nw])}function It(){Bi.call(this),this.i=new ep(this),this.S=this,this.J=null}function xt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new Ht(e,t);else if(e instanceof Ht)e.target=e.target||t;else{var i=e;KO(e=new Ht(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=tp(s,r,!0,e)&&i}if(i=tp(s=e.g=t,r,!0,e)&&i,i=tp(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=tp(s=e.g=n[o],r,!1,e)&&i}function tp(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,u=s.la||s.src;s.ia&&bw(t.i,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}vt(It,Bi),It.prototype[ol]=!0,It.prototype.removeEventListener=function(t,e,n,r){JO(this,t,e,n,r)},It.prototype.N=function(){if(It.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Xf(n[r]);delete t.g[e],t.h--}}this.J=null},It.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},It.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var kw=X.JSON.stringify;function OX(){var t=Vw;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var ek=new class NX{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new VX,t=>t.reset());class VX{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function FX(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function LX(t){X.setTimeout(()=>{throw t},0)}let sl,al=!1,Vw=new class kX{constructor(){this.h=this.g=null}add(e,n){const r=ek.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},tk=()=>{const t=X.Promise.resolve(void 0);sl=()=>{t.then(UX)}};var UX=()=>{for(var t;t=OX();){try{t.h.call(t.g)}catch(n){LX(n)}var e=ek;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}al=!1};function np(t,e){It.call(this),this.h=t||1,this.g=e||X,this.j=Gt(this.qb,this),this.l=Date.now()}function Fw(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function Lw(t,e,n){if("function"==typeof t)n&&(t=Gt(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Gt(t.handleEvent,t)}return 2147483647<Number(e)?-1:X.setTimeout(t,e||0)}function nk(t){t.g=Lw(()=>{t.g=null,t.i&&(t.i=!1,nk(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}vt(np,It),(x=np.prototype).ga=!1,x.T=null,x.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),xt(this,"tick"),this.ga&&(Fw(this),this.start()))}},x.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},x.N=function(){np.$.N.call(this),Fw(this),delete this.g};class BX extends Bi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:nk(this)}N(){super.N(),this.g&&(X.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ul(t){Bi.call(this),this.h=t,this.g={}}vt(ul,Bi);var rk=[];function ik(t,e,n,r){Array.isArray(n)||(n&&(rk[0]=n.toString()),n=rk);for(var i=0;i<n.length;i++){var o=QO(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function ok(t){Aw(t.g,function(e,n){this.g.hasOwnProperty(n)&&Mw(e)},t),t.g={}}function rp(){this.g=!0}function Ca(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function HX(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return kw(n)}catch{return e}}(t,n)+(r?" "+r:"")})}ul.prototype.N=function(){ul.$.N.call(this),ok(this)},ul.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},rp.prototype.Ea=function(){this.g=!1},rp.prototype.info=function(){};var Lo={},sk=null;function ip(){return sk=sk||new It}function ak(t){Ht.call(this,Lo.Ta,t)}function cl(t){const e=ip();xt(e,new ak(e))}function uk(t,e){Ht.call(this,Lo.STAT_EVENT,t),this.stat=e}function on(t){const e=ip();xt(e,new uk(e,t))}function ck(t,e){Ht.call(this,Lo.Ua,t),this.size=e}function ll(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return X.setTimeout(function(){t()},e)}Lo.Ta="serverreachability",vt(ak,Ht),Lo.STAT_EVENT="statevent",vt(uk,Ht),Lo.Ua="timingevent",vt(ck,Ht);var op={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},lk={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Uw(){}function hk(){}Uw.prototype.h=null;var $w,dl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Bw(){Ht.call(this,"d")}function jw(){Ht.call(this,"c")}function sp(){}function hl(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new ul(this),this.P=zX,this.V=new np(t=Iw?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new fk}function fk(){this.i=null,this.g="",this.h=!1}vt(Bw,Ht),vt(jw,Ht),vt(sp,Uw),sp.prototype.g=function(){return new XMLHttpRequest},sp.prototype.i=function(){return{}},$w=new sp;var zX=45e3,pk={},Gw={};function Hw(t,e,n){t.L=1,t.A=lp(ci(e)),t.u=n,t.S=!0,gk(t,null)}function gk(t,e){t.G=Date.now(),fl(t),t.B=ci(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),Dk(n.i,"t",r),t.o=0,n=t.l.J,t.h=new fk,t.g=Qk(t.l,n?e:null,!t.u),0<t.O&&(t.M=new BX(Gt(t.Pa,t,t.g),t.O)),ik(t.U,t.g,"readystatechange",t.nb),e=t.I?qO(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),cl(),function jX(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");s=2<=d.length&&"type"==d[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.j,t.v,t.B,t.m,t.W,t.u)}function mk(t){return!!t.g&&"GET"==t.v&&2!=t.L&&t.l.Ha}function _k(t,e,n){let i,r=!0;for(;!t.J&&t.o<n.length;){if(i=qX(t,n),i==Gw){4==e&&(t.s=4,on(14),r=!1),Ca(t.j,t.m,null,"[Incomplete Response]");break}if(i==pk){t.s=4,on(15),Ca(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Ca(t.j,t.m,i,null),zw(t,i)}mk(t)&&0!=t.o&&(t.h.g=t.h.g.slice(t.o),t.o=0),4!=e||0!=n.length||t.h.h||(t.s=1,on(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Jw(e),e.M=!0,on(11))):(Ca(t.j,t.m,n,"[Invalid Chunked Response]"),Uo(t),pl(t))}function qX(t,e){var n=t.o,r=e.indexOf("\n",n);return-1==r?Gw:(n=Number(e.substring(n,r)),isNaN(n)?pk:(r+=1)+n>e.length?Gw:(e=e.slice(r,r+n),t.o=r+n,e))}function fl(t){t.Y=Date.now()+t.P,yk(t,t.P)}function yk(t,e){if(null!=t.C)throw Error("WatchDog timer not null");t.C=ll(Gt(t.lb,t),e)}function ap(t){t.C&&(X.clearTimeout(t.C),t.C=null)}function pl(t){0==t.l.H||t.J||zk(t.l,t)}function Uo(t){ap(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,Fw(t.V),ok(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function zw(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||qw(n.i,t)))if(!t.K&&qw(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;mp(n),pp(n)}Zw(n),on(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=ll(Gt(n.ib,n),6e3));if(1>=Sk(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else jo(n,11)}else if((t.K||n.g==t)&&mp(n),!rl(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const l=c[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var o=r.i;o.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(Ww(o,o.h),o.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Le(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=t;if((r=n).wa=Kk(r,r.J?r.pa:null,r.Y),s.K){Rk(r.i,s);var a=s,u=r.L;u&&a.setTimeout(u),a.C&&(ap(a),fl(a)),r.g=s}else Gk(r);0<n.j.length&&gp(n)}else"stop"!=c[0]&&"close"!=c[0]||jo(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?jo(n,7):Yw(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}cl()}catch{}}function vk(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Yf(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function KX(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Yf(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function WX(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(Yf(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(x=hl.prototype).setTimeout=function(t){this.P=t},x.nb=function(t){t=t.target;const e=this.M;e&&3==xr(t)?e.l():this.Pa(t)},x.Pa=function(t){try{if(t==this.g)e:{const l=xr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||Iw||this.g&&(this.h.h||this.g.ja()||Fk(this.g)))){this.J||4!=l||7==e||cl(),ap(this);var n=this.g.da();this.ca=n;t:if(mk(this)){var r=Fk(this.g);t="";var i=r.length,o=4==xr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Uo(this),pl(this);var s="";break t}this.h.i=new X.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function $X(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rl(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.s=3,on(12),Uo(this),pl(this);break e}Ca(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zw(this,n)}this.S?(_k(this,l,s),Iw&&this.i&&3==l&&(ik(this.U,this.V,"tick",this.mb),this.V.start())):(Ca(this.j,this.m,s,null),zw(this,s)),4==l&&Uo(this),this.i&&!this.J&&(4==l?zk(this.l,this):(this.i=!1,fl(this)))}else(function hee(t){const e={};t=(t.g&&2<=xr(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(rl(t[r]))continue;var n=FX(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}!function PX(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,on(12)):(this.s=0,on(13)),Uo(this),pl(this)}}}catch{}},x.mb=function(){if(this.g){var t=xr(this.g),e=this.g.ja();this.o<e.length&&(ap(this),_k(this,t,e),this.i&&4!=t&&fl(this))}},x.cancel=function(){this.J=!0,Uo(this)},x.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(function GX(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(cl(),on(17)),Uo(this),this.s=2,pl(this)):yk(this,this.Y-t)};var Ik=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bo(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Bo){this.h=t.h,up(this,t.j),this.s=t.s,this.g=t.g,cp(this,t.m),this.l=t.l;var e=t.i,n=new _l;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Ek(this,n),this.o=t.o}else t&&(e=String(t).match(Ik))?(this.h=!1,up(this,e[1]||"",!0),this.s=gl(e[2]||""),this.g=gl(e[3]||"",!0),cp(this,e[4]),this.l=gl(e[5]||"",!0),Ek(this,e[6]||"",!0),this.o=gl(e[7]||"")):(this.h=!1,this.i=new _l(null,this.h))}function ci(t){return new Bo(t)}function up(t,e,n){t.j=n?gl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function cp(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Ek(t,e,n){e instanceof _l?(t.i=e,function tee(t,e){e&&!t.j&&(ji(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(Tk(this,r),Dk(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=ml(e,XX)),t.i=new _l(e,t.h))}function Le(t,e,n){t.i.set(e,n)}function lp(t){return Le(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function gl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ml(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,YX),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function YX(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Bo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ml(e,wk,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(ml(e,wk,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(ml(n,"/"==n.charAt(0)?JX:ZX,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ml(n,eee)),t.join("")};var wk=/[#\/\?@]/g,ZX=/[#\?:]/g,JX=/[#\?]/g,XX=/[#\?@]/g,eee=/#/g;function _l(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ji(t){t.g||(t.g=new Map,t.h=0,t.i&&function QX(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Tk(t,e){ji(t),e=Da(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Ck(t,e){return ji(t),e=Da(t,e),t.g.has(e)}function Dk(t,e,n){Tk(t,e),0<n.length&&(t.i=null,t.g.set(Da(t,e),yw(n)),t.h+=n.length)}function Da(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Ak(t){this.l=t||ree,t=X.PerformanceNavigationTiming?0<(t=X.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(X.g&&X.g.Ka&&X.g.Ka()&&X.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(x=_l.prototype).add=function(t,e){ji(this),this.i=null,t=Da(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},x.forEach=function(t,e){ji(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},x.ta=function(){ji(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n},x.Z=function(t){ji(this);let e=[];if("string"==typeof t)Ck(this,t)&&(e=e.concat(this.g.get(Da(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},x.set=function(t,e){return ji(this),this.i=null,Ck(this,t=Da(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},x.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},x.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};var ree=10;function bk(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Sk(t){return t.h?1:t.g?t.g.size:0}function qw(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function Ww(t,e){t.g?t.g.add(e):t.h=e}function Rk(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function Pk(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return yw(t.i)}Ak.prototype.cancel=function(){if(this.i=Pk(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var iee=class{stringify(t){return X.JSON.stringify(t,void 0)}parse(t){return X.JSON.parse(t,void 0)}};function oee(){this.g=new iee}function see(t,e,n){const r=n||"";try{vk(t,function(i,o){let s=i;nl(i)&&(s=kw(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function dp(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function yl(t){this.l=t.ec||null,this.j=t.ob||!1}function hp(t,e){It.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Kw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}vt(yl,Uw),yl.prototype.g=function(){return new hp(this.l,this.j)},yl.prototype.i=function(t){return function(){return t}}({}),vt(hp,It);var Kw=0;function Mk(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function vl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Il(t)}function Il(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(x=hp.prototype).open=function(t,e){if(this.readyState!=Kw)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Il(this)},x.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||X).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},x.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,vl(this)),this.readyState=Kw},x.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Il(this)),this.g&&(this.readyState=3,Il(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof X.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Mk(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},x.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?vl(this):Il(this),3==this.readyState&&Mk(this)}},x.Za=function(t){this.g&&(this.response=this.responseText=t,vl(this))},x.Ya=function(t){this.g&&(this.response=t,vl(this))},x.ka=function(){this.g&&vl(this)},x.setRequestHeader=function(t,e){this.v.append(t,e)},x.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},x.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(hp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var uee=X.JSON.parse;function Ze(t){It.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=xk,this.L=this.M=!1}vt(Ze,It);var xk="",cee=/^https?$/i,lee=["POST","PUT"];function Nk(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Ok(t),fp(t)}function Ok(t){t.F||(t.F=!0,xt(t,"complete"),xt(t,"error"))}function kk(t){if(t.h&&typeof mw<"u"&&(!t.C[1]||4!=xr(t)||2!=t.da()))if(t.v&&4==xr(t))Lw(t.La,0,t);else if(xt(t,"readystatechange"),4==xr(t)){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===s){var i=String(t.I).match(Ik)[1]||null;!i&&X.self&&X.self.location&&(i=X.self.location.protocol.slice(0,-1)),r=!cee.test(i?i.toLowerCase():"")}n=r}if(n)xt(t,"complete"),xt(t,"success");else{t.m=6;try{var o=2<xr(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",Ok(t)}}finally{fp(t)}}}function fp(t,e){if(t.g){Vk(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||xt(t,"ready");try{n.onreadystatechange=r}catch{}}}function Vk(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(X.clearTimeout(t.A),t.A=null)}function xr(t){return t.g?t.g.readyState:0}function Fk(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case xk:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Lk(t){let e="";return Aw(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function Qw(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Lk(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Le(t,e,n))}function El(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Uk(t){this.Ga=0,this.j=[],this.l=new rp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=El("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=El("baseRetryDelayMs",5e3,t),this.hb=El("retryDelaySeedMs",1e4,t),this.eb=El("forwardChannelMaxRetries",2,t),this.xa=El("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new Ak(t&&t.concurrentRequestLimit),this.Ja=new oee,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Yw(t){if(Bk(t),3==t.H){var e=t.W++,n=ci(t.I);if(Le(n,"SID",t.K),Le(n,"RID",e),Le(n,"TYPE","terminate"),wl(t,n),(e=new hl(t,t.l,e)).L=2,e.A=lp(ci(n)),n=!1,X.navigator&&X.navigator.sendBeacon)try{n=X.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&X.Image&&((new Image).src=e.A,n=!0),n||(e.g=Qk(e.l,null),e.g.ha(e.A)),e.G=Date.now(),fl(e)}Wk(t)}function pp(t){t.g&&(Jw(t),t.g.cancel(),t.g=null)}function Bk(t){pp(t),t.u&&(X.clearTimeout(t.u),t.u=null),mp(t),t.i.cancel(),t.m&&("number"==typeof t.m&&X.clearTimeout(t.m),t.m=null)}function gp(t){if(!bk(t.i)&&!t.m){t.m=!0;var e=t.Na;sl||tk(),al||(sl(),al=!0),Vw.add(e,t),t.C=0}}function jk(t,e){var n;n=e?e.m:t.W++;const r=ci(t.I);Le(r,"SID",t.K),Le(r,"RID",n),Le(r,"AID",t.V),wl(t,r),t.o&&t.s&&Qw(r,t.o,t.s),n=new hl(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=$k(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Ww(t.i,n),Hw(n,r,e)}function wl(t,e){t.na&&Aw(t.na,function(n,r){Le(e,r,n)}),t.h&&vk({},function(n,r){Le(e,r,n)})}function $k(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Gt(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];-1==o?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const l=i[u].map;if(c-=o,0>c)o=Math.max(0,i[u].g-100),a=!1;else try{see(l,s,"req"+c+"_")}catch{r&&r(l)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function Gk(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;sl||tk(),al||(sl(),al=!0),Vw.add(e,t),t.A=0}}function Zw(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=ll(Gt(t.Ma,t),qk(t,t.A)),t.A++,0))}function Jw(t){null!=t.B&&(X.clearTimeout(t.B),t.B=null)}function Hk(t){t.g=new hl(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=ci(t.wa);Le(e,"RID","rpc"),Le(e,"SID",t.K),Le(e,"AID",t.V),Le(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Le(e,"TO",t.qa),Le(e,"TYPE","xmlhttp"),wl(t,e),t.o&&t.s&&Qw(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=lp(ci(e)),n.u=null,n.S=!0,gk(n,t)}function mp(t){null!=t.v&&(X.clearTimeout(t.v),t.v=null)}function zk(t,e){var n=null;if(t.g==e){mp(t),Jw(t),t.g=null;var r=2}else{if(!qw(t.i,e))return;n=e.F,Rk(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;xt(r=ip(),new ck(r,n)),gp(t)}else Gk(t);else if(3==(i=e.s)||0==i&&0<e.ca||!(1==r&&function fee(t,e){return!(Sk(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=ll(Gt(t.Na,t,e),qk(t,t.C)),t.C++,0)))}(t,e)||2==r&&Zw(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:jo(t,5);break;case 4:jo(t,10);break;case 3:jo(t,6);break;default:jo(t,2)}}function qk(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function jo(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=Gt(t.pb,t);n||(n=new Bo("//www.google.com/images/cleardot.gif"),X.location&&"http"==X.location.protocol||up(n,"https"),lp(n)),function aee(t,e){const n=new rp;if(X.Image){const r=new Image;r.onload=Zf(dp,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Zf(dp,n,r,"TestLoadImage: error",!1,e),r.onabort=Zf(dp,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Zf(dp,n,r,"TestLoadImage: timeout",!1,e),X.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else on(2);t.H=0,t.h&&t.h.za(e),Wk(t),Bk(t)}function Wk(t){if(t.H=0,t.ma=[],t.h){const e=Pk(t.i);(0!=e.length||0!=t.j.length)&&(jO(t.ma,e),jO(t.ma,t.j),t.i.i.length=0,yw(t.j),t.j.length=0),t.h.ya()}}function Kk(t,e,n){var r=n instanceof Bo?ci(n):new Bo(n);if(""!=r.g)e&&(r.g=e+"."+r.g),cp(r,r.m);else{var i=X.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Bo(null);r&&up(o,r),e&&(o.g=e),i&&cp(o,i),n&&(o.l=n),r=o}return e=t.Da,(n=t.F)&&e&&Le(r,n,e),Le(r,"VER",t.ra),wl(t,r),r}function Qk(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ze(t.Ha&&!t.va?new yl({ob:n}):t.va)).Oa(t.J),e}function Yk(){}function _p(){if(Ta&&!(10<=Number(AX)))throw Error("Environmental error: no available transport.")}function Mn(t,e){It.call(this),this.g=new Uk(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!rl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!rl(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Aa(this)}function Zk(t){Bw.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function Jk(){jw.call(this),this.status=1}function Aa(t){this.g=t}function lr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Xw(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var o=t.g[3],s=(e=t.g[0])+(o^(n=t.g[1])&((i=t.g[2])^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=n+(s<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=n+((s=e+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(e^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}function Ce(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=0|t[i];r&&o==e||(n[i]=o,r=!1)}this.g=n}(x=Ze.prototype).Oa=function(t){this.M=t},x.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():$w.g(),this.C=function dk(t){return t.h||(t.h=t.i())}(this.u?this.u:$w),this.g.onreadystatechange=Gt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){return void Nk(this,o)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())n.set(o,r.get(o))}r=Array.from(n.keys()).find(o=>"content-type"==o.toLowerCase()),i=X.FormData&&t instanceof X.FormData,!(0<=BO(lee,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Vk(this),0<this.B&&((this.L=function dee(t){return Ta&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Gt(this.ua,this)):this.A=Lw(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){Nk(this,o)}},x.ua=function(){typeof mw<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,xt(this,"timeout"),this.abort(8))},x.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,xt(this,"complete"),xt(this,"abort"),fp(this))},x.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),fp(this,!0)),Ze.$.N.call(this)},x.La=function(){this.s||(this.G||this.v||this.l?kk(this):this.kb())},x.kb=function(){kk(this)},x.isActive=function(){return!!this.g},x.da=function(){try{return 2<xr(this)?this.g.status:-1}catch{return-1}},x.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},x.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),uee(e)}},x.Ia=function(){return this.m},x.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(x=Uk.prototype).ra=8,x.H=1,x.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new hl(this,this.l,t);let o=this.s;if(this.U&&(o?(o=qO(o),KO(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=$k(this,i,e),Le(n=ci(this.I),"RID",t),Le(n,"CVER",22),this.F&&Le(n,"X-HTTP-Session-Id",this.F),wl(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(Lk(o)))+"&"+e:this.o&&Qw(n,this.o,o)),Ww(this.i,i),this.bb&&Le(n,"TYPE","init"),this.P?(Le(n,"$req",e),Le(n,"SID","null"),i.aa=!0,Hw(i,n,null)):Hw(i,n,e),this.H=2}}else 3==this.H&&(t?jk(this,t):0==this.j.length||bk(this.i)||jk(this))},x.Ma=function(){if(this.u=null,Hk(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ll(Gt(this.jb,this),t)}},x.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,on(10),pp(this),Hk(this))},x.ib=function(){null!=this.v&&(this.v=null,pp(this),Zw(this),on(19))},x.pb=function(t){t?(this.l.info("Successfully pinged google.com"),on(2)):(this.l.info("Failed to ping google.com"),on(1))},x.isActive=function(){return!!this.h&&this.h.isActive(this)},(x=Yk.prototype).Ba=function(){},x.Aa=function(){},x.za=function(){},x.ya=function(){},x.isActive=function(){return!0},x.Va=function(){},_p.prototype.g=function(t,e){return new Mn(t,e)},vt(Mn,It),Mn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;on(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=Kk(t,null,t.Y),gp(t)},Mn.prototype.close=function(){Yw(this.g)},Mn.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=kw(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&gp(e)},Mn.prototype.N=function(){this.g.h=null,delete this.j,Yw(this.g),delete this.g,Mn.$.N.call(this)},vt(Zk,Bw),vt(Jk,jw),vt(Aa,Yk),Aa.prototype.Ba=function(){xt(this.g,"a")},Aa.prototype.Aa=function(t){xt(this.g,new Zk(t))},Aa.prototype.za=function(t){xt(this.g,new Jk)},Aa.prototype.ya=function(){xt(this.g,"b")},vt(lr,function pee(){this.blockSize=-1}),lr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},lr.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(0==i)for(;o<=n;)Xw(this,t,o),o+=this.blockSize;if("string"==typeof t){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){Xw(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){Xw(this,r),i=0;break}}this.h=i,this.i+=e},lr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var gee={};function eT(t){return-128<=t&&128>t?function TX(t,e){var n=gee;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Ce([0|e],0>e?-1:0)}):new Ce([0|t],0>t?-1:0)}function Nr(t){if(isNaN(t)||!isFinite(t))return ba;if(0>t)return Nt(Nr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=tT;return new Ce(e,0)}var tT=4294967296,ba=eT(0),nT=eT(1),eV=eT(16777216);function li(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function Yn(t){return-1==t.h}function Nt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ce(n,~t.h).add(nT)}function yp(t,e){return t.add(Nt(e))}function vp(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Tl(t,e){this.g=t,this.h=e}function Ip(t,e){if(li(e))throw Error("division by zero");if(li(t))return new Tl(ba,ba);if(Yn(t))return e=Ip(Nt(t),e),new Tl(Nt(e.g),Nt(e.h));if(Yn(e))return e=Ip(t,Nt(e)),new Tl(Nt(e.g),e.h);if(30<t.g.length){if(Yn(t)||Yn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=nT,r=e;0>=r.X(t);)n=tV(n),r=tV(r);var i=Sa(n,1),o=Sa(r,1);for(r=Sa(r,2),n=Sa(n,2);!li(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=Sa(r,1),n=Sa(n,1)}return e=yp(t,i.R(e)),new Tl(i,e)}for(i=ba;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=Nr(n)).R(e);Yn(s)||0<s.X(t);)s=(o=Nr(n-=r)).R(e);li(o)&&(o=nT),i=i.add(o),t=yp(t,s)}return new Tl(i,t)}function tV(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ce(n,t.h)}function Sa(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Ce(i,t.h)}(x=Ce.prototype).ea=function(){if(Yn(this))return-Nt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:tT+r)*e,e*=tT}return t},x.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(li(this))return"0";if(Yn(this))return"-"+Nt(this).toString(t);for(var e=Nr(Math.pow(t,6)),n=this,r="";;){var i=Ip(n,e).g,o=((0<(n=yp(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(li(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},x.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},x.X=function(t){return Yn(t=yp(this,t))?-1:li(t)?0:1},x.abs=function(){return Yn(this)?Nt(this):this},x.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(65535&this.D(i))+(65535&t.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,n[i]=(s&=65535)<<16|(o&=65535)}return new Ce(n,-2147483648&n[n.length-1]?-1:0)},x.R=function(t){if(li(this)||li(t))return ba;if(Yn(this))return Yn(t)?Nt(this).R(Nt(t)):Nt(Nt(this).R(t));if(Yn(t))return Nt(this.R(Nt(t)));if(0>this.X(eV)&&0>t.X(eV))return Nr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=s*u,vp(n,2*r+2*i),n[2*r+2*i+1]+=o*u,vp(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,vp(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,vp(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ce(n,0)},x.gb=function(t){return Ip(this,t).h},x.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ce(n,this.h&t.h)},x.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ce(n,this.h|t.h)},x.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ce(n,this.h^t.h)},_p.prototype.createWebChannel=_p.prototype.g,Mn.prototype.send=Mn.prototype.u,Mn.prototype.open=Mn.prototype.m,Mn.prototype.close=Mn.prototype.close,op.NO_ERROR=0,op.TIMEOUT=8,op.HTTP_ERROR=6,lk.COMPLETE="complete",hk.EventType=dl,dl.OPEN="a",dl.CLOSE="b",dl.ERROR="c",dl.MESSAGE="d",It.prototype.listen=It.prototype.O,Ze.prototype.listenOnce=Ze.prototype.P,Ze.prototype.getLastError=Ze.prototype.Sa,Ze.prototype.getLastErrorCode=Ze.prototype.Ia,Ze.prototype.getStatus=Ze.prototype.da,Ze.prototype.getResponseJson=Ze.prototype.Wa,Ze.prototype.getResponseText=Ze.prototype.ja,Ze.prototype.send=Ze.prototype.ha,Ze.prototype.setWithCredentials=Ze.prototype.Oa,lr.prototype.digest=lr.prototype.l,lr.prototype.reset=lr.prototype.reset,lr.prototype.update=lr.prototype.j,Ce.prototype.add=Ce.prototype.add,Ce.prototype.multiply=Ce.prototype.R,Ce.prototype.modulo=Ce.prototype.gb,Ce.prototype.compare=Ce.prototype.X,Ce.prototype.toNumber=Ce.prototype.ea,Ce.prototype.toString=Ce.prototype.toString,Ce.prototype.getBits=Ce.prototype.D,Ce.fromNumber=Nr,Ce.fromString=function Xk(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Nt(Xk(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Nr(Math.pow(e,8)),r=ba,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=Nr(Math.pow(e,o)),r=r.R(o).add(Nr(s))):r=(r=r.R(n)).add(Nr(s))}return r};var mee=cr.createWebChannelTransport=function(){return new _p},_ee=cr.getStatEventTarget=function(){return ip()},rT=cr.ErrorCode=op,yee=cr.EventType=lk,vee=cr.Event=Lo,nV=cr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ep=(cr.FetchXmlHttpFactory=yl,cr.WebChannel=hk),Iee=cr.XhrIo=Ze,Eee=cr.Md5=lr,Ra=cr.Integer=Ce;const rV="@firebase/firestore";class Et{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Et.UNAUTHENTICATED=new Et(null),Et.GOOGLE_CREDENTIALS=new Et("google-credentials-uid"),Et.FIRST_PARTY=new Et("first-party-uid"),Et.MOCK_USER=new Et("mock-user");let Pa="10.7.0";const $i=new Hv("@firebase/firestore");function Ma(){return $i.logLevel}function C(t,...e){if($i.logLevel<=ce.DEBUG){const n=e.map(iT);$i.debug(`Firestore (${Pa}): ${t}`,...n)}}function rt(t,...e){if($i.logLevel<=ce.ERROR){const n=e.map(iT);$i.error(`Firestore (${Pa}): ${t}`,...n)}}function xn(t,...e){if($i.logLevel<=ce.WARN){const n=e.map(iT);$i.warn(`Firestore (${Pa}): ${t}`,...n)}}function iT(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function O(t="Unexpected state"){const e=`FIRESTORE (${Pa}) INTERNAL ASSERTION FAILED: `+t;throw rt(e),new Error(e)}function L(t,e){t||O()}function P(t,e){return t}const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class D extends ki{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class mt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class iV{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wee{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Et.UNAUTHENTICATED))}shutdown(){}}class Tee{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Cee{constructor(e){this.t=e,this.currentUser=Et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const o=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let s=new mt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new mt,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(E(function*(){yield c.promise,yield o(r.currentUser)}))},u=c=>{C("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(C("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new mt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(C("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(L("string"==typeof r.accessToken),new iV(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return L(null===e||"string"==typeof e),new Et(e)}}class Dee{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Et.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Aee{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Dee(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Et.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class oV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bee{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{null!=o.error&&C("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,C("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{C("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):C("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(L("string"==typeof n.token),this.R=n.token,new oV(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function See(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class sV{static newId(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=See(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function Y(t,e){return t<e?-1:t>e?1:0}function xa(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class qe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new D(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new D(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new D(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new D(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return qe.fromMillis(Date.now())}static fromDate(e){return qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new qe(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Y(this.nanoseconds,e.nanoseconds):Y(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class U{constructor(e){this.timestamp=e}static fromTimestamp(e){return new U(e)}static min(){return new U(new qe(0,0))}static max(){return new U(new qe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Cl{constructor(e,n,r){void 0===n?n=0:n>e.length&&O(),void 0===r?r=e.length-n:r>e.length-n&&O(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Cl.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Cl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class he extends Cl{construct(e,n,r){return new he(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new D(I.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new he(n)}static emptyPath(){return new he([])}}const Ree=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $e extends Cl{construct(e,n,r){return new $e(e,n,r)}static isValidIdentifier(e){return Ree.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$e.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new $e(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(0===r.length)throw new D(I.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new D(I.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new D(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new D(I.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $e(n)}static emptyPath(){return new $e([])}}class M{constructor(e){this.path=e}static fromPath(e){return new M(he.fromString(e))}static fromName(e){return new M(he.fromString(e).popFirst(5))}static empty(){return new M(he.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===he.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return he.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new M(new he(e.slice()))}}function cV(t){return new Nn(t.readTime,t.key,-1)}class Nn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Nn(U.min(),M.empty(),-1)}static max(){return new Nn(U.max(),M.empty(),-1)}}function sT(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=M.comparator(t.documentKey,e.documentKey),0!==n?n:Y(t.largestBatchId,e.largestBatchId))}const lV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xee{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Gi(t){return aT.apply(this,arguments)}function aT(){return aT=E(function*(t){if(t.code!==I.FAILED_PRECONDITION||t.message!==lV)throw t;C("LocalStore","Unexpectedly lost primary lease")}),aT.apply(this,arguments)}class y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&O(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new y((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof y?n:y.resolve(n)}catch(n){return y.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):y.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):y.reject(n)}static resolve(e){return new y((n,r)=>{n(e)})}static reject(e){return new y((n,r)=>{r(e)})}static waitFor(e){return new y((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=y.resolve(!1);for(const r of e)n=n.next(i=>i?y.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new y((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let u=0;u<o;u++){const c=u;n(e[c]).next(l=>{s[c]=l,++a,a===o&&r(s)},l=>i(l))}})}static doWhile(e,n){return new y((r,i)=>{const o=()=>{!0===e()?n().next(()=>{o()},i):r()};o()})}}function Hi(t){return"IndexedDbTransactionError"===t.name}let On=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function Al(t){return null==t}function bl(t){return 0===t&&1/t==-1/0}function vV(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function zi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function IV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Oe{constructor(e,n){this.comparator=e,this.root=n||Ot.EMPTY}insert(e,n){return new Oe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ot.BLACK,null,null))}remove(e){return new Oe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ot.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cp(this.root,e,this.comparator,!0)}}class Cp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ot{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Ot.RED,this.left=i??Ot.EMPTY,this.right=o??Ot.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Ot(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===o?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ot.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Ot.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw O();const e=this.left.check();if(e!==this.right.check())throw O();return e+(this.isRed()?0:1)}}Ot.EMPTY=null,Ot.RED=!0,Ot.BLACK=!1,Ot.EMPTY=new class{constructor(){this.size=0}get key(){throw O()}get value(){throw O()}get color(){throw O()}get left(){throw O()}get right(){throw O()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Ot(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class be{constructor(e){this.comparator=e,this.data=new Oe(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new EV(this.data.getIterator())}getIteratorFrom(e){return new EV(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof be)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new be(this.comparator);return n.data=e,n}}class EV{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class _n{constructor(e){this.fields=e,e.sort($e.comparator)}static empty(){return new _n([])}unionWith(e){let n=new be($e.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new _n(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return xa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class wV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class _t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new wV("Invalid base64 string: "+o):o}}(e);return new _t(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new _t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Y(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_t.EMPTY_BYTE_STRING=new _t("");const tte=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qi(t){if(L(!!t),"string"==typeof t){let e=0;const n=tte.exec(t);if(L(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Je(t.seconds),nanos:Je(t.nanos)}}function Je(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function di(t){return"string"==typeof t?_t.fromBase64String(t):_t.fromUint8Array(t)}function Dp(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ap(t){const e=t.mapValue.fields.__previous_value__;return Dp(e)?Ap(e):e}function Sl(t){const e=qi(t.mapValue.fields.__local_write_time__.timestampValue);return new qe(e.seconds,e.nanos)}class nte{constructor(e,n,r,i,o,s,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class zo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new zo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof zo&&e.projectId===this.projectId&&e.database===this.database}}const Wi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ki(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Dp(t)?4:AV(t)?9007199254740991:10:O()}function kr(t,e){if(t===e)return!0;const n=Ki(t);if(n!==Ki(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Sl(t).isEqual(Sl(e));case 3:return function(i,o){if("string"==typeof i.timestampValue&&"string"==typeof o.timestampValue&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=qi(i.timestampValue),a=qi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return o=e,di(t.bytesValue).isEqual(di(o.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Je(i.geoPointValue.latitude)===Je(o.geoPointValue.latitude)&&Je(i.geoPointValue.longitude)===Je(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Je(i.integerValue)===Je(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Je(i.doubleValue),a=Je(o.doubleValue);return s===a?bl(s)===bl(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return xa(t.arrayValue.values||[],e.arrayValue.values||[],kr);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(vV(s)!==vV(a))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(void 0===a[u]||!kr(s[u],a[u])))return!1;return!0}(t,e);default:return O()}var o}function Rl(t,e){return void 0!==(t.values||[]).find(n=>kr(n,e))}function Qi(t,e){if(t===e)return 0;const n=Ki(t),r=Ki(e);if(n!==r)return Y(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Y(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Je(o.integerValue||o.doubleValue),u=Je(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return TV(t.timestampValue,e.timestampValue);case 4:return TV(Sl(t),Sl(e));case 5:return Y(t.stringValue,e.stringValue);case 6:return function(o,s){const a=di(o),u=di(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),u=s.split("/");for(let c=0;c<a.length&&c<u.length;c++){const l=Y(a[c],u[c]);if(0!==l)return l}return Y(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Y(Je(o.latitude),Je(s.latitude));return 0!==a?a:Y(Je(o.longitude),Je(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],u=s.values||[];for(let c=0;c<a.length&&c<u.length;++c){const l=Qi(a[c],u[c]);if(l)return l}return Y(a.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Wi.mapValue&&s===Wi.mapValue)return 0;if(o===Wi.mapValue)return 1;if(s===Wi.mapValue)return-1;const a=o.fields||{},u=Object.keys(a),c=s.fields||{},l=Object.keys(c);u.sort(),l.sort();for(let d=0;d<u.length&&d<l.length;++d){const h=Y(u[d],l[d]);if(0!==h)return h;const f=Qi(a[u[d]],c[l[d]]);if(0!==f)return f}return Y(u.length,l.length)}(t.mapValue,e.mapValue);default:throw O()}}function TV(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Y(t,e);const n=qi(t),r=qi(e),i=Y(n.seconds,r.seconds);return 0!==i?i:Y(n.nanos,r.nanos)}function Va(t){return lT(t)}function lT(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=qi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?di(t.bytesValue).toBase64():"referenceValue"in t?M.fromName(t.referenceValue).toString():"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=lT(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${lT(n.fields[s])}`;return i+"}"}(t.mapValue):O()}function dT(t){return!!t&&"integerValue"in t}function Pl(t){return!!t&&"arrayValue"in t}function CV(t){return!!t&&"nullValue"in t}function DV(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Rp(t){return!!t&&"mapValue"in t}function Ml(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return zi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ml(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ml(t.arrayValue.values[n]);return e}return Object.assign({},t)}function AV(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class kt{constructor(e){this.value=e}static empty(){return new kt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Rp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ml(n)}setAll(e){let n=$e.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Ml(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Rp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return kr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Rp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){zi(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new kt(Ml(this.value))}}function RV(t){const e=[];return zi(t.fields,(n,r)=>{const i=new $e([n]);if(Rp(r)){const o=RV(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new _n(e)}class Ue{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Ue(e,0,U.min(),U.min(),U.min(),kt.empty(),0)}static newFoundDocument(e,n,r,i){return new Ue(e,1,n,U.min(),r,i,0)}static newNoDocument(e,n){return new Ue(e,2,n,U.min(),U.min(),kt.empty(),0)}static newUnknownDocument(e,n){return new Ue(e,3,n,U.min(),U.min(),kt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(U.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=U.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ue&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ue(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Yi{constructor(e,n){this.position=e,this.inclusive=n}}function PV(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(r=o.field.isKeyField()?M.comparator(M.fromName(s.referenceValue),n.key):Qi(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function MV(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!kr(t.position[n],e.position[n]))return!1;return!0}class xl{constructor(e,n="asc"){this.field=e,this.dir=n}}function ote(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class xV{}class ae extends xV{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new ste(e,n,r):"array-contains"===n?new cte(e,r):"in"===n?new LV(e,r):"not-in"===n?new lte(e,r):"array-contains-any"===n?new dte(e,r):new ae(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new ate(e,r):new ute(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Qi(n,this.value)):null!==n&&Ki(this.value)===Ki(n)&&this.matchesComparison(Qi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return O()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class De extends xV{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new De(e,n)}matches(e){return Fa(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Fa(t){return"and"===t.op}function fT(t){return function NV(t){for(const e of t.filters)if(e instanceof De)return!1;return!0}(t)&&Fa(t)}function pT(t){if(t instanceof ae)return t.field.canonicalString()+t.op.toString()+Va(t.value);if(fT(t))return t.filters.map(e=>pT(e)).join(",");{const e=t.filters.map(n=>pT(n)).join(",");return`${t.op}(${e})`}}function OV(t,e){return t instanceof ae?(r=t,(i=e)instanceof ae&&r.op===i.op&&r.field.isEqual(i.field)&&kr(r.value,i.value)):t instanceof De?function(r,i){return i instanceof De&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((o,s,a)=>o&&OV(s,i.filters[a]),!0)}(t,e):void O();var r,i}function VV(t){return t instanceof ae?`${(n=t).field.canonicalString()} ${n.op} ${Va(n.value)}`:t instanceof De?function(n){return n.op.toString()+" {"+n.getFilters().map(VV).join(" ,")+"}"}(t):"Filter";var n}class ste extends ae{constructor(e,n,r){super(e,n,r),this.key=M.fromName(r.referenceValue)}matches(e){const n=M.comparator(e.key,this.key);return this.matchesComparison(n)}}class ate extends ae{constructor(e,n){super(e,"in",n),this.keys=FV(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ute extends ae{constructor(e,n){super(e,"not-in",n),this.keys=FV(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function FV(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>M.fromName(r.referenceValue))}class cte extends ae{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Pl(n)&&Rl(n.arrayValue,this.value)}}class LV extends ae{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Rl(this.value.arrayValue,n)}}class lte extends ae{constructor(e,n){super(e,"not-in",n)}matches(e){if(Rl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Rl(this.value.arrayValue,n)}}class dte extends ae{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Pl(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Rl(this.value.arrayValue,r))}}class hte{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function gT(t,e=null,n=[],r=[],i=null,o=null,s=null){return new hte(t,e,n,r,i,o,s)}function Wo(t){const e=P(t);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>pT(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),Al(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Va(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Va(r)).join(",")),e.ce=n}return e.ce}function Nl(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!ote(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!OV(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!MV(t.startAt,e.startAt)&&MV(t.endAt,e.endAt)}function Pp(t){return M.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class hi{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.le=null,this.he=null,this.Pe=null}}function La(t){return new hi(t)}function $V(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function Ua(t){const e=P(t);if(null===e.le){e.le=[];const n=new Set;for(const o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new be($e.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new xl(o,r))}),n.has($e.keyField().canonicalString())||e.le.push(new xl($e.keyField(),r))}return e.le}function sn(t){const e=P(t);return e.he||(e.he=function GV(t,e){if("F"===t.limitType)return gT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>new xl(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new Yi(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Yi(t.startAt.position,t.startAt.inclusive):null;return gT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}(e,Ua(t))),e.he}function xp(t,e,n){return new hi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ol(t,e){return Nl(sn(t),sn(e))&&t.limitType===e.limitType}function HV(t){return`${Wo(sn(t))}|lt:${t.limitType}`}function Ba(t){return`Query(target=${function(n){let r=n.path.canonicalString();return null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>VV(i)).join(", ")}]`),Al(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>{return`${(s=i).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Va(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Va(i)).join(",")),`Target(${r})`}(sn(t))}; limitType=${t.limitType})`}function kl(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):M.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Ua(r))if(!o.field.isKeyField()&&null===i.data.field(o.field))return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&(i=e,!((r=t).startAt&&!function(s,a,u){const c=PV(s,a,u);return s.inclusive?c<=0:c<0}(r.startAt,Ua(r),i)||r.endAt&&!function(s,a,u){const c=PV(s,a,u);return s.inclusive?c>=0:c>0}(r.endAt,Ua(r),i)));var r,i}function qV(t){return(e,n)=>{let r=!1;for(const i of Ua(t)){const o=fte(i,e,n);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function fte(t,e,n){const r=t.field.isKeyField()?M.comparator(e.key,n.key):function(o,s,a){const u=s.data.field(o),c=a.data.field(o);return null!==u&&null!==c?Qi(u,c):O()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return O()}}class fi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){zi(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return IV(this.inner)}size(){return this.innerSize}}const pte=new Oe(M.comparator);function yn(){return pte}const WV=new Oe(M.comparator);function Vl(...t){let e=WV;for(const n of t)e=e.insert(n.key,n);return e}function KV(t){let e=WV;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Vr(){return Fl()}function QV(){return Fl()}function Fl(){return new fi(t=>t.toString(),(t,e)=>t.isEqual(e))}const gte=new Oe(M.comparator),mte=new be(M.comparator);function ie(...t){let e=mte;for(const n of t)e=e.add(n);return e}const _te=new be(Y);function YV(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bl(e)?"-0":e}}function ZV(t){return{integerValue:""+t}}function JV(t,e){return function hV(t){return"number"==typeof t&&Number.isInteger(t)&&!bl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?ZV(e):YV(t,e)}class Np{constructor(){this._=void 0}}function yte(t,e,n){return t instanceof ja?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Dp(o)&&(o=Ap(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Ko?eF(t,e):t instanceof Qo?tF(t,e):function(i,o){const s=XV(i,o),a=nF(s)+nF(i.Ie);return dT(s)&&dT(i.Ie)?ZV(a):YV(i.serializer,a)}(t,e)}function vte(t,e,n){return t instanceof Ko?eF(t,e):t instanceof Qo?tF(t,e):n}function XV(t,e){return t instanceof $a?dT(r=e)||(o=r)&&"doubleValue"in o?e:{integerValue:0}:null;var r,o}class ja extends Np{}class Ko extends Np{constructor(e){super(),this.elements=e}}function eF(t,e){const n=rF(e);for(const r of t.elements)n.some(i=>kr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Qo extends Np{constructor(e){super(),this.elements=e}}function tF(t,e){let n=rF(e);for(const r of t.elements)n=n.filter(i=>!kr(i,r));return{arrayValue:{values:n}}}class $a extends Np{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function nF(t){return Je(t.integerValue||t.doubleValue)}function rF(t){return Pl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Ete{constructor(e,n){this.version=e,this.transformResults=n}}class Ge{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ge}static exists(e){return new Ge(void 0,e)}static updateTime(e){return new Ge(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Op(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class kp{}function iF(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Ha(t.key,Ge.none()):new Ga(t.key,t.data,Ge.none());{const n=t.data,r=kt.empty();let i=new be($e.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);null===s&&o.length>1&&(o=o.popLast(),s=n.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new pi(t.key,r,new _n(i.toArray()),Ge.none())}}function wte(t,e,n){t instanceof Ga?function(i,o,s){const a=i.value.clone(),u=aF(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof pi?function(i,o,s){if(!Op(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=aF(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(sF(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Ul(t,e,n,r){return t instanceof Ga?function(o,s,a,u){if(!Op(o.precondition,s))return a;const c=o.value.clone(),l=uF(o.fieldTransforms,u,s);return c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof pi?function(o,s,a,u){if(!Op(o.precondition,s))return a;const c=uF(o.fieldTransforms,u,s),l=s.data;return l.setAll(sF(o)),l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,n,r):(a=n,Op(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function Tte(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=XV(r.transform,i||null);null!=o&&(null===n&&(n=kt.empty()),n.set(r.field,o))}return n||null}function oF(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=t.fieldTransforms)&&void 0===i||r&&i&&xa(r,i,(o,s)=>function Ite(t,e){return t.field.isEqual(e.field)&&(i=e.transform,(r=t.transform)instanceof Ko&&i instanceof Ko||r instanceof Qo&&i instanceof Qo?xa(r.elements,i.elements,kr):r instanceof $a&&i instanceof $a?kr(r.Ie,i.Ie):r instanceof ja&&i instanceof ja);var r,i}(o,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var r,i}class Ga extends kp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class pi extends kp{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function sF(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function aF(t,e,n){const r=new Map;L(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,vte(s,a,n[i]))}return r}function uF(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,yte(o,s,e))}return r}class Ha extends kp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vT extends kp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class IT{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&wte(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ul(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ul(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=QV();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const u=iF(s,a);null!==u&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(U.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ie())}isEqual(e){return this.batchId===e.batchId&&xa(this.mutations,e.mutations,(n,r)=>oF(n,r))&&xa(this.baseMutations,e.baseMutations,(n,r)=>oF(n,r))}}class ET{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){L(e.mutations.length===r.length);let i=gte;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new ET(e,n,r,i)}}class wT{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Dte{constructor(e,n){this.count=e,this.unchangedNames=n}}var dt,fe;function lF(t){if(void 0===t)return rt("GRPC error has no .code"),I.UNKNOWN;switch(t){case dt.OK:return I.OK;case dt.CANCELLED:return I.CANCELLED;case dt.UNKNOWN:return I.UNKNOWN;case dt.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case dt.INTERNAL:return I.INTERNAL;case dt.UNAVAILABLE:return I.UNAVAILABLE;case dt.UNAUTHENTICATED:return I.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case dt.NOT_FOUND:return I.NOT_FOUND;case dt.ALREADY_EXISTS:return I.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return I.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case dt.ABORTED:return I.ABORTED;case dt.OUT_OF_RANGE:return I.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return I.UNIMPLEMENTED;case dt.DATA_LOSS:return I.DATA_LOSS;default:return O()}}(fe=dt||(dt={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";const Ate=new Ra([4294967295,4294967295],0);function hF(t){const e=function dF(){return new TextEncoder}().encode(t),n=new Eee;return n.update(e),new Uint8Array(n.digest())}function fF(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ra([n,r],0),new Ra([i,o],0)]}class TT{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Bl(`Invalid padding: ${n}`);if(r<0)throw new Bl(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Bl(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new Bl(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Ra.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Ra.fromNumber(r)));return 1===i.compare(Ate)&&(i=new Ra([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=hF(e),[r,i]=fF(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new TT(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Te)return;const n=hF(e),[r,i]=fF(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);this.Re(s)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class jl{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,$l.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new jl(U.min(),i,new Oe(Y),yn(),ie())}}class $l{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new $l(r,n,ie(),ie(),ie())}}class Fp{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class pF{constructor(e,n){this.targetId=e,this.fe=n}}class gF{constructor(e,n,r=_t.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class mF{constructor(){this.ge=0,this.pe=yF(),this.ye=_t.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ie(),n=ie(),r=ie();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:O()}}),new $l(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=yF()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,L(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class bte{constructor(e){this.Le=e,this.ke=new Map,this.qe=yn(),this.Qe=_F(),this.Ke=new Oe(Y)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:O()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const o=i.target;if(Pp(o))if(0===r){const s=new M(o.path);this.We(n,s,Ue.newNoDocument(s,U.min()))}else L(1===r);else{const s=this.Ze(n);if(s!==r){const a=this.Xe(e),u=a?this.et(a,e,s):1;0!==u&&(this.He(n),this.Ke=this.Ke.insert(n,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=di(r).toUint8Array()}catch(u){if(u instanceof wV)return xn("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new TT(s,i,o)}catch(u){return xn(u instanceof Bl?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return 0===a.Te?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&Pp(a.target)){const u=new M(a.target.path);null!==this.qe.get(u)||this.st(s,u)||this.We(s,u,Ue.newNoDocument(u,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=ie();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{const c=this.Ye(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const i=new jl(e,n,this.Ke,this.qe,r);return this.qe=yn(),this.Qe=_F(),this.Ke=new Oe(Y),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new mF,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new be(Y),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||C("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new mF),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function _F(){return new Oe(M.comparator)}function yF(){return new Oe(M.comparator)}const Ste={asc:"ASCENDING",desc:"DESCENDING"},Rte={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Pte={and:"AND",or:"OR"};class Mte{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function CT(t,e){return t.useProto3Json||Al(e)?e:{value:e}}function za(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vF(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function xte(t,e){return za(t,e.toTimestamp())}function it(t){return L(!!t),U.fromTimestamp(function(n){const r=qi(n);return new qe(r.seconds,r.nanos)}(t))}function DT(t,e){return(r=t,new he(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function IF(t){const e=he.fromString(t);return L(RF(e)),e}function Gl(t,e){return DT(t.databaseId,e.path)}function Fr(t,e){const n=IF(e);if(n.get(1)!==t.databaseId.projectId)throw new D(I.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new D(I.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new M(wF(n))}function AT(t,e){return DT(t.databaseId,e)}function Hl(t){return new he(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function wF(t){return L(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function TF(t,e,n){return{name:Gl(t,e),fields:n.value.mapValue.fields}}function DF(t,e){return{documents:[AT(t,e.path)]}}function ST(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=AT(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=AT(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return SF(De.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(0!==u.length)return u.map(c=>{return{field:Zi((d=c).field),direction:Fte(d.dir)};var d})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=CT(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt={before:(u=e.startAt).inclusive,values:u.position}),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),n;var u}function AF(t){let e=function EF(t){const e=IF(t);return 4===e.length?he.emptyPath():wF(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){L(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let o=[];n.where&&(o=function(d){const h=bF(d);return h instanceof De&&fT(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(h=>{return new xl(qa((p=h).field),function(m){switch(m){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction));var p}));let a=null;n.limit&&(a=function(d){let h;return h="object"==typeof d?d.value:d,Al(h)?null:h}(n.limit));let u=null;var d;n.startAt&&(u=new Yi((d=n.startAt).values||[],!!d.before));let c=null;return n.endAt&&(c=function(d){return new Yi(d.values||[],!d.before)}(n.endAt)),function jV(t,e,n,r,i,o,s,a){return new hi(t,e,n,r,i,o,s,a)}(e,i,s,o,a,"F",u,c)}function bF(t){return void 0!==t.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=qa(n.unaryFilter.field);return ae.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=qa(n.unaryFilter.field);return ae.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=qa(n.unaryFilter.field);return ae.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=qa(n.unaryFilter.field);return ae.create(s,"!=",{nullValue:"NULL_VALUE"});default:return O()}}(t):void 0!==t.fieldFilter?ae.create(qa((n=t).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return O()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==t.compositeFilter?function(n){return De.create(n.compositeFilter.filters.map(r=>bF(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return O()}}(n.compositeFilter.op))}(t):O();var n}function Fte(t){return Ste[t]}function Lte(t){return Rte[t]}function Ute(t){return Pte[t]}function Zi(t){return{fieldPath:t.canonicalString()}}function qa(t){return $e.fromServerFormat(t.fieldPath)}function SF(t){return t instanceof ae?function(n){if("=="===n.op){if(DV(n.value))return{unaryFilter:{field:Zi(n.field),op:"IS_NAN"}};if(CV(n.value))return{unaryFilter:{field:Zi(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(DV(n.value))return{unaryFilter:{field:Zi(n.field),op:"IS_NOT_NAN"}};if(CV(n.value))return{unaryFilter:{field:Zi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zi(n.field),op:Lte(n.op),value:n.value}}}(t):t instanceof De?function(n){const r=n.getFilters().map(i=>SF(i));return 1===r.length?r[0]:{compositeFilter:{op:Ute(n.op),filters:r}}}(t):O()}function Bte(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function RF(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class gi{constructor(e,n,r,i,o=U.min(),s=U.min(),a=_t.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new gi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new gi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class PF{constructor(e){this.ut=e}}function RT(t){const e=AF({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?xp(e,e.limit,"L"):e}class Xo{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(Je(e.integerValue));else if("doubleValue"in e){const r=Je(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),bl(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(n,20),"string"==typeof r?n.dt(r):(n.dt(`${r.seconds||""}`),n.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(di(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?AV(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):O()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const r=e.fields||{};this.Tt(n,55);for(const i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){const r=e.values||[];this.Tt(n,50);for(const i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),M.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}Xo.St=new Xo;class Kte{constructor(){this.on=new kT}addToCollectionParentIndex(e,n){return this.on.add(n),y.resolve()}getCollectionParents(e,n){return y.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return y.resolve()}deleteFieldIndex(e,n){return y.resolve()}deleteAllFieldIndexes(e){return y.resolve()}createTargetIndexes(e,n){return y.resolve()}getDocumentsMatchingTarget(e,n){return y.resolve(null)}getIndexType(e,n){return y.resolve(0)}getFieldIndexes(e,n){return y.resolve([])}getNextCollectionGroupToUpdate(e){return y.resolve(null)}getMinOffset(e,n){return y.resolve(Nn.min())}getMinOffsetFromCollectionGroup(e,n){return y.resolve(Nn.min())}updateCollectionGroup(e,n,r){return y.resolve()}updateIndexEntries(e,n){return y.resolve()}}class kT{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new be(he.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new be(he.comparator)).toArray()}}new Uint8Array(0);class qt{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new qt(e,qt.DEFAULT_COLLECTION_PERCENTILE,qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}qt.DEFAULT_COLLECTION_PERCENTILE=10,qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qt.DEFAULT=new qt(41943040,qt.DEFAULT_COLLECTION_PERCENTILE,qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qt.DISABLED=new qt(-1,0,0);class ts{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new ts(0)}static Nn(){return new ts(-1)}}class ene{constructor(){this.changes=new fi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ue.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?y.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class rne{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class rL{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&Ul(r.mutation,i,_n.empty(),qe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ie()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ie()){const i=Vr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Vl();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Vr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ie()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=yn();const s=Fl(),a=Fl();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof pi)?o=o.insert(c.key,c):void 0!==l?(s.set(c.key,l.mutation.getFieldMask()),Ul(l.mutation,c,l.mutation.getFieldMask(),qe.now())):s.set(c.key,_n.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((c,l)=>s.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new rne(l,null!==(d=s.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Fl();let i=new Oe((s,a)=>s-a),o=ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||_n.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||ie()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=QV();l.forEach(h=>{if(!o.has(h)){const f=iF(n.get(h),r.get(h));null!==f&&d.set(h,f),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,d))}return y.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return M.isDocumentKey((s=n).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function mT(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i);var s}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):y.resolve(Vr());let a=-1,u=o;return s.next(c=>y.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(l)?y.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,u,c,ie())).next(l=>({batchId:a,changes:KV(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new M(n)).next(r=>{let i=Vl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Vl();return this.indexManager.getCollectionParents(e,o).next(a=>y.forEach(a,u=>{const c=(d=n,h=u.child(o),new hi(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt));var d,h;return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(l=>{l.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,c)=>{const l=c.getKey();null===s.get(l)&&(s=s.insert(l,Ue.newInvalidDocument(l)))});let a=Vl();return s.forEach((u,c)=>{const l=o.get(u);void 0!==l&&Ul(l.mutation,c,_n.empty(),qe.now()),kl(n,c)&&(a=a.insert(u,c))}),a})}}class ine{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return y.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,{id:(i=n).id,version:i.version,createTime:it(i.createTime)}),y.resolve();var i}getNamedQuery(e,n){return y.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,{name:(i=n).name,query:RT(i.bundledQuery),readTime:it(i.readTime)}),y.resolve();var i}}class one{constructor(){this.overlays=new Oe(M.comparator),this.lr=new Map}getOverlay(e,n){return y.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Vr();return y.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.lt(e,n,o)}),y.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(r)),y.resolve()}getOverlaysForCollection(e,n,r){const i=Vr(),o=n.length+1,s=new M(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return y.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Oe((c,l)=>c-l);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=o.get(c.largestBatchId);null===l&&(l=Vr(),o=o.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=Vr(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return y.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new wT(n,r));let o=this.lr.get(n);void 0===o&&(o=ie(),this.lr.set(n,o)),this.lr.set(n,o.add(r.key))}}class VT{constructor(){this.hr=new be(Tt.Pr),this.Ir=new be(Tt.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new Tt(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new Tt(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new M(new he([])),r=new Tt(n,e),i=new Tt(n,e+1),o=[];return this.Ir.forEachInRange([r,i],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new M(new he([])),r=new Tt(n,e),i=new Tt(n,e+1);let o=ie();return this.Ir.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Tt(e,0),r=this.hr.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Tt{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return M.comparator(e.key,n.key)||Y(e.gr,n.gr)}static Tr(e,n){return Y(e.gr,n.gr)||M.comparator(e.key,n.key)}}class sne{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new be(Tt.Pr)}checkEmpty(e){return y.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const o=this.pr;this.pr++;const s=new IT(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.yr=this.yr.add(new Tt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return y.resolve(s)}lookupMutationBatch(e,n){return y.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.Sr(n+1),o=i<0?0:i;return y.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return y.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Tt(n,0),i=new Tt(n,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([r,i],s=>{const a=this.wr(s.gr);o.push(a)}),y.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new be(Y);return n.forEach(i=>{const o=new Tt(i,0),s=new Tt(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{r=r.add(a.gr)})}),y.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;M.isDocumentKey(o)||(o=o.child(""));const s=new Tt(new M(o),0);let a=new be(Y);return this.yr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.gr)),!0)},s),y.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){L(0===this.Dr(n.batchId,"removed")),this.mutationQueue.shift();let r=this.yr;return y.forEach(n.mutations,i=>{const o=new Tt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new Tt(n,0),i=this.yr.firstAfterOrEqual(r);return y.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return y.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class ane{constructor(e){this.Cr=e,this.docs=new Oe(M.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return y.resolve(r?r.document.mutableCopy():Ue.newInvalidDocument(n))}getEntries(e,n){let r=yn();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Ue.newInvalidDocument(i))}),y.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=yn();const s=n.path,a=new M(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||sT(cV(l),r)<=0||(i.has(l.key)||kl(n,l))&&(o=o.insert(l.key,l.mutableCopy()))}return y.resolve(o)}getAllFromCollectionGroup(e,n,r,i){O()}vr(e,n){return y.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new une(this)}getSize(e){return y.resolve(this.size)}}class une extends ene{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),y.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}class cne{constructor(e){this.persistence=e,this.Fr=new fi(n=>Wo(n),Nl),this.lastRemoteSnapshotVersion=U.min(),this.highestTargetId=0,this.Mr=0,this.Or=new VT,this.targetCount=0,this.Nr=ts.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),y.resolve()}getLastRemoteSnapshotVersion(e){return y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return y.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),y.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new ts(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,y.resolve()}updateTargetData(e,n){return this.kn(n),y.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,y.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),y.waitFor(o).next(()=>i)}getTargetCount(e){return y.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return y.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),y.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),y.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),y.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return y.resolve(r)}containsKey(e,n){return y.resolve(this.Or.containsKey(n))}}class FT{constructor(e,n){this.Br={},this.overlays={},this.Lr=new On(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new cne(this),this.indexManager=new Kte,this.remoteDocumentCache=new ane(r=>this.referenceDelegate.Qr(r)),this.serializer=new PF(n),this.Kr=new ine(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new one,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new sne(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){C("MemoryPersistence","Starting transaction:",e);const i=new lne(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(o=>this.referenceDelegate.Ur(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Wr(e,n){return y.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class lne extends xee{constructor(e){super(),this.currentSequenceNumber=e}}class zp{constructor(e){this.persistence=e,this.Gr=new VT,this.zr=null}static jr(e){return new zp(e)}get Hr(){if(this.zr)return this.zr;throw O()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),y.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),y.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),y.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Hr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return y.forEach(this.Hr,r=>{const i=M.fromPath(r);return this.Jr(e,i).next(o=>{o||n.removeEntry(i,U.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return y.or([()=>y.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}class jT{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=ie(),i=ie();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new jT(e,n.fromCache,r,i)}}class hne{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class oL{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.zi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new hne;return this.Hi(e,n,s).next(a=>{if(o.result=a,this.$i)return this.Ji(e,n,s,a.size)})}).next(()=>o.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(Ma()<=ce.DEBUG&&C("QueryEngine","SDK will not create cache indexes for query:",Ba(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),y.resolve()):(Ma()<=ce.DEBUG&&C("QueryEngine","Query:",Ba(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Ma()<=ce.DEBUG&&C("QueryEngine","The SDK decides to create cache indexes for query:",Ba(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,sn(n))):y.resolve())}zi(e,n){if($V(n))return y.resolve(null);let r=sn(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=xp(n,null,"F"),r=sn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=ie(...o);return this.Gi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Yi(n,a);return this.Zi(n,c,s,u.readTime)?this.zi(e,xp(n,null,"F")):this.Xi(e,c,n,u)}))})))}ji(e,n,r,i){return $V(n)||i.isEqual(U.min())?y.resolve(null):this.Gi.getDocuments(e,r).next(o=>{const s=this.Yi(n,o);return this.Zi(n,s,r,i)?y.resolve(null):(Ma()<=ce.DEBUG&&C("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ba(n)),this.Xi(e,s,n,function uV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=U.fromTimestamp(1e9===r?new qe(n+1,0):new qe(n,r));return new Nn(i,M.empty(),e)}(i,-1)).next(a=>a))})}Yi(e,n){let r=new be(qV(e));return n.forEach((i,o)=>{kl(e,o)&&(r=r.add(o))}),r}Zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const o="F"===e.limitType?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Hi(e,n,r){return Ma()<=ce.DEBUG&&C("QueryEngine","Using full collection scan to execute query:",Ba(n)),this.Gi.getDocumentsMatchingQuery(e,n,Nn.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}class fne{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new Oe(Y),this.ns=new fi(o=>Wo(o),Nl),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rL(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function aL(t,e){return $T.apply(this,arguments)}function $T(){return $T=E(function*(t,e){const n=P(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let u=ie();for(const c of i){s.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of o){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({_s:c,removedBatchIds:s,addedBatchIds:a}))})})}),$T.apply(this,arguments)}function uL(t){const e=P(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function mne(t,e){const n=P(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Ja(t,e,n){return GT.apply(this,arguments)}function GT(){return GT=E(function*(t,e,n){const r=P(t),i=r.ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Hi(s))throw s;C("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}),GT.apply(this,arguments)}function Kp(t,e,n){const r=P(t);let i=U.min(),o=ie();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,c,l){const d=P(u),h=d.ns.get(l);return void 0!==h?y.resolve(d.ts.get(h)):d.qr.getTargetData(c,l)}(r,s,sn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.es.getDocumentsMatchingQuery(s,e,n?i:U.min(),n?o:ie())).next(a=>(function hL(t,e,n){let r=t.rs.get(e)||U.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.rs.set(e,r)}(r,function zV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ls:o})))}class KT{constructor(){this.activeTargetIds=function yT(){return _te}()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gL{constructor(){this.eo=new KT,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new KT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class vne{ro(e){}shutdown(){}}class mL{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){C("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){C("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Zp=null;function YT(){return null===Zp?Zp=268435456+Math.round(2147483648*Math.random()):Zp++,"0x"+Zp.toString(16)}const Ine={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ene{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const Wt="WebChannelConnection";class wne extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${o}`,this.po="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get yo(){return!1}wo(n,r,i,o,s){const a=YT(),u=this.So(n,r);C("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const c={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(c,o,s),this.Do(n,u,c,i).then(l=>(C("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw xn("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",u,"request:",i),l})}Co(n,r,i,o,s,a){return this.wo(n,r,i,o,s)}bo(n,r,i){n["X-Goog-Api-Client"]="gl-js/ fire/"+Pa,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}So(n,r){return`${this.mo}/v1/${r}:${Ine[n]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){const o=YT();return new Promise((s,a)=>{const u=new Iee;u.setWithCredentials(!0),u.listenOnce(yee.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case rT.NO_ERROR:const l=u.getResponseJson();C(Wt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(l)),s(l);break;case rT.TIMEOUT:C(Wt,`RPC '${e}' ${o} timed out`),a(new D(I.DEADLINE_EXCEEDED,"Request time out"));break;case rT.HTTP_ERROR:const d=u.getStatus();if(C(Wt,`RPC '${e}' ${o} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(m){const v=m.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(v)>=0?v:I.UNKNOWN}(f.status);a(new D(p,f.message))}else a(new D(I.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new D(I.UNAVAILABLE,"Connection failed."));break;default:O()}}finally{C(Wt,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);C(Wt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",c,r,15)})}vo(e,n,r){const i=YT(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=mee(),a=_ee(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.bo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const l=o.join("");C(Wt,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=s.createWebChannel(l,u);let h=!1,f=!1;const p=new Ene({co:m=>{f?C(Wt,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(h||(C(Wt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),C(Wt,`RPC '${e}' stream ${i} sending:`,m),d.send(m))},lo:()=>d.close()}),g=(m,v,_)=>{m.listen(v,w=>{try{_(w)}catch(S){setTimeout(()=>{throw S},0)}})};return g(d,Ep.EventType.OPEN,()=>{f||C(Wt,`RPC '${e}' stream ${i} transport opened.`)}),g(d,Ep.EventType.CLOSE,()=>{f||(f=!0,C(Wt,`RPC '${e}' stream ${i} transport closed`),p.Ro())}),g(d,Ep.EventType.ERROR,m=>{f||(f=!0,xn(Wt,`RPC '${e}' stream ${i} transport errored:`,m),p.Ro(new D(I.UNAVAILABLE,"The operation could not be completed")))}),g(d,Ep.EventType.MESSAGE,m=>{var v;if(!f){const _=m.data[0];L(!!_);const S=_.error||(null===(v=_[0])||void 0===v?void 0:v.error);if(S){C(Wt,`RPC '${e}' stream ${i} received error:`,S);const k=S.status;let q=function(_i){const mu=dt[_i];if(void 0!==mu)return lF(mu)}(k),ge=S.message;void 0===q&&(q=I.INTERNAL,ge="Unknown error status: "+k+" with message "+S.message),f=!0,p.Ro(new D(q,ge)),d.close()}else C(Wt,`RPC '${e}' stream ${i} received:`,_),p.Vo(_)}}),g(a,vee.STAT_EVENT,m=>{m.stat===nV.PROXY?C(Wt,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===nV.NOPROXY&&C(Wt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ao()},0),p}}function Jp(){return typeof document<"u"?document:null}function Xl(t){return new Mte(t,!0)}class ZT{constructor(e,n,r=1e3,i=1.5,o=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&C("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class yL{constructor(e,n,r,i,o,s,a,u){this.si=e,this.Ko=r,this.$o=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new ZT(e,n)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return E(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return E(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){var r=this;return E(function*(){r.t_(),r.n_(),r.zo.cancel(),r.Uo++,4!==e?r.zo.reset():n&&n.code===I.RESOURCE_EXHAUSTED?(rt(n.toString()),rt("Using maximum backoff delay to prevent overloading the backend."),r.zo.Lo()):n&&n.code===I.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.r_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Io(n)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{const i=new D(I.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){var e=this;this.state=5,this.zo.ko(E(function*(){e.state=0,e.start()}))}o_(e){return C("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(C("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Tne extends yL{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=function Ote(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:O(),i=e.targetChange.targetIds||[],o=function(c,l){return c.useProto3Json?(L(void 0===l||"string"==typeof l),_t.fromBase64String(l||"")):(L(void 0===l||l instanceof Uint8Array),_t.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const l=void 0===c.code?I.UNKNOWN:lF(c.code);return new D(l,c.message||"")}(s);n=new gF(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Fr(t,r.document.name),o=it(r.document.updateTime),s=r.document.createTime?it(r.document.createTime):U.min(),a=new kt({mapValue:{fields:r.document.fields}}),u=Ue.newFoundDocument(i,o,s,a);n=new Fp(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=Fr(t,r.document),o=r.readTime?it(r.readTime):U.min(),s=Ue.newNoDocument(i,o);n=new Fp([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=Fr(t,r.document);n=new Fp([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return O();{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new Dte(i,o);n=new pF(r.targetId,s)}}var c;return n}(this.serializer,e),r=function(o){if(!("targetChange"in o))return U.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?U.min():s.readTime?it(s.readTime):U.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=Hl(this.serializer),n.addTarget=function(o,s){let a;const u=s.target;if(a=Pp(u)?{documents:DF(o,u)}:{query:ST(o,u)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=vF(o,s.resumeToken);const c=CT(o,s.expectedCount);null!==c&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(U.min())>0){a.readTime=za(o,s.snapshotVersion.toTimestamp());const c=CT(o,s.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,e);const r=function Vte(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return O()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=Hl(this.serializer),n.removeTarget=e,this.e_(n)}}class Cne extends yL{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(L(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=function kte(t,e){return t&&t.length>0?(L(void 0!==e),t.map(n=>function(i,o){let s=it(i.updateTime?i.updateTime:o);return s.isEqual(U.min())&&(s=it(o)),new Ete(s,i.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=it(e.commitTime);return this.listener.I_(r,n)}return L(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Hl(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function zl(t,e){let n;if(e instanceof Ga)n={update:TF(t,e.key,e.value)};else if(e instanceof Ha)n={delete:Gl(t,e.key)};else if(e instanceof pi)n={update:TF(t,e.key,e.data),updateMask:Bte(e.fieldMask)};else{if(!(e instanceof vT))return O();n={verify:Gl(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof ja)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ko)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Qo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof $a)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw O()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:xte(t,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:O()),n;var o}(this.serializer,r))};this.e_(n)}}class Dne extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new D(I.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.wo(e,n,r,i,o)).catch(i=>{throw"FirebaseError"===i.name?(i.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new D(I.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,n,r,o,s,i)).catch(o=>{throw"FirebaseError"===o.name?(o.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new D(I.UNKNOWN,o.toString())})}terminate(){this.d_=!0}}class bne{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(rt(n),this.f_=!1):C("OnlineStateTracker",n)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class Sne{constructor(e,n,r,i,o){var s=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(a=>{r.enqueueAndForget(E(function*(){var u;to(s)&&(C("RemoteStore","Restarting streams for network reachability change."),yield(u=E(function*(l){const d=P(l);d.C_.add(4),yield Xa(d),d.M_.set("Unknown"),d.C_.delete(4),yield ed(d)}),function c(l){return u.apply(this,arguments)})(s))}))}),this.M_=new bne(r,i)}}function ed(t){return XT.apply(this,arguments)}function XT(){return XT=E(function*(t){if(to(t))for(const e of t.v_)yield e(!0)}),XT.apply(this,arguments)}function Xa(t){return eC.apply(this,arguments)}function eC(){return eC=E(function*(t){for(const e of t.v_)yield e(!1)}),eC.apply(this,arguments)}function Xp(t,e){const n=P(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),rC(n)?nC(n):tu(n).Ho()&&tC(n,e))}function td(t,e){const n=P(t),r=tu(n);n.D_.delete(e),r.Ho()&&vL(n,e),0===n.D_.size&&(r.Ho()?r.Zo():to(n)&&n.M_.set("Unknown"))}function tC(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(U.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}tu(t).u_(e)}function vL(t,e){t.x_.Oe(e),tu(t).c_(e)}function nC(t){t.x_=new bte({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),tu(t).start(),t.M_.g_()}function rC(t){return to(t)&&!tu(t).jo()&&t.D_.size>0}function to(t){return 0===P(t).C_.size}function IL(t){t.x_=void 0}function Rne(t){return iC.apply(this,arguments)}function iC(){return iC=E(function*(t){t.D_.forEach((e,n)=>{tC(t,e)})}),iC.apply(this,arguments)}function Pne(t,e){return oC.apply(this,arguments)}function oC(){return oC=E(function*(t,e){IL(t),rC(t)?(t.M_.w_(e),nC(t)):t.M_.set("Unknown")}),oC.apply(this,arguments)}function Mne(t,e,n){return sC.apply(this,arguments)}function sC(){return sC=E(function*(t,e,n){if(t.M_.set("Online"),e instanceof gF&&2===e.state&&e.cause)try{yield(r=E(function*(o,s){const a=s.cause;for(const u of s.targetIds)o.D_.has(u)&&(yield o.remoteSyncer.rejectListen(u,a),o.D_.delete(u),o.x_.removeTarget(u))}),function i(o,s){return r.apply(this,arguments)})(t,e)}catch(r){C("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield eg(t,r)}else if(e instanceof Fp?t.x_.$e(e):e instanceof pF?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(U.min()))try{const r=yield uL(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){const a=o.x_.it(s);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const l=o.D_.get(c);l&&o.D_.set(c,l.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,c)=>{const l=o.D_.get(u);if(!l)return;o.D_.set(u,l.withResumeToken(_t.EMPTY_BYTE_STRING,l.snapshotVersion)),vL(o,u);const d=new gi(l.target,u,c,l.sequenceNumber);tC(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){C("RemoteStore","Failed to raise snapshot:",r),yield eg(t,r)}var r}),sC.apply(this,arguments)}function eg(t,e,n){return aC.apply(this,arguments)}function aC(){return aC=E(function*(t,e,n){if(!Hi(e))throw e;t.C_.add(1),yield Xa(t),t.M_.set("Offline"),n||(n=()=>uL(t.localStore)),t.asyncQueue.enqueueRetryable(E(function*(){C("RemoteStore","Retrying IndexedDB access"),yield n(),t.C_.delete(1),yield ed(t)}))}),aC.apply(this,arguments)}function EL(t,e){return e().catch(n=>eg(t,n,e))}function eu(t){return uC.apply(this,arguments)}function uC(){return uC=E(function*(t){const e=P(t),n=no(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;xne(e);)try{const i=yield mne(e.localStore,r);if(null===i){0===e.b_.length&&n.Zo();break}r=i.batchId,Nne(e,i)}catch(i){yield eg(e,i)}wL(e)&&TL(e)}),uC.apply(this,arguments)}function xne(t){return to(t)&&t.b_.length<10}function Nne(t,e){t.b_.push(e);const n=no(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function wL(t){return to(t)&&!no(t).jo()&&t.b_.length>0}function TL(t){no(t).start()}function One(t){return cC.apply(this,arguments)}function cC(){return cC=E(function*(t){no(t).E_()}),cC.apply(this,arguments)}function kne(t){return lC.apply(this,arguments)}function lC(){return lC=E(function*(t){const e=no(t);for(const n of t.b_)e.P_(n.mutations)}),lC.apply(this,arguments)}function Vne(t,e,n){return dC.apply(this,arguments)}function dC(){return dC=E(function*(t,e,n){const r=t.b_.shift(),i=ET.from(r,e,n);yield EL(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield eu(t)}),dC.apply(this,arguments)}function Fne(t,e){return hC.apply(this,arguments)}function hC(){return hC=E(function*(t,e){var n;e&&no(t).h_&&(yield(n=E(function*(i,o){if(function cF(t){switch(t){default:return O();case I.CANCELLED:case I.UNKNOWN:case I.DEADLINE_EXCEEDED:case I.RESOURCE_EXHAUSTED:case I.INTERNAL:case I.UNAVAILABLE:case I.UNAUTHENTICATED:return!1;case I.INVALID_ARGUMENT:case I.NOT_FOUND:case I.ALREADY_EXISTS:case I.PERMISSION_DENIED:case I.FAILED_PRECONDITION:case I.ABORTED:case I.OUT_OF_RANGE:case I.UNIMPLEMENTED:case I.DATA_LOSS:return!0}}(a=o.code)&&a!==I.ABORTED){const s=i.b_.shift();no(i).Yo(),yield EL(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield eu(i)}var a}),function r(i,o){return n.apply(this,arguments)})(t,e)),wL(t)&&TL(t)}),hC.apply(this,arguments)}function CL(t,e){return fC.apply(this,arguments)}function fC(){return fC=E(function*(t,e){const n=P(t);n.asyncQueue.verifyOperationInProgress(),C("RemoteStore","RemoteStore received new credentials");const r=to(n);n.C_.add(3),yield Xa(n),r&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield ed(n)}),fC.apply(this,arguments)}function gC(){return gC=E(function*(t,e){const n=P(t);e?(n.C_.delete(2),yield ed(n)):e||(n.C_.add(2),yield Xa(n),n.M_.set("Unknown"))}),gC.apply(this,arguments)}function tu(t){return t.O_||(t.O_=function(n,r,i){const o=P(n);return o.A_(),new Tne(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{ho:Rne.bind(null,t),Io:Pne.bind(null,t),a_:Mne.bind(null,t)}),t.v_.push(function(){var e=E(function*(n){n?(t.O_.Yo(),rC(t)?nC(t):t.M_.set("Unknown")):(yield t.O_.stop(),IL(t))});return function(n){return e.apply(this,arguments)}}())),t.O_}function no(t){return t.N_||(t.N_=function(n,r,i){const o=P(n);return o.A_(),new Cne(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{ho:One.bind(null,t),Io:Fne.bind(null,t),T_:kne.bind(null,t),I_:Vne.bind(null,t)}),t.v_.push(function(){var e=E(function*(n){n?(t.N_.Yo(),yield eu(t)):(yield t.N_.stop(),t.b_.length>0&&(C("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))});return function(n){return e.apply(this,arguments)}}())),t.N_}class mC{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new mt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new mC(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new D(I.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nu(t,e){if(rt("AsyncQueue",`${e}: ${t}`),Hi(t))return new D(I.UNAVAILABLE,`${e}: ${t}`);throw t}class ru{constructor(e){this.comparator=e?(n,r)=>e(n,r)||M.comparator(n.key,r.key):(n,r)=>M.comparator(n.key,r.key),this.keyedMap=Vl(),this.sortedSet=new Oe(this.comparator)}static emptySet(e){return new ru(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ru)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new ru;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class DL{constructor(){this.B_=new Oe(M.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?0!==e.type&&3===r.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==r.type?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.B_=this.B_.remove(n):1===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):O():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class iu{constructor(e,n,r,i,o,s,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new iu(e,n,ru.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ol(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Lne{constructor(){this.k_=void 0,this.listeners=[]}}class Une{constructor(){this.queries=new fi(e=>HV(e),Ol),this.onlineState="Unknown",this.q_=new Set}}function yC(){return yC=E(function*(t,e){const n=P(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new Lne),i)try{o.k_=yield n.onListen(r)}catch(s){const a=nu(s,`Initialization of query '${Ba(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.listeners.push(e),e.Q_(n.onlineState),o.k_&&e.K_(o.k_)&&EC(n)}),yC.apply(this,arguments)}function IC(){return IC=E(function*(t,e){const n=P(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),IC.apply(this,arguments)}function Bne(t,e){const n=P(t);let r=!1;for(const i of e){const s=n.queries.get(i.query);if(s){for(const a of s.listeners)a.K_(i)&&(r=!0);s.k_=i}}r&&EC(n)}function jne(t,e,n){const r=P(t),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(e)}function EC(t){t.q_.forEach(e=>{e.next()})}class wC{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new iu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){return!e.fromCache||(!this.options.J_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=iu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class SL{constructor(e){this.key=e}}class RL{constructor(e){this.key=e}}class PL{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=ie(),this.mutatedKeys=ie(),this._a=qV(e),this.aa=new ru(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new DL,i=n?n.aa:this.aa;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=kl(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let m=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),m=!0):this.ha(h,f)||(r.track({type:2,doc:f}),m=!0,(u&&this._a(f,u)>0||c&&this._a(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),m=!0):h&&!f&&(r.track({type:1,doc:h}),m=!0,(u||c)&&(a=!0)),m&&(f?(s=s.add(f),o=g?o.add(l):o.delete(l)):(s=s.delete(l),o=o.delete(l)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const l="F"===this.query.limitType?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{aa:s,la:r,Zi:a,mutatedKeys:o}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const s=e.la.L_();s.sort((l,d)=>function(f,p){const g=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return O()}};return g(f)-g(p)}(l.type,d.type)||this._a(l.doc,d.doc)),this.Pa(r),i=null!=i&&i;const a=n&&!i?this.Ia():[],u=0===this.oa.size&&this.current&&!i?1:0,c=u!==this.sa;return this.sa=u,0!==s.length||c?{snapshot:new iu(this.query,e.aa,o,s,e.mutatedKeys,0===u,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new DL,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=ie(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new RL(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new SL(r))}),n}da(e){this.ia=e.ls,this.oa=ie();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return iu.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class Hne{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class zne{constructor(e){this.key=e,this.Ra=!1}}class qne{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new fi(a=>HV(a),Ol),this.fa=new Map,this.ga=new Set,this.pa=new Oe(M.comparator),this.ya=new Map,this.wa=new VT,this.Sa={},this.ba=new Map,this.Da=ts.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function Wne(t,e){return TC.apply(this,arguments)}function TC(){return TC=E(function*(t,e){const n=function qC(t){const e=P(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ML.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nre.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Yne.bind(null,e),e.Va.a_=Bne.bind(null,e.eventManager),e.Va.Fa=jne.bind(null,e.eventManager),e}(t);let r,i;const o=n.ma.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Aa();else{const s=yield function Za(t,e){const n=P(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(o=>o?(i=o,y.resolve(i)):n.qr.allocateTargetId(r).next(s=>(i=new gi(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}(n.localStore,sn(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=yield function CC(t,e,n,r,i){return DC.apply(this,arguments)}(n,e,r,"current"===a,s.resumeToken),n.isPrimaryClient&&Xp(n.remoteStore,s)}return i}),TC.apply(this,arguments)}function DC(){return DC=E(function*(t,e,n,r,i){t.va=(d,h,f)=>{return(p=E(function*(m,v,_,w){let S=v.view.ca(_);S.Zi&&(S=yield Kp(m.localStore,v.query,!1).then(({documents:at})=>v.view.ca(at,S)));const k=w&&w.targetChanges.get(v.targetId),q=w&&null!=w.targetMismatches.get(v.targetId),ge=v.view.applyChanges(S,m.isPrimaryClient,k,q);return kC(m,v.targetId,ge.Ta),ge.snapshot}),function g(m,v,_,w){return p.apply(this,arguments)})(t,d,h,f);var p};const o=yield Kp(t.localStore,e,!0),s=new PL(e,o.ls),a=s.ca(o.documents),u=$l.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=s.applyChanges(a,t.isPrimaryClient,u);kC(t,n,c.Ta);const l=new Hne(e,n,s);return t.ma.set(e,l),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),c.snapshot}),DC.apply(this,arguments)}function Kne(t,e){return AC.apply(this,arguments)}function AC(){return AC=E(function*(t,e){const n=P(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(o=>!Ol(o,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Ja(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),td(n.remoteStore,r.targetId),ou(n,r.targetId)}).catch(Gi))):(ou(n,r.targetId),yield Ja(n.localStore,r.targetId,!0))}),AC.apply(this,arguments)}function bC(){return bC=E(function*(t,e,n){const r=function WC(t){const e=P(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Zne.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Jne.bind(null,e),e}(t);try{const i=yield function(s,a){const u=P(s),c=qe.now(),l=a.reduce((f,p)=>f.add(p.key),ie());let d,h;return u.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=yn(),g=ie();return u.ss.getEntries(f,l).next(m=>{p=m,p.forEach((v,_)=>{_.isValidDocument()||(g=g.add(v))})}).next(()=>u.localDocuments.getOverlayedDocuments(f,p)).next(m=>{d=m;const v=[];for(const _ of a){const w=Tte(_,d.get(_.key).overlayedDocument);null!=w&&v.push(new pi(_.key,w,RV(w.value.mapValue),Ge.exists(!0)))}return u.mutationQueue.addMutationBatch(f,c,v,a)}).next(m=>{h=m;const v=m.applyToLocalDocumentSet(d,g);return u.documentOverlayCache.saveOverlays(f,m.batchId,v)})}).then(()=>({batchId:h.batchId,changes:KV(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let c=s.Sa[s.currentUser.toKey()];c||(c=new Oe(Y)),c=c.insert(a,u),s.Sa[s.currentUser.toKey()]=c}(r,i.batchId,n),yield mi(r,i.changes),yield eu(r.remoteStore)}catch(i){const o=nu(i,"Failed to persist write");n.reject(o)}}),bC.apply(this,arguments)}function ML(t,e){return SC.apply(this,arguments)}function SC(){return SC=E(function*(t,e){const n=P(t);try{const r=yield function gne(t,e){const n=P(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.qr.removeMatchingKeys(o,l.removedDocuments,d).next(()=>n.qr.addMatchingKeys(o,l.addedDocuments,d)));let f=h.withSequenceNumber(o.currentSequenceNumber);var g,m,v;null!==e.targetMismatches.get(d)?f=f.withResumeToken(_t.EMPTY_BYTE_STRING,U.min()).withLastLimboFreeSnapshotVersion(U.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),m=f,v=l,(0===(g=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8||v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0)&&a.push(n.qr.updateTargetData(o,f))});let u=yn(),c=ie();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,l))}),a.push(function cL(t,e,n){let r=ie(),i=ie();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=yn();return n.forEach((a,u)=>{const c=o.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(U.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):C("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{us:s,cs:i}})}(o,s,e.documentUpdates).next(l=>{u=l.us,c=l.cs})),!r.isEqual(U.min())){const l=n.qr.getLastRemoteSnapshotVersion(o).next(d=>n.qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(l)}return y.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,c)).next(()=>u)}).then(o=>(n.ts=i,o))}(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.ya.get(o);s&&(L(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ra=!0:i.modifiedDocuments.size>0?L(s.Ra):i.removedDocuments.size>0&&(L(s.Ra),s.Ra=!1))}),yield mi(n,r,e)}catch(r){yield Gi(r)}}),SC.apply(this,arguments)}function xL(t,e,n){const r=P(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ma.forEach((o,s)=>{const a=s.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const u=P(s);u.onlineState=a;let c=!1;u.queries.forEach((l,d)=>{for(const h of d.listeners)h.Q_(a)&&(c=!0)}),c&&EC(u)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Yne(t,e,n){return RC.apply(this,arguments)}function RC(){return RC=E(function*(t,e,n){const r=P(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ya.get(e),o=i&&i.key;if(o){let s=new Oe(M.comparator);s=s.insert(o,Ue.newNoDocument(o,U.min()));const a=ie().add(o),u=new jl(U.min(),new Map,new Oe(Y),s,a);yield ML(r,u),r.pa=r.pa.remove(o),r.ya.delete(e),VC(r)}else yield Ja(r.localStore,e,!1).then(()=>ou(r,e,n)).catch(Gi)}),RC.apply(this,arguments)}function Zne(t,e){return PC.apply(this,arguments)}function PC(){return PC=E(function*(t,e){const n=P(t),r=e.batch.batchId;try{const i=yield function pne(t,e){const n=P(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,u,c,l){const d=c.batch,h=d.keys();let f=y.resolve();return h.forEach(p=>{f=f.next(()=>l.getEntry(u,p)).next(g=>{const m=c.docVersions.get(p);L(null!==m),g.version.compareTo(m)<0&&(d.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),l.addEntry(g)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(u,d))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ie();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);OC(n,r,null),NC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield mi(n,i)}catch(i){yield Gi(i)}}),PC.apply(this,arguments)}function Jne(t,e,n){return MC.apply(this,arguments)}function MC(){return MC=E(function*(t,e,n){const r=P(t);try{const i=yield function(s,a){const u=P(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let l;return u.mutationQueue.lookupMutationBatch(c,a).next(d=>(L(null!==d),l=d.keys(),u.mutationQueue.removeMutationBatch(c,d))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,l,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,l)).next(()=>u.localDocuments.getDocuments(c,l))})}(r.localStore,e);OC(r,e,n),NC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield mi(r,i)}catch(i){yield Gi(i)}}),MC.apply(this,arguments)}function NC(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function OC(t,e,n){const r=P(t);let i=r.Sa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function ou(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||NL(t,r)})}function NL(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);null!==n&&(td(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),VC(t))}function kC(t,e,n){for(const r of n)r instanceof SL?(t.wa.addReference(r.key,e),ere(t,r)):r instanceof RL?(C("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||NL(t,r.key)):O()}function ere(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(C("SyncEngine","New document in limbo: "+n),t.ga.add(r),VC(t))}function VC(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new M(he.fromString(e)),r=t.Da.next();t.ya.set(r,new zne(n)),t.pa=t.pa.insert(n,r),Xp(t.remoteStore,new gi(sn(La(n.path)),r,"TargetPurposeLimboResolution",On._e))}}function mi(t,e,n){return FC.apply(this,arguments)}function FC(){return FC=E(function*(t,e,n){const r=P(t),i=[],o=[],s=[];var a;r.ma.isEmpty()||(r.ma.forEach((a,u)=>{s.push(r.va(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=jT.Qi(u.targetId,c);o.push(l)}}))}),yield Promise.all(s),r.Va.a_(i),yield(a=E(function*(c,l){const d=P(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>y.forEach(l,f=>y.forEach(f.ki,p=>d.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>y.forEach(f.qi,p=>d.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!Hi(h))throw h;C("LocalStore","Failed to update sequence numbers: "+h)}for(const h of l){const f=h.targetId;if(!h.fromCache){const p=d.ts.get(f),m=p.withLastLimboFreeSnapshotVersion(p.snapshotVersion);d.ts=d.ts.insert(f,m)}}}),function u(c,l){return a.apply(this,arguments)})(r.localStore,o))}),FC.apply(this,arguments)}function tre(t,e){return LC.apply(this,arguments)}function LC(){return LC=E(function*(t,e){const n=P(t);if(!n.currentUser.isEqual(e)){C("SyncEngine","User change. New user:",e.toKey());const r=yield aL(n.localStore,e);n.currentUser=e,(o=n).ba.forEach(a=>{a.forEach(u=>{u.reject(new D(I.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ba.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield mi(n,r._s)}var o}),LC.apply(this,arguments)}function nre(t,e){const n=P(t),r=n.ya.get(e);if(r&&r.Ra)return ie().add(r.key);{let i=ie();const o=n.fa.get(e);if(!o)return i;for(const s of o){const a=n.ma.get(s);i=i.unionWith(a.view.ua)}return i}}class tg{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return E(function*(){n.serializer=Xl(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function sL(t,e,n,r){return new fne(t,e,n,r)}(this.persistence,new oL,e.initialUser,this.serializer)}createPersistence(e){return new FT(zp.jr,this.serializer)}createSharedClientState(e){return new gL}terminate(){var e=this;return E(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class su{initialize(e,n){var r=this;return E(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>xL(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=tre.bind(null,r.syncEngine),yield function pC(t,e){return gC.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Une}createDatastore(e){const n=Xl(e.databaseInfo.databaseId),r=new wne(e.databaseInfo);return new Dne(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return r=this.localStore,i=this.datastore,o=e.asyncQueue,s=n=>xL(this.syncEngine,n,0),a=mL.D()?new mL:new vne,new Sne(r,i,o,s,a);var r,i,o,s,a}createSyncEngine(e,n){return function(i,o,s,a,u,c,l){const d=new qne(i,o,s,a,u,c);return l&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return function(){var e=E(function*(r){const i=P(r);C("RemoteStore","RemoteStore shutting down."),i.C_.add(5),yield Xa(i),i.F_.shutdown(),i.M_.set("Unknown")});return function n(r){return e.apply(this,arguments)}}()(this.remoteStore)}}class ng{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):rt("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class gre{constructor(e,n,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Et.UNAUTHENTICATED,this.clientId=sV.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var s=E(function*(a){C("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(r,s=>(C("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return E(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new D(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new mt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(E(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=nu(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function rg(t,e){return KC.apply(this,arguments)}function KC(){return KC=E(function*(t,e){t.asyncQueue.verifyOperationInProgress(),C("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=E(function*(o){r.isEqual(o)||(yield aL(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),KC.apply(this,arguments)}function QC(t,e){return YC.apply(this,arguments)}function YC(){return YC=E(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function ZC(t){return JC.apply(this,arguments)}(t);C("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>CL(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>CL(e.remoteStore,o)),t._onlineComponents=e}),YC.apply(this,arguments)}function JC(){return JC=E(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){C("FirestoreClient","Using user provided OfflineComponentProvider");try{yield rg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function UL(t){return"FirebaseError"===t.name?t.code===I.FAILED_PRECONDITION||t.code===I.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;xn("Error using user provided cache. Falling back to memory cache: "+n),yield rg(t,new tg)}}else C("FirestoreClient","Using default OfflineComponentProvider"),yield rg(t,new tg);return t._offlineComponents}),JC.apply(this,arguments)}function ig(t){return XC.apply(this,arguments)}function XC(){return XC=E(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(C("FirestoreClient","Using user provided OnlineComponentProvider"),yield QC(t,t._uninitializedComponentsProvider._online)):(C("FirestoreClient","Using default OnlineComponentProvider"),yield QC(t,new su))),t._onlineComponents}),XC.apply(this,arguments)}function uu(t){return tD.apply(this,arguments)}function tD(){return tD=E(function*(t){const e=yield ig(t),n=e.eventManager;return n.onListen=Wne.bind(null,e.syncEngine),n.onUnlisten=Kne.bind(null,e.syncEngine),n}),tD.apply(this,arguments)}function zL(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const qL=new Map;function nD(t,e,n){if(!n)throw new D(I.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function WL(t){if(!M.isDocumentKey(t))throw new D(I.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function KL(t){if(M.isDocumentKey(t))throw new D(I.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function og(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(r=t).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof t?"a function":O()}function ue(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new D(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=og(t);throw new D(I.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class YL{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new D(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new D(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Are(t,e,n,r){if(!0===e&&!0===r)throw new D(I.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=zL(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new D(I.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new D(I.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new D(I.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new YL({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new D(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new D(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new YL(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new wee;switch(r.type){case"firstParty":return new Aee(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new D(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=qL.get(n);r&&(C("ComponentProvider","Removing Datastore"),qL.delete(n),r.terminate())}(this),Promise.resolve()}}class Vt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Vt(this.firestore,e,this._query)}}class ot{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Lr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ot(this.firestore,e,this._key)}}class Lr extends Vt{constructor(e,n,r){super(e,n,La(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ot(this.firestore,null,new M(e))}withConverter(e){return new Lr(this.firestore,e,this._path)}}function Sre(t,e,...n){if(t=Pn(t),nD("collection","path",e),t instanceof nd){const r=he.fromString(e,...n);return KL(r),new Lr(t,null,r)}{if(!(t instanceof ot||t instanceof Lr))throw new D(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(he.fromString(e,...n));return KL(r),new Lr(t.firestore,null,r)}}function ZL(t,e,...n){if(t=Pn(t),1===arguments.length&&(e=sV.newId()),nD("doc","path",e),t instanceof nd){const r=he.fromString(e,...n);return WL(r),new ot(t,null,new M(r))}{if(!(t instanceof ot||t instanceof Lr))throw new D(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(he.fromString(e,...n));return WL(r),new ot(t.firestore,t instanceof Lr?t.converter:null,new M(r))}}class Rre{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new ZT(this,"async_queue_retry"),this.iu=()=>{const n=Jp();n&&C("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=Jp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=Jp();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new mt;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return E(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(n){if(!Hi(n))throw n;C("AsyncQueue","Operation failed with retryable error: "+n)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{throw this.eu=r,this.tu=!1,rt("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(r)),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=mC.createAndSchedule(this,e,n,r,o=>this.au(o));return this.Xa.push(i),i}su(){this.eu&&O()}verifyOperationInProgress(){}uu(){var e=this;return E(function*(){let n;do{n=e.Ja,yield n}while(n!==e.Ja)})()}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function rD(t){return function(n,r){if("object"!=typeof n||null===n)return!1;const i=n;for(const o of["next","error","complete"])if(o in i&&"function"==typeof i[o])return!0;return!1}(t)}class ke extends nd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Rre,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||XL(this),this._firestoreClient.terminate()}}function Mre(t,e){const r="string"==typeof t?t:e||"(default)",i=function v1(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}("object"==typeof t?t:E1(),"firestore").getImmediate({identifier:r});if(!i._initialized){const o=(t=>{const e=(t=>{var e,n;return null===(n=null===(e=Sf())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})("firestore");o&&function bre(t,e,n,r={}){var i;const o=(t=ue(t,nd))._getSettings(),s=`${e}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&xn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=Et.MOCK_USER;else{a=function GK(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Af(JSON.stringify({alg:"none",type:"JWT"})),Af(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new D(I.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Et(c)}t._authCredentials=new Tee(new iV(a,u))}}(i,...o)}return i}function st(t){return t._firestoreClient||XL(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function XL(t){var e,n,r;const i=t._freezeSettings(),o=(u=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new nte(t._databaseId,u,t._persistenceKey,(l=i).host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,zL(l.experimentalLongPollingOptions),l.useFetchStreams));var u,l;t._firestoreClient=new gre(t._authCredentials,t._appCheckCredentials,t._queue,o),null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class rs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new rs(_t.fromBase64String(e))}catch(n){throw new D(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new rs(_t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class cu{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new D(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $e(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class iD{constructor(e){this._methodName=e}}class oD{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new D(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new D(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Y(this._lat,e._lat)||Y(this._long,e._long)}}const Nre=/^__.*__$/;class Ore{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new pi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ga(e,this.data,n,this.fieldTransforms)}}class n2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new pi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function r2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw O()}}class sg{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new sg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return ug(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(r2(this.Iu)&&Nre.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class kre{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Xl(e)}pu(e,n,r,i=!1){return new sg({Iu:e,methodName:n,gu:r,path:$e.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lu(t){const e=t._freezeSettings(),n=Xl(t._databaseId);return new kre(t._databaseId,!!e.ignoreUndefinedProperties,n)}function sD(t,e,n,r,i,o={}){const s=t.pu(o.merge||o.mergeFields?2:0,e,n,i);uD("Data must be an object, but it was:",s,r);const a=u2(r,s);let u,c;if(o.merge)u=new _n(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const l=[];for(const d of o.mergeFields){const h=od(e,d,n);if(!s.contains(h))throw new D(I.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);l2(l,h)||l.push(h)}u=new _n(l),c=s.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=s.fieldTransforms;return new Ore(new kt(a),u,c)}class id extends iD{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof id}}function is(t,e){if(c2(t=Pn(t)))return uD("Unsupported field value:",e,t),u2(t,e);if(t instanceof iD)return function(r,i){if(!r2(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let u=is(a,i.Vu(s));null==u&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if(null===(r=Pn(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return JV(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const o=qe.fromDate(r);return{timestampValue:za(i.serializer,o)}}if(r instanceof qe){const o=new qe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:za(i.serializer,o)}}if(r instanceof oD)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof rs)return{bytesValue:vF(i.serializer,r._byteString)};if(r instanceof ot){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:DT(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${og(r)}`)}(t,e)}function u2(t,e){const n={};return IV(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zi(t,(r,i)=>{const o=is(i,e.Eu(r));null!=o&&(n[r]=o)}),{mapValue:{fields:n}}}function c2(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof qe||t instanceof oD||t instanceof rs||t instanceof ot||t instanceof iD)}function uD(t,e,n){if(!c2(n)||"object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=og(n);throw e.mu("an object"===r?t+" a custom object":t+" "+r)}var i}function od(t,e,n){if((e=Pn(e))instanceof cu)return e._internalPath;if("string"==typeof e)return ag(t,e);throw ug("Field path arguments must be of type string or ",t,!1,void 0,n)}const Ure=new RegExp("[~\\*/\\[\\]]");function ag(t,e,n){if(e.search(Ure)>=0)throw ug(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new cu(...e.split("."))._internalPath}catch{throw ug(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ug(t,e,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new D(I.INVALID_ARGUMENT,a+t+u)}function l2(t,e){return t.some(n=>n.isEqual(e))}class cD{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ot(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Bre(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(cg("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Bre extends cD{data(){return super.data()}}function cg(t,e){return"string"==typeof e?ag(t,e):e instanceof cu?e._internalPath:e._delegate._internalPath}class $re{convertValue(e,n="none"){switch(Ki(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Je(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(di(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw O()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return zi(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new oD(Je(e.latitude),Je(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ap(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Sl(e));default:return null}}convertTimestamp(e){const n=qi(e);return new qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=he.fromString(e);L(RF(r));const i=new zo(r.get(1),r.get(3)),o=new M(r.popFirst(5));return i.isEqual(n)||rt(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}class os{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hu extends cD{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new fg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(cg("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class fg extends hu{data(e={}){return super.data(e)}}class fu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new os(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new fg(this._firestore,this._userDataWriter,r.key,r,new os(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new D(I.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new fg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new os(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const u=new fg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new os(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,l=-1;return 0!==a.type&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),l=s.indexOf(a.doc.key)),{type:Hre(a.type),doc:u,oldIndex:c,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Hre(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return O()}}class ro extends $re{constructor(e){super(),this.firestore=e}convertBytes(e){return new rs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ot(this.firestore,null,n)}}function zre(t,e,n,...r){t=ue(t,ot);const i=ue(t.firestore,ke),o=lu(i);let s;return s="string"==typeof(e=Pn(e))||e instanceof cu?function s2(t,e,n,r,i,o){const s=t.pu(1,e,n),a=[od(e,r,n)],u=[i];if(o.length%2!=0)throw new D(I.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(od(e,o[h])),u.push(o[h+1]);const c=[],l=kt.empty();for(let h=a.length-1;h>=0;--h)if(!l2(c,a[h])){const f=a[h];let p=u[h];p=Pn(p);const g=s.Ru(f);if(p instanceof id)c.push(f);else{const m=is(p,g);null!=m&&(c.push(f),l.set(f,m))}}const d=new _n(c);return new n2(l,d,s.fieldTransforms)}(o,"updateDoc",t._key,e,n,r):function o2(t,e,n,r){const i=t.pu(1,e,n);uD("Data must be an object, but it was:",i,r);const o=[],s=kt.empty();zi(r,(u,c)=>{const l=ag(e,u,n);c=Pn(c);const d=i.Ru(l);if(c instanceof id)o.push(l);else{const h=is(c,d);null!=h&&(o.push(l),s.set(l,h))}});const a=new _n(o);return new n2(s,a,i.fieldTransforms)}(o,"updateDoc",t._key,e),ad(i,[s.toMutation(t._key,Ge.exists(!0))])}function qre(t){return ad(ue(t.firestore,ke),[new Ha(t._key,Ge.none())])}function Wre(t,e){const n=ue(t.firestore,ke),r=ZL(t),i=function dD(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return ad(n,[sD(lu(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Ge.exists(!1))]).then(()=>r)}function ad(t,e){return function(r,i){const o=new mt;return r.asyncQueue.enqueueAndForget(E(function*(){return function Qne(t,e,n){return bC.apply(this,arguments)}(yield function eD(t){return ig(t).then(e=>e.syncEngine)}(r),i,o)})),o.promise}(st(t),e)}!function(e,n=!0){Pa=xf,ya(new Ro("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new ke(new Cee(r.getProvider("auth-internal")),new bee(r.getProvider("app-check-internal")),function(c,l){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new D(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zo(c.options.projectId,l)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Kn(rV,"4.4.0",e),Kn(rV,"4.4.0","esm2017")}();var mg=function(){return mg=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++)for(var o in n=arguments[r])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},mg.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var aie={includeMetadataChanges:!1};function gD(t,e){return void 0===e&&(e=aie),new He(function(n){var r=function Kre(t,...e){var n,r,i;t=Pn(t);let o={includeMetadataChanges:!1},s=0;"object"!=typeof e[s]||rD(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(rD(e[s])){const d=e[s];e[s]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[s+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[s+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof ot)c=ue(t.firestore,ke),l=La(t._key.path),u={next:d=>{e[s]&&e[s](function hD(t,e,n){const r=n.docs.get(e._key),i=new ro(t);return new hu(t,i,e._key,r,new os(n.hasPendingWrites,n.fromCache),e.converter)}(c,t,d))},error:e[s+1],complete:e[s+2]};else{const d=ue(t,Vt);c=ue(d.firestore,ke),l=d._query;const h=new ro(c);u={next:f=>{e[s]&&e[s](new fu(c,h,d,f))},error:e[s+1],complete:e[s+2]},function d2(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new D(I.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(h,f,p,g){const m=new ng(g),v=new wC(f,m,p);return h.asyncQueue.enqueueAndForget(E(function*(){return function _C(t,e){return yC.apply(this,arguments)}(yield uu(h),v)})),()=>{m.Na(),h.asyncQueue.enqueueAndForget(E(function*(){return function vC(t,e){return IC.apply(this,arguments)}(yield uu(h),v)}))}}(st(c),l,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function pie(t,e){return void 0===e&&(e={}),function fie(t){return gD(t,{includeMetadataChanges:!0}).pipe(me(function(e){return e.docs}))}(t).pipe(me(function(n){return n.map(function(r){return function I2(t,e){var n;void 0===e&&(e={});var r=t.data(e);return t.exists()&&"object"==typeof r&&null!==r&&e.idField?mg(mg({},r),((n={})[e.idField]=t.id,n)):r}(r,e)})}))}class _g{constructor(e){return e}}const C2="firestore",yD=new V("angularfire2.firestore-instances");function yie(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new _g(r)}}const vie={provide:class mie{constructor(){return rI(C2)}},deps:[[new jn,yD]]},Iie={provide:_g,useFactory:function _ie(t,e){const n=function M1(t,e,n){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===n);if(1===o.length)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(C2,t,e);return n&&new _g(n)},deps:[[new jn,yD],Hc]};let Eie=(()=>{class t{constructor(){Kn("angularfire",nI.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Fn({type:t});static \u0275inj=En({providers:[Iie,vie]})}return t})();function wie(t,...e){return{ngModule:Eie,providers:[{provide:yD,useFactory:yie(t),multi:!0,deps:[Ee,en,N1,O1,[new jn,UO],[new jn,yY],...e]}]}}const Tie=Fi(pie,!0),Cie=Fi(Wre,!0),D2=Fi(Sre,!0),Die=Fi(qre,!0),A2=Fi(ZL,!0),b2=Fi(Mre,!0),Aie=Fi(zre,!0);let vD=(()=>{class t{constructor(n){this.fs=n}getMenu(){let n=D2(this.fs,"menu");return Tie(n,{idField:"id"})}addMenu(n){var r=this;return E(function*(){let i=D2(r.fs,"menu");const o={name:n.name,price:n.price};yield Cie(i,o)})()}deleteMenu(n){let r=A2(this.fs,"menu/"+n);return Die(r)}editMenu(n){var r=this;return E(function*(){const i={name:n.name,price:n.price};let o=A2(r.fs,"menu/"+n.id);yield Aie(o,i)})()}static#e=this.\u0275fac=function(r){return new(r||t)(B(_g))};static#t=this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function bie(t,e){if(1&t&&(G(0,"div",2)(1,"h3"),ne(2),$(),G(3,"p",3),ne(4),$()()),2&t){const n=e.$implicit;Ut(2),K_(n.name),Ut(2),ea("",n.price," L.L")}}function Sie(t,e){if(1&t&&(G(0,"div"),bn(1,bie,5,2,"div",1),$()),2&t){const n=e.ngIf;Ut(1),jt("ngForOf",n)}}let Rie=(()=>{class t{constructor(n){this.service=n,this.menuItems=this.service.getMenu().pipe(me(r=>r.map(i=>({id:i.id,name:i.name,price:i.price}))))}static#e=this.\u0275fac=function(r){return new(r||t)(b(vD))};static#t=this.\u0275cmp=er({type:t,selectors:[["app-menu"]],standalone:!0,features:[wo],decls:2,vars:3,consts:[[4,"ngIf"],["class","menu-item text-center",4,"ngFor","ngForOf"],[1,"menu-item","text-center"],[2,"color","orange","font-weight","bold"]],template:function(r,i){1&r&&(bn(0,Sie,2,1,"div",0),oy(1,"async")),2&r&&jt("ngIf",sy(1,1,i.menuItems))},dependencies:[nv,Qy,Yy,Xy],styles:[".menu-container[_ngcontent-%COMP%]{text-align:center;padding:20px}.menu-item[_ngcontent-%COMP%]{margin:20px;padding:20px;border:1px solid #ddd;border-radius:8px;background-color:#fff;box-shadow:0 0 10px #0000001a}.menu-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto;border-radius:8px;margin-bottom:10px}.menu-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#333}.menu-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#777;margin-bottom:10px}.menu-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;color:#e44d26}.orange[_ngcontent-%COMP%]{color:orange}"]})}return t})(),Pie=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=er({type:t,selectors:[["app-contact-info"]],decls:13,vars:0,consts:[[1,"contact-info"],["href","tel:+96176933899",1,"contact-link"],[1,"fa","fa-phone"],["href","http://facebook.com/profile.php?id=61552944133124","target","_blank",1,"contact-link"],[1,"fa","fa-facebook"],["href","https://www.instagram.com/royalchicken_23?igsh=MWlteHk4aWI5bXBzbw==","target","_blank",1,"contact-link"],[1,"fa","fa-instagram"],["href","http://tiktok.com/@royal_chicken94?_t=8iMwI0b3g2c&_r=1","target","_blank",1,"contact-link"],["src","../../../assets/icons8-tiktok-24.png","alt",""]],template:function(r,i){1&r&&(G(0,"div",0)(1,"a",1),Pt(2,"i",2),ne(3," Call Us: 76/933899 "),$(),G(4,"a",3),Pt(5,"i",4),ne(6," Facebook "),$(),G(7,"a",5),Pt(8,"i",6),ne(9," Instagram "),$(),G(10,"a",7),Pt(11,"img",8),ne(12,"\xa0 TikTok "),$()())},styles:[".contact-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px;background-color:#333;color:#fff;border-radius:10px}.contact-link[_ngcontent-%COMP%]{text-decoration:none;color:#fff;margin:10px;display:flex;align-items:center;transition:color .3s}.contact-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px}.contact-link[_ngcontent-%COMP%]:hover{color:orange}"]})}return t})(),Mie=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=er({type:t,selectors:[["app-about"]],standalone:!0,features:[wo],decls:15,vars:0,consts:[[1,"about-restaurant-container"],[1,"restaurant-image-container"],["src","../../../assets/royal.jpg","alt","Restaurant Image",1,"small-image"]],template:function(r,i){1&r&&(G(0,"div",0)(1,"h2"),ne(2,"About Our Restaurant"),$(),G(3,"div",1),Pt(4,"img",2),$(),G(5,"p"),ne(6," Welcome to Royal Chicken, where we serve delicious meals with a touch of passion and excellence. Our restaurant has been a staple in the community for 1 years, bringing people together over great food and warm hospitality. "),$(),G(7,"h3"),ne(8,"Our History"),$(),G(9,"p"),ne(10," Founded in 2023, our restaurant has a rich history rooted in Beirut. Over the years, we've evolved to meet the culinary preferences of our valued patrons while maintaining our commitment to quality and authenticity. "),$(),G(11,"h3"),ne(12,"Our Mission"),$(),G(13,"p"),ne(14," At Royal Chicken, our mission is to let u eat safe. We strive to create a dining experience that goes beyond just satisfying hunger. We aim to provide a welcoming atmosphere, attentive service, and, most importantly, flavors that delight your taste buds. "),$()())},styles:[".about-restaurant-container[_ngcontent-%COMP%]{text-align:left;margin-top:50px}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{color:orange}p[_ngcontent-%COMP%]{color:#333}.restaurant-image-container[_ngcontent-%COMP%]{max-width:100%;overflow:hidden;border-radius:8px;margin-bottom:20px;height:80vh}.small-image[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:10%}"]})}return t})();class S2{constructor(e,n,r){this.id=e,this.name=n,this.price=r}}let R2=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static#e=this.\u0275fac=function(r){return new(r||t)(b(Wr),b(Dn))};static#t=this.\u0275dir=K({type:t})}return t})(),ss=(()=>{class t extends R2{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Rt(t)))(i||t)}}();static#t=this.\u0275dir=K({type:t,features:[we]})}return t})();const Ur=new V("NgValueAccessor"),Oie={provide:Ur,useExisting:Re(()=>yg),multi:!0},Vie=new V("CompositionEventMode");let yg=(()=>{class t extends R2{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function kie(){const t=Pi()?Pi().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static#e=this.\u0275fac=function(r){return new(r||t)(b(Wr),b(Dn),b(Vie,8))};static#t=this.\u0275dir=K({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Qe("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[je([Oie]),we]})}return t})();const Kt=new V("NgValidators"),oo=new V("NgAsyncValidators");function O2(t){return function io(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}(t.value)?{required:!0}:null}function vg(t){return null}function B2(t){return null!=t}function j2(t){return uc(t)?yt(t):t}function $2(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function G2(t,e){return e.map(n=>n(t))}function H2(t){return t.map(e=>function Lie(t){return!t.validate}(e)?e:n=>e.validate(n))}function ID(t){return null!=t?function z2(t){if(!t)return null;const e=t.filter(B2);return 0==e.length?null:function(n){return $2(G2(n,e))}}(H2(t)):null}function ED(t){return null!=t?function q2(t){if(!t)return null;const e=t.filter(B2);return 0==e.length?null:function(n){return function xie(...t){const e=aA(t),{args:n,keys:r}=Wx(t),i=new He(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let u=s,c=s;for(let l=0;l<s;l++){let d=!1;vn(n[l]).subscribe(ut(o,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||o.next(r?Qx(r,a):a),o.complete())}))}});return e?i.pipe(Kx(e)):i}(G2(n,e).map(j2)).pipe(me($2))}}(H2(t)):null}function W2(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function wD(t){return t?Array.isArray(t)?t:[t]:[]}function Ig(t,e){return Array.isArray(t)?t.includes(e):t===e}function Y2(t,e){const n=wD(e);return wD(t).forEach(i=>{Ig(n,i)||n.push(i)}),n}function Z2(t,e){return wD(e).filter(n=>!Ig(t,n))}class J2{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ID(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ED(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class an extends J2{get formDirective(){return null}get path(){return null}}class so extends J2{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class X2{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let eU=(()=>{class t extends X2{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(b(so,2))};static#t=this.\u0275dir=K({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Rh("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[we]})}return t})();const ud="VALID",wg="INVALID",pu="PENDING",cd="DISABLED";function Tg(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class iU{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ud}get invalid(){return this.status===wg}get pending(){return this.status==pu}get disabled(){return this.status===cd}get enabled(){return this.status!==cd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Y2(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Y2(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Z2(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Z2(e,this._rawAsyncValidators))}hasValidator(e){return Ig(this._rawValidators,e)}hasAsyncValidator(e){return Ig(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=pu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=cd,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=ud,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ud||this.status===pu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?cd:ud}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=pu,this._hasOwnPendingAsyncValidator=!0;const n=j2(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ke,this.statusChanges=new Ke}_calculateStatus(){return this._allControlsDisabled()?cd:this.errors?wg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(pu)?pu:this._anyControlsHaveStatus(wg)?wg:ud}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Tg(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Gie(t){return Array.isArray(t)?ID(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Hie(t){return Array.isArray(t)?ED(t):t||null}(this._rawAsyncValidators)}}const gu=new V("CallSetDisabledState",{providedIn:"root",factory:()=>Cg}),Cg="always";function ld(t,e,n=Cg){(function SD(t,e){const n=function K2(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(W2(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function Q2(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(W2(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();bg(e._rawValidators,i),bg(e._rawAsyncValidators,i)})(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function Wie(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&oU(t,e)})}(t,e),function Qie(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function Kie(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&oU(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function qie(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function bg(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function oU(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function uU(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function cU(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const lU=class extends iU{constructor(e=null,n,r){super(function DD(t){return(Tg(t)?t.validators:t)||null}(n),function AD(t,e){return(Tg(e)?e.asyncValidators:t)||null}(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Tg(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=cU(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){uU(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){uU(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){cU(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},roe={provide:so,useExisting:Re(()=>ND)},fU=(()=>Promise.resolve())();let ND=(()=>{class t extends so{constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new lU,this._registered=!1,this.name="",this.update=new Ke,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function MD(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===yg?n=o:function Jie(t){return Object.getPrototypeOf(t.constructor)===ss}(o)?r=o:i=o}),i||r||n||null}(0,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function PD(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ld(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){fU.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&sa(r);fU.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function Dg(t,e){return[...e.path,t]}(n,this._parent):[n]}static#e=this.\u0275fac=function(r){return new(r||t)(b(an,9),b(Kt,10),b(oo,10),b(Ur,10),b(jh,8),b(gu,8))};static#t=this.\u0275dir=K({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[je([roe]),we,Un]})}return t})(),gU=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Fn({type:t});static#n=this.\u0275inj=En({})}return t})(),as=(()=>{class t{constructor(){this._validator=vg}ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):vg,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=K({type:t,features:[Un]})}return t})();const woe={provide:Kt,useExisting:Re(()=>Rg),multi:!0};let Rg=(()=>{class t extends as{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=sa,this.createValidator=n=>O2}enabled(n){return n}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Rt(t)))(i||t)}}();static#t=this.\u0275dir=K({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&Cr("required",i._enabled?"":null)},inputs:{required:"required"},features:[je([woe]),we]})}return t})(),Soe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Fn({type:t});static#n=this.\u0275inj=En({imports:[gU]})}return t})(),Poe=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:gu,useValue:n.callSetDisabledState??Cg}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Fn({type:t});static#n=this.\u0275inj=En({imports:[Soe]})}return t})();function Moe(t,e){if(1&t&&(oc(0),ne(1),sc()),2&t){const n=$t().$implicit;Ut(1),ea(" ",n.name," ")}}function xoe(t,e){1&t&&Pt(0,"p",16)}function Noe(t,e){if(1&t){const n=ac();G(0,"input",14),Qe("ngModelChange",function(i){return yr(n),vr($t().$implicit.name=i)}),$(),bn(1,xoe,1,0,"p",15)}if(2&t){const n=$t().$implicit;jt("ngModel",n.name),Ut(1),jt("ngIf",!n.name)}}function Ooe(t,e){if(1&t&&(oc(0),ne(1),sc()),2&t){const n=$t().$implicit;Ut(1),ea(" ",n.price," ")}}function koe(t,e){1&t&&(G(0,"p",16),ne(1," please enter value "),$())}function Voe(t,e){if(1&t){const n=ac();G(0,"input",14),Qe("ngModelChange",function(i){return yr(n),vr($t().$implicit.price=i)}),$(),bn(1,koe,2,0,"p",15)}if(2&t){const n=$t().$implicit;jt("ngModel",n.price),Ut(1),jt("ngIf",null==!n.price)}}function Foe(t,e){if(1&t){const n=ac();G(0,"tr")(1,"td"),bn(2,Moe,2,1,"ng-container",6),bn(3,Noe,2,2,"ng-template",null,7,py),$(),G(5,"td"),bn(6,Ooe,2,1,"ng-container",6),bn(7,Voe,2,2,"ng-template",null,8,py),$(),G(9,"td")(10,"button",9),Qe("click",function(){const o=yr(n).$implicit;return vr($t().editMenuItem(o.id))}),Pt(11,"i",10),ne(12,"\xa0Edit "),$(),G(13,"button",11),Qe("click",function(){const o=yr(n).$implicit;return vr($t().deleteMenuItem(o.id))}),Pt(14,"i",12),ne(15,"\xa0Delete "),$(),G(16,"button",2),Qe("click",function(){const o=yr(n).$implicit;return vr($t().savEdit(o))}),Pt(17,"i",13),ne(18,"\xa0Save "),$()()()}if(2&t){const n=e.$implicit,r=j_(4),i=j_(8),o=$t();Ut(2),jt("ngIf",o.editingItemId!=n.id)("ngIfElse",r),Ut(4),jt("ngIf",o.editingItemId!=n.id)("ngIfElse",i)}}function Loe(t,e){1&t&&(G(0,"p",16),ne(1," please enter value "),$())}function Uoe(t,e){1&t&&(G(0,"p",16),ne(1," please enter value "),$())}function Boe(t,e){if(1&t){const n=ac();G(0,"tr")(1,"td")(2,"input",17),Qe("ngModelChange",function(i){return yr(n),vr($t().newMenuItem.name=i)}),$(),bn(3,Loe,2,0,"p",15),$(),G(4,"td")(5,"input",18),Qe("ngModelChange",function(i){return yr(n),vr($t().newMenuItem.price=i)}),$(),bn(6,Uoe,2,0,"p",15),$(),G(7,"td")(8,"button",2),Qe("click",function(){return yr(n),vr($t().saveAdd())}),Pt(9,"i",13),ne(10,"\xa0Save "),$(),G(11,"button",9),Qe("click",function(){return yr(n),vr($t().cancel())}),Pt(12,"i",19),ne(13,"\xa0Cancel "),$()()()}if(2&t){const n=$t();Ut(2),jt("ngModel",n.newMenuItem.name),Ut(1),jt("ngIf",!n.newMenuItem.name),Ut(2),jt("ngModel",n.newMenuItem.price),Ut(1),jt("ngIf",!n.newMenuItem.price)}}const joe=[{path:"",component:RK},{path:"menu",component:Rie},{path:"contact",component:Pie},{path:"about",component:Mie},{path:"mesto/admin",component:(()=>{class t{constructor(n){this.service=n,this.editingItemId=null,this.isnew=!1,this.editing=!1,this.newMenuItem=new S2(0,"",null),this.menuItems=this.service.getMenu().pipe(me(r=>r.map(i=>({id:i.id,name:i.name,price:i.price}))))}deleteMenuItem(n){this.service.deleteMenu(n)}editMenuItem(n){this.editingItemId===n?this.editingItemId=null:null==this.editingItemId&&(this.editingItemId=n)}saveAdd(){var n=this;return E(function*(){if(""!=n.newMenuItem.name&&null!=n.newMenuItem.name&&null!=n.newMenuItem.price&&0!=n.newMenuItem.price)try{yield n.service.addMenu(n.newMenuItem),n.isnew=!1,n.editingItemId=null,n.newMenuItem=new S2(0,"",null)}catch(i){console.log(i)}})()}add(){this.isnew=!0}cancel(){this.isnew=!1}savEdit(n){var r=this;return E(function*(){if(""!==n.name&&null!==n.name&&null!==n.price&&0!==n.price){try{yield r.service.editMenu(n)}catch(i){console.log(i)}null!=r.editingItemId&&r.editMenuItem(n.id)}})()}static#e=this.\u0275fac=function(r){return new(r||t)(b(vD))};static#t=this.\u0275cmp=er({type:t,selectors:[["app-admin"]],standalone:!0,features:[wo],decls:19,vars:4,consts:[[1,"text-center"],[1,"table"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-plus"],[4,"ngFor","ngForOf"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["editMode",""],["editModePrice",""],[1,"btn","btn-secondary",3,"click"],[1,"fa","fa-edit"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],[1,"fa","fa-save"],[3,"ngModel","ngModelChange"],["class","text-danger",4,"ngIf"],[1,"text-danger"],["placeholder","Enter name","required","",3,"ngModel","ngModelChange"],["placeholder","Enter price","required","",3,"ngModel","ngModelChange"],[1,"fa","fa-ban"]],template:function(r,i){1&r&&(G(0,"div",0)(1,"h2"),ne(2,"Menu Administration"),$(),G(3,"table",1)(4,"thead")(5,"tr")(6,"th"),ne(7,"Name"),$(),G(8,"th"),ne(9,"Price"),$(),G(10,"th"),ne(11," Action "),G(12,"button",2),Qe("click",function(){return i.add()}),Pt(13,"i",3),ne(14,"Add "),$()()()(),G(15,"tbody"),bn(16,Foe,19,4,"tr",4),oy(17,"async"),bn(18,Boe,14,4,"tr",5),$()()()),2&r&&(Ut(16),jt("ngForOf",sy(17,2,i.menuItems)),Ut(2),jt("ngIf",i.isnew))},dependencies:[nv,Qy,Yy,Xy,Poe,yg,eU,Rg,ND]})}return t})()},{path:"**",component:(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=er({type:t,selectors:[["app-not-found"]],standalone:!0,features:[wo],decls:5,vars:0,consts:[[1,"not-found-container"]],template:function(r,i){1&r&&(G(0,"div",0)(1,"h1"),ne(2,"404 - Not Found"),$(),G(3,"p"),ne(4,"Sorry, the page you are looking for does not exist."),$()())},styles:[".not-found-container[_ngcontent-%COMP%]{text-align:center;margin-top:50px}h1[_ngcontent-%COMP%]{color:#e44d26}p[_ngcontent-%COMP%]{color:#333}"]})}return t})()}];let $oe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Fn({type:t});static#n=this.\u0275inj=En({imports:[t1.forRoot(joe),t1]})}return t})(),Goe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=er({type:t,selectors:[["app-footer"]],decls:12,vars:0,consts:[[1,"p-2","bg-dark","text-white","d-flex","justify-content-between"],[1,"orange","text-left","mb-0"],[1,"text-center","mb-0"],[1,"orange"],[1,"text-right","mb-0"],["href","tel:+96176933899"]],template:function(r,i){1&r&&(G(0,"div",0)(1,"p",1),ne(2," \xa9 2024 Royal Chicken. All rights reserved. "),$(),G(3,"p",2)(4,"span",3),ne(5,"Royal"),$(),ne(6," | Haret Hrek street, Beirut "),$(),G(7,"p",4),ne(8," Contact \xa0 "),G(9,"a",5)(10,"span",3),ne(11,"76/933899"),$()()()())},styles:[".orange[_ngcontent-%COMP%]{color:orange}a[_ngcontent-%COMP%]{text-decoration:none}"]})}return t})(),Hoe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=er({type:t,selectors:[["app-navbar"]],decls:13,vars:0,consts:[[1,"navbar","navbar-dark","bg-dark"],[1,"container-fluid"],["routerLink","/","routerLinkActive","active",1,"navbar-brand"],[1,"d-flex","justify-content-end"],["routerLink","/menu","routerLinkActive","active",1,"nav-link"],["routerLink","/contact","routerLinkActive","active",1,"nav-link"],["routerLink","/about","routerLinkActive","active",1,"nav-link"],["href","assets/menu.jpg",1,"nav-link"]],template:function(r,i){1&r&&(G(0,"nav",0)(1,"div",1)(2,"a",2),ne(3,"Royal Chicken"),$(),G(4,"div",3)(5,"a",4),ne(6,"Menu"),$(),G(7,"a",5),ne(8,"Contact"),$(),G(9,"a",6),ne(10,"About"),$(),G(11,"a",7),ne(12,"Download Menu"),$()()()())},dependencies:[Df,WN],styles:["nav[_ngcontent-%COMP%]{background-color:#000;padding:10px}a[_ngcontent-%COMP%]{text-decoration:none;color:orange;margin-right:20px;font-weight:700}a[_ngcontent-%COMP%]:hover, .active[_ngcontent-%COMP%]{color:#fff}"]})}return t})(),zoe=(()=>{class t{constructor(){this.title="Royal Chicken"}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=er({type:t,selectors:[["app-root"]],decls:3,vars:0,template:function(r,i){1&r&&Pt(0,"app-navbar")(1,"router-outlet")(2,"app-footer")},dependencies:[Pv,Goe,Hoe]})}return t})();const qoe={apiKey:"AIzaSyCJvHtTsC6WlNtPKiMq2SmJ3gWsP8yQKAY",authDomain:"resturant-5822c.firebaseapp.com",projectId:"resturant-5822c",storageBucket:"resturant-5822c.appspot.com",messagingSenderId:"296402790802",appId:"1:296402790802:web:c01923220378f531c4794b",measurementId:"G-JVW4FL1SD4"};let Woe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Fn({type:t,bootstrap:[zoe]});static#n=this.\u0275inj=En({providers:[vD],imports:[z5,$oe,PY(()=>MY(qoe)),wie(()=>b2())]})}return t})();G5().bootstrapModule(Woe).catch(t=>console.error(t))}},Ae=>{Ae(Ae.s=37)}]);